/** widgets
 * @version: 8.5.003.17
 * @license: Genesys Telecom Labs
 * @Modules Present: requireLib,cx-overlay,cx-toaster,cx-boiler,cx-sidebar,cx-webchat,cx-webchat-service,cx-webchat-service-tester,cx-channel-selector,cx-search,cx-appointment,cx-offers,cx-preferences,cx-call-us,cx-cobrowse,cx-gwe,cx-watchman,cx-send-message,cx-send-message-service,cx-survey,cx-console,cx-iscroll,cx-window-manager,cx-knowledge-center,cx-stats-service,cx-callback-service
 **/
var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):-1===a.indexOf("!")?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",bind(this,this.errback)):this.events.error&&i(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b,null,!0))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);e.undefed=!0,d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((-1===h.indexOf("?")?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.18",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requireLib",function(){}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=ea.type(a);return"function"===c||ea.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(ea.isFunction(b))return ea.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return ea.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ma.test(b))return ea.filter(b,a,c);b=ea.filter(b,a)}return ea.grep(a,function(a){return ea.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=ua[a]={};return ea.each(a.match(ta)||[],function(a,c){b[c]=!0}),b}function g(){oa.addEventListener?(oa.removeEventListener("DOMContentLoaded",h,!1),a.removeEventListener("load",h,!1)):(oa.detachEvent("onreadystatechange",h),a.detachEvent("onload",h))}function h(){(oa.addEventListener||"load"===event.type||"complete"===oa.readyState)&&(g(),ea.ready())}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(za,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ya.test(c)?ea.parseJSON(c):c}catch(e){}ea.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!ea.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(ea.acceptData(a)){var e,f,g=ea.expando,h=a.nodeType,i=h?ea.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b)return j||(j=h?a[g]=W.pop()||ea.guid++:g),i[j]||(i[j]=h?{}:{toJSON:ea.noop}),("object"==typeof b||"function"==typeof b)&&(d?i[j]=ea.extend(i[j],b):i[j].data=ea.extend(i[j].data,b)),f=i[j],d||(f.data||(f.data={}),f=f.data),void 0!==c&&(f[ea.camelCase(b)]=c),"string"==typeof b?(e=f[b],null==e&&(e=f[ea.camelCase(b)])):e=f,e}}function l(a,b,c){if(ea.acceptData(a)){var d,e,f=a.nodeType,g=f?ea.cache:a,h=f?a[ea.expando]:ea.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){ea.isArray(b)?b=b.concat(ea.map(b,ea.camelCase)):b in d?b=[b]:(b=ea.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!ea.isEmptyObject(d))return}(c||(delete g[h].data,j(g[h])))&&(f?ea.cleanData([a],!0):ca.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function m(){return!0}function n(){return!1}function o(){try{return oa.activeElement}catch(a){}}function p(a){var b=Ka.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==xa?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==xa?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||ea.nodeName(d,b)?f.push(d):ea.merge(f,q(d,b));return void 0===b||b&&ea.nodeName(a,b)?ea.merge([a],f):f}function r(a){Ea.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return ea.nodeName(a,"table")&&ea.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){return a.type=(null!==ea.find.attr(a,"type"))+"/"+a.type,a}function u(a){var b=Va.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)ea._data(c,"globalEval",!b||ea._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&ea.hasData(a)){var c,d,e,f=ea._data(a),g=ea._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ea.event.add(b,c,h[c][d])}g.data&&(g.data=ea.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ca.noCloneEvent&&b[ea.expando]){e=ea._data(b);for(d in e.events)ea.removeEvent(b,d,e.handle);b.removeAttribute(ea.expando)}"script"===c&&b.text!==a.text?(t(b).text=a.text,u(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ca.html5Clone&&a.innerHTML&&!ea.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Ea.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d,e=ea(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:ea.css(e[0],"display");return e.detach(),f}function z(a){var b=oa,c=_a[a];return c||(c=y(a,b),"none"!==c&&c||($a=($a||ea("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=($a[0].contentWindow||$a[0].contentDocument).document,b.write(),b.close(),c=y(a,b),$a.detach()),_a[a]=c),c}function A(a,b){return{get:function(){var c=a();return null!=c?c?void delete this.get:(this.get=b).apply(this,arguments):void 0}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=mb.length;e--;)if(b=mb[e]+c,b in a)return b;return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ea._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ca(d)&&(f[g]=ea._data(d,"olddisplay",z(d.nodeName)))):(e=Ca(d),(c&&"none"!==c||!e)&&ea._data(d,"olddisplay",e?c:ea.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function D(a,b,c){var d=ib.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ea.css(a,c+Ba[f],!0,e)),d?("content"===c&&(g-=ea.css(a,"padding"+Ba[f],!0,e)),"margin"!==c&&(g-=ea.css(a,"border"+Ba[f]+"Width",!0,e))):(g+=ea.css(a,"padding"+Ba[f],!0,e),"padding"!==c&&(g+=ea.css(a,"border"+Ba[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=ab(a),g=ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=bb(a,b,f),(0>e||null==e)&&(e=a.style[b]),db.test(e))return e;d=g&&(ca.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){return setTimeout(function(){nb=void 0}),nb=ea.now()}function I(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Ba[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function J(a,b,c){for(var d,e=(tb[b]||[]).concat(tb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ca(a),p=ea._data(a,"fxshow");c.queue||(h=ea._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,ea.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=ea.css(a,"display"),k="none"===j?ea._data(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===ea.css(a,"float")&&(ca.inlineBlockNeedsLayout&&"inline"!==z(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ca.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],pb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||ea.style(a,d)}else j=void 0;if(ea.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ea._data(a,"fxshow",{}),f&&(p.hidden=!o),o?ea(a).show():l.done(function(){ea(a).hide()}),l.done(function(){var b;ea._removeData(a,"fxshow");for(b in m)ea.style(a,b,m[b])});for(d in m)g=J(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function L(a,b){var c,d,e,f,g;for(c in a)if(d=ea.camelCase(c),e=b[d],f=a[c],ea.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ea.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function M(a,b,c){var d,e,f=0,g=sb.length,h=ea.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=nb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ea.extend({},b),opts:ea.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:nb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ea.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(L(k,j.opts.specialEasing);g>f;f++)if(d=sb[f].call(j,a,k,j.opts))return d;return ea.map(k,J,j),ea.isFunction(j.opts.start)&&j.opts.start.call(a,j),ea.fx.timer(ea.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ta)||[];if(ea.isFunction(c))for(;d=f[e++];)"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;return f[h]=!0,ea.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=ea.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&ea.extend(!0,a,c),a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(ea.isArray(b))ea.each(b,function(b,e){c||Vb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ea.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return ea.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca={},da="1.11.3",ea=function(a,b){return new ea.fn.init(a,b)},fa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ga=/^-ms-/,ha=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()};ea.fn=ea.prototype={jquery:da,constructor:ea,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=ea.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ea.each(this,a,b)},map:function(a){return this.pushStack(ea.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice},ea.extend=ea.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ea.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(ea.isPlainObject(c)||(b=ea.isArray(c)))?(b?(b=!1,f=a&&ea.isArray(a)?a:[]):f=a&&ea.isPlainObject(a)?a:{},g[d]=ea.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},ea.extend({expando:"jQuery"+(da+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===ea.type(a)},isArray:Array.isArray||function(a){return"array"===ea.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!ea.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==ea.type(a)||a.nodeType||ea.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(ca.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&ea.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ga,"ms-").replace(ha,ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(fa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ea.merge(d,"string"==typeof a?[a]:a):Z.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return Y.apply([],i)},guid:1,
proxy:function(a,b){var c,d,e;return"string"==typeof b&&(e=a[b],b=a,a=e),ea.isFunction(a)?(c=X.call(arguments,2),d=function(){return a.apply(b||this,c.concat(X.call(arguments)))},d.guid=a.guid=a.guid||ea.guid++,d):void 0},now:function(){return+new Date},support:ca}),ea.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ja=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ea.find=ja,ea.expr=ja.selectors,ea.expr[":"]=ea.expr.pseudos,ea.unique=ja.uniqueSort,ea.text=ja.getText,ea.isXMLDoc=ja.isXML,ea.contains=ja.contains;var ka=ea.expr.match.needsContext,la=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ma=/^.[^:#\[\.,]*$/;ea.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ea.find.matchesSelector(d,a)?[d]:[]:ea.find.matches(a,ea.grep(b,function(a){return 1===a.nodeType}))},ea.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(ea(a).filter(function(){for(b=0;e>b;b++)if(ea.contains(d[b],this))return!0}));for(b=0;e>b;b++)ea.find(a,d[b],c);return c=this.pushStack(e>1?ea.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&ka.test(a)?ea(a):a||[],!1).length}});var na,oa=a.document,pa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qa=ea.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pa.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||na).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof ea?b[0]:b,ea.merge(this,ea.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:oa,!0)),la.test(c[1])&&ea.isPlainObject(b))for(c in b)ea.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=oa.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return na.find(a);this.length=1,this[0]=d}return this.context=oa,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ea.isFunction(a)?"undefined"!=typeof na.ready?na.ready(a):a(ea):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),ea.makeArray(a,this))};qa.prototype=ea.fn,na=ea(oa);var ra=/^(?:parents|prev(?:Until|All))/,sa={children:!0,contents:!0,next:!0,prev:!0};ea.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!ea(e).is(c));)1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),ea.fn.extend({has:function(a){var b,c=ea(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ea.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=ka.test(a)||"string"!=typeof a?ea(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ea.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ea.unique(f):f)},index:function(a){return a?"string"==typeof a?ea.inArray(this[0],ea(a)):ea.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ea.unique(ea.merge(this.get(),ea(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ea.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ea.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ea.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return ea.dir(a,"nextSibling")},prevAll:function(a){return ea.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ea.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ea.dir(a,"previousSibling",c)},siblings:function(a){return ea.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ea.sibling(a.firstChild)},contents:function(a){return ea.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ea.merge([],a.childNodes)}},function(a,b){ea.fn[a]=function(c,d){var e=ea.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ea.filter(d,e)),this.length>1&&(sa[a]||(e=ea.unique(e)),ra.test(a)&&(e=e.reverse())),this.pushStack(e)}});var ta=/\S+/g,ua={};ea.Callbacks=function(a){a="string"==typeof a?ua[a]||f(a):ea.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(c=a.memory&&f,d=!0,g=h||0,h=0,e=i.length,b=!0;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){ea.each(b,function(b,c){var d=ea.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=i.length:c&&(h=d,k(c))}return this},remove:function(){return i&&ea.each(arguments,function(a,c){for(var d;(d=ea.inArray(c,i,d))>-1;)i.splice(d,1),b&&(e>=d&&e--,g>=d&&g--)}),this},has:function(a){return a?ea.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],e=0,this},disable:function(){return i=j=c=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,c){return!i||d&&!j||(c=c||[],c=[a,c.slice?c.slice():c],b?j.push(c):k(c)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},ea.extend({Deferred:function(a){var b=[["resolve","done",ea.Callbacks("once memory"),"resolved"],["reject","fail",ea.Callbacks("once memory"),"rejected"],["notify","progress",ea.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ea.Deferred(function(c){ea.each(b,function(b,f){var g=ea.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&ea.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ea.extend(a,d):d}},e={};return d.pipe=d.then,ea.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&ea.isFunction(a.promise)?g:0,i=1===h?a:ea.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?X.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&ea.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var va;ea.fn.ready=function(a){return ea.ready.promise().done(a),this},ea.extend({isReady:!1,readyWait:1,holdReady:function(a){a?ea.readyWait++:ea.ready(!0)},ready:function(a){if(a===!0?!--ea.readyWait:!ea.isReady){if(!oa.body)return setTimeout(ea.ready);ea.isReady=!0,a!==!0&&--ea.readyWait>0||(va.resolveWith(oa,[ea]),ea.fn.triggerHandler&&(ea(oa).triggerHandler("ready"),ea(oa).off("ready")))}}}),ea.ready.promise=function(b){if(!va)if(va=ea.Deferred(),"complete"===oa.readyState)setTimeout(ea.ready);else if(oa.addEventListener)oa.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1);else{oa.attachEvent("onreadystatechange",h),a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&oa.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!ea.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g(),ea.ready()}}()}return va.promise(b)};var wa,xa="undefined";for(wa in ea(ca))break;ca.ownLast="0"!==wa,ca.inlineBlockNeedsLayout=!1,ea(function(){var a,b,c,d;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ca.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=oa.createElement("div");if(null==ca.deleteExpando){ca.deleteExpando=!0;try{delete a.test}catch(b){ca.deleteExpando=!1}}a=null}(),ea.acceptData=function(a){var b=ea.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var ya=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,za=/([A-Z])/g;ea.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?ea.cache[a[ea.expando]]:a[ea.expando],!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}}),ea.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ea.data(f),1===f.nodeType&&!ea._data(f,"parsedAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=ea.camelCase(d.slice(5)),i(f,d,e[d])));ea._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ea.data(this,a)}):arguments.length>1?this.each(function(){ea.data(this,a,b)}):f?i(f,a,ea.data(f,a)):void 0},removeData:function(a){return this.each(function(){ea.removeData(this,a)})}}),ea.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ea._data(a,b),c&&(!d||ea.isArray(c)?d=ea._data(a,b,ea.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=ea.queue(a,b),d=c.length,e=c.shift(),f=ea._queueHooks(a,b),g=function(){ea.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ea._data(a,c)||ea._data(a,c,{empty:ea.Callbacks("once memory").add(function(){ea._removeData(a,b+"queue"),ea._removeData(a,c)})})}}),ea.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ea.queue(this[0],a):void 0===b?this:this.each(function(){var c=ea.queue(this,a,b);ea._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ea.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ea.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ea.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ea._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=["Top","Right","Bottom","Left"],Ca=function(a,b){return a=b||a,"none"===ea.css(a,"display")||!ea.contains(a.ownerDocument,a)},Da=ea.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===ea.type(c)){e=!0;for(h in c)ea.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,ea.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(ea(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Ea=/^(?:checkbox|radio)$/i;!function(){var a=oa.createElement("input"),b=oa.createElement("div"),c=oa.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ca.leadingWhitespace=3===b.firstChild.nodeType,ca.tbody=!b.getElementsByTagName("tbody").length,ca.htmlSerialize=!!b.getElementsByTagName("link").length,ca.html5Clone="<:nav></:nav>"!==oa.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),ca.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",ca.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",ca.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,ca.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){ca.noCloneEvent=!1}),b.cloneNode(!0).click()),null==ca.deleteExpando){ca.deleteExpando=!0;try{delete b.test}catch(d){ca.deleteExpando=!1}}}(),function(){var b,c,d=oa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(ca[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),ca[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Fa=/^(?:input|select|textarea)$/i,Ga=/^key/,Ha=/^(?:mouse|pointer|contextmenu)|click/,Ia=/^(?:focusinfocus|focusoutblur)$/,Ja=/^([^.]*)(?:\.(.+)|)$/;ea.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea._data(a);if(q){for(c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=ea.guid++),(g=q.events)||(g=q.events={}),(k=q.handle)||(k=q.handle=function(a){return typeof ea===xa||a&&ea.event.triggered===a.type?void 0:ea.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(ta)||[""],h=b.length;h--;)f=Ja.exec(b[h])||[],n=p=f[1],o=(f[2]||"").split(".").sort(),n&&(j=ea.event.special[n]||{},n=(e?j.delegateType:j.bindType)||n,j=ea.event.special[n]||{},l=ea.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ea.expr.match.needsContext.test(e),namespace:o.join(".")},i),(m=g[n])||(m=g[n]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),
ea.event.global[n]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ea.hasData(a)&&ea._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ta)||[""],j=b.length;j--;)if(h=Ja.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ea.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ea.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ea.event.remove(a,n+b[j],c,d,!0);ea.isEmptyObject(k)&&(delete q.handle,ea._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||oa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];if(h=k=d=d||oa,3!==d.nodeType&&8!==d.nodeType&&!Ia.test(n+ea.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),g=n.indexOf(":")<0&&"on"+n,b=b[ea.expando]?b:new ea.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ea.makeArray(c,[b]),j=ea.event.special[n]||{},e||!j.trigger||j.trigger.apply(d,c)!==!1)){if(!e&&!j.noBubble&&!ea.isWindow(d)){for(i=j.delegateType||n,Ia.test(i+n)||(h=h.parentNode);h;h=h.parentNode)m.push(h),k=h;k===(d.ownerDocument||oa)&&m.push(k.defaultView||k.parentWindow||a)}for(l=0;(h=m[l++])&&!b.isPropagationStopped();)b.type=l>1?i:j.bindType||n,f=(ea._data(h,"events")||{})[b.type]&&ea._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&ea.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=n,!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&ea.acceptData(d)&&g&&d[n]&&!ea.isWindow(d)){k=d[g],k&&(d[g]=null),ea.event.triggered=n;try{d[n]()}catch(p){}ea.event.triggered=void 0,k&&(d[g]=k)}return b.result}},dispatch:function(a){a=ea.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(ea._data(this,"events")||{})[a.type]||[],j=ea.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=ea.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,f=0;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(d.namespace))&&(a.handleObj=d,a.data=d.data,c=((ea.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?ea(c,this).index(i)>=0:ea.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[ea.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ha.test(e)?this.mouseHooks:Ga.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ea.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||oa),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||oa,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===o()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ea.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return ea.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ea.extend(new ea.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ea.event.trigger(e,null,b):ea.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ea.removeEvent=oa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===xa&&(a[d]=null),a.detachEvent(d,c))},ea.Event=function(a,b){return this instanceof ea.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?m:n):this.type=a,b&&ea.extend(this,b),this.timeStamp=a&&a.timeStamp||ea.now(),void(this[ea.expando]=!0)):new ea.Event(a,b)},ea.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=m,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},ea.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ea.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ea.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ca.submitBubbles||(ea.event.special.submit={setup:function(){return ea.nodeName(this,"form")?!1:void ea.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=ea.nodeName(b,"input")||ea.nodeName(b,"button")?b.form:void 0;c&&!ea._data(c,"submitBubbles")&&(ea.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),ea._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ea.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return ea.nodeName(this,"form")?!1:void ea.event.remove(this,"._submit")}}),ca.changeBubbles||(ea.event.special.change={setup:function(){return Fa.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ea.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ea.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ea.event.simulate("change",this,a,!0)})),!1):void ea.event.add(this,"beforeactivate._change",function(a){var b=a.target;Fa.test(b.nodeName)&&!ea._data(b,"changeBubbles")&&(ea.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ea.event.simulate("change",this.parentNode,a,!0)}),ea._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ea.event.remove(this,"._change"),!Fa.test(this.nodeName)}}),ca.focusinBubbles||ea.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ea.event.simulate(b,a.target,ea.event.fix(a),!0)};ea.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ea._data(d,b);e||d.addEventListener(a,c,!0),ea._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ea._data(d,b)-1;e?ea._data(d,b,e):(d.removeEventListener(a,c,!0),ea._removeData(d,b))}}}),ea.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=n;else if(!d)return this;return 1===e&&(g=d,d=function(a){return ea().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=ea.guid++)),this.each(function(){ea.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ea(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=n),this.each(function(){ea.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){ea.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?ea.event.trigger(a,b,c,!0):void 0}});var Ka="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",La=/ jQuery\d+="(?:null|\d+)"/g,Ma=new RegExp("<(?:"+Ka+")[\\s/>]","i"),Na=/^\s+/,Oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pa=/<([\w:]+)/,Qa=/<tbody/i,Ra=/<|&#?\w+;/,Sa=/<(?:script|style|link)/i,Ta=/checked\s*(?:[^=]|=\s*.checked.)/i,Ua=/^$|\/(?:java|ecma)script/i,Va=/^true\/(.*)/,Wa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ca.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ya=p(oa),Za=Ya.appendChild(oa.createElement("div"));Xa.optgroup=Xa.option,Xa.tbody=Xa.tfoot=Xa.colgroup=Xa.caption=Xa.thead,Xa.th=Xa.td,ea.extend({clone:function(a,b,c){var d,e,f,g,h,i=ea.contains(a.ownerDocument,a);if(ca.html5Clone||ea.isXMLDoc(a)||!Ma.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Za.innerHTML=a.outerHTML,Za.removeChild(f=Za.firstChild)),!(ca.noCloneEvent&&ca.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ea.isXMLDoc(a)))for(d=q(f),h=q(a),g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g]);if(b)if(c)for(h=h||q(a),d=d||q(f),g=0;null!=(e=h[g]);g++)w(e,d[g]);else w(a,f);return d=q(f,"script"),d.length>0&&v(d,!i&&q(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++)if(f=a[o],f||0===f)if("object"===ea.type(f))ea.merge(n,f.nodeType?[f]:f);else if(Ra.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Pa.exec(f)||["",""])[1].toLowerCase(),k=Xa[i]||Xa._default,h.innerHTML=k[1]+f.replace(Oa,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ca.leadingWhitespace&&Na.test(f)&&n.push(b.createTextNode(Na.exec(f)[0])),!ca.tbody)for(f="table"!==i||Qa.test(f)?"<table>"!==k[1]||Qa.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ea.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ea.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),ca.appendChecked||ea.grep(q(n,"input"),r),o=0;f=n[o++];)if((!d||-1===ea.inArray(f,d))&&(g=ea.contains(f.ownerDocument,f),h=q(m.appendChild(f),"script"),g&&v(h),c))for(e=0;f=h[e++];)Ua.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ea.expando,i=ea.cache,j=ca.deleteExpando,k=ea.event.special;null!=(c=a[g]);g++)if((b||ea.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ea.event.remove(c,d):ea.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==xa?c.removeAttribute(h):c[h]=null,W.push(e))}}}),ea.fn.extend({text:function(a){return Da(this,function(a){return void 0===a?ea.text(this):this.empty().append((this[0]&&this[0].ownerDocument||oa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?ea.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||ea.cleanData(q(c)),c.parentNode&&(b&&ea.contains(c.ownerDocument,c)&&v(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ea.cleanData(q(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ea.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ea.clone(this,a,b)})},html:function(a){return Da(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(La,""):void 0;if(!("string"!=typeof a||Sa.test(a)||!ca.htmlSerialize&&Ma.test(a)||!ca.leadingWhitespace&&Na.test(a)||Xa[(Pa.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Oa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(ea.cleanData(q(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,ea.cleanData(q(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=ea.isFunction(m);if(n||j>1&&"string"==typeof m&&!ca.checkClone&&Ta.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(h=ea.buildFragment(a,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(f=ea.map(q(h,"script"),t),e=f.length;j>i;i++)d=h,i!==l&&(d=ea.clone(d,!0,!0),e&&ea.merge(f,q(d,"script"))),b.call(this[i],d,i);if(e)for(g=f[f.length-1].ownerDocument,ea.map(f,u),i=0;e>i;i++)d=f[i],Ua.test(d.type||"")&&!ea._data(d,"globalEval")&&ea.contains(g,d)&&(d.src?ea._evalUrl&&ea._evalUrl(d.src):ea.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Wa,"")));h=c=null}return this}}),ea.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ea.fn[a]=function(a){for(var c,d=0,e=[],f=ea(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ea(f[d])[b](c),Z.apply(e,c.get());return this.pushStack(e)}});var $a,_a={};!function(){var a;ca.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=oa.getElementsByTagName("body")[0],c&&c.style?(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==xa&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(oa.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var ab,bb,cb=/^margin/,db=new RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),eb=/^(top|right|bottom|left)$/;a.getComputedStyle?(ab=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||ea.contains(a.ownerDocument,a)||(g=ea.style(a,b)),db.test(g)&&cb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):oa.documentElement.currentStyle&&(ab=function(a){return a.currentStyle},bb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||ab(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),db.test(g)&&!eb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),function(){function b(){var b,c,d,e;c=oa.getElementsByTagName("body")[0],c&&c.style&&(b=oa.createElement("div"),d=oa.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f=g=!1,i=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(b,null)||{}).top,g="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,e=b.appendChild(oa.createElement("div")),e.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",b.style.width="1px",i=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(e)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=b.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",h=0===e[0].offsetHeight,h&&(e[0].style.display="",e[1].style.display="none",h=0===e[0].offsetHeight),c.removeChild(d))}var c,d,e,f,g,h,i;c=oa.createElement("div"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=c.getElementsByTagName("a")[0],d=e&&e.style,d&&(d.cssText="float:left;opacity:.5",ca.opacity="0.5"===d.opacity,ca.cssFloat=!!d.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ca.clearCloneStyle="content-box"===c.style.backgroundClip,ca.boxSizing=""===d.boxSizing||""===d.MozBoxSizing||""===d.WebkitBoxSizing,ea.extend(ca,{reliableHiddenOffsets:function(){return null==h&&b(),h},boxSizingReliable:function(){return null==g&&b(),g},pixelPosition:function(){return null==f&&b(),f},reliableMarginRight:function(){return null==i&&b(),i}}))}(),ea.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var fb=/alpha\([^)]*\)/i,gb=/opacity\s*=\s*([^)]*)/,hb=/^(none|table(?!-c[ea]).+)/,ib=new RegExp("^("+Aa+")(.*)$","i"),jb=new RegExp("^([+-])=("+Aa+")","i"),kb={position:"absolute",visibility:"hidden",display:"block"},lb={letterSpacing:"0",fontWeight:"400"},mb=["Webkit","O","Moz","ms"];ea.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ca.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=ea.camelCase(b),i=a.style;if(b=ea.cssProps[h]||(ea.cssProps[h]=B(i,h)),g=ea.cssHooks[b]||ea.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=jb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(ea.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||ea.cssNumber[h]||(c+="px"),ca.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=ea.camelCase(b);return b=ea.cssProps[h]||(ea.cssProps[h]=B(a.style,h)),g=ea.cssHooks[b]||ea.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=bb(a,b,d)),"normal"===f&&b in lb&&(f=lb[b]),""===c||c?(e=parseFloat(f),c===!0||ea.isNumeric(e)?e||0:f):f}}),ea.each(["height","width"],function(a,b){ea.cssHooks[b]={get:function(a,c,d){return c?hb.test(ea.css(a,"display"))&&0===a.offsetWidth?ea.swap(a,kb,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&ab(a);return D(a,c,d?E(a,b,d,ca.boxSizing&&"border-box"===ea.css(a,"boxSizing",!1,e),e):0)}}}),ca.opacity||(ea.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ea.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ea.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),ea.cssHooks.marginRight=A(ca.reliableMarginRight,function(a,b){return b?ea.swap(a,{display:"inline-block"},bb,[a,"marginRight"]):void 0}),ea.each({margin:"",padding:"",border:"Width"},function(a,b){ea.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Ba[d]+b]=f[d]||f[d-2]||f[0];return e}},cb.test(a)||(ea.cssHooks[a+b].set=D)}),ea.fn.extend({css:function(a,b){return Da(this,function(a,b,c){var d,e,f={},g=0;if(ea.isArray(b)){for(d=ab(a),e=b.length;e>g;g++)f[b[g]]=ea.css(a,b[g],!1,d);return f}return void 0!==c?ea.style(a,b,c):ea.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ca(this)?ea(this).show():ea(this).hide()})}}),ea.Tween=G,G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ea.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];return this.pos=b=this.options.duration?ea.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ea.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ea.fx.step[a.prop]?ea.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ea.cssProps[a.prop]]||ea.cssHooks[a.prop])?ea.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ea.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ea.fx=G.prototype.init,ea.fx.step={};var nb,ob,pb=/^(?:toggle|show|hide)$/,qb=new RegExp("^(?:([+-])=|)("+Aa+")([a-z%]*)$","i"),rb=/queueHooks$/,sb=[K],tb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=qb.exec(b),f=e&&e[3]||(ea.cssNumber[a]?"":"px"),g=(ea.cssNumber[a]||"px"!==f&&+d)&&qb.exec(ea.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,ea.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};ea.Animation=ea.extend(M,{tweener:function(a,b){ea.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],tb[c]=tb[c]||[],tb[c].unshift(b)},prefilter:function(a,b){b?sb.unshift(a):sb.push(a)}}),ea.speed=function(a,b,c){var d=a&&"object"==typeof a?ea.extend({},a):{complete:c||!c&&b||ea.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ea.isFunction(b)&&b};return d.duration=ea.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ea.fx.speeds?ea.fx.speeds[d.duration]:ea.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ea.isFunction(d.old)&&d.old.call(this),d.queue&&ea.dequeue(this,d.queue)},d},ea.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ca).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ea.isEmptyObject(a),f=ea.speed(b,c,d),g=function(){var b=M(this,ea.extend({},a),f);(e||ea._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ea.timers,g=ea._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&rb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&ea.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ea._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ea.timers,g=d?d.length:0;for(c.finish=!0,ea.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ea.each(["toggle","show","hide"],function(a,b){var c=ea.fn[b];ea.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}}),ea.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ea.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ea.timers=[],ea.fx.tick=function(){var a,b=ea.timers,c=0;for(nb=ea.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||ea.fx.stop(),nb=void 0},ea.fx.timer=function(a){ea.timers.push(a),a()?ea.fx.start():ea.timers.pop()},ea.fx.interval=13,ea.fx.start=function(){ob||(ob=setInterval(ea.fx.tick,ea.fx.interval))},ea.fx.stop=function(){clearInterval(ob),ob=null},ea.fx.speeds={slow:600,fast:200,_default:400},ea.fn.delay=function(a,b){return a=ea.fx?ea.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=oa.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=oa.createElement("select"),e=c.appendChild(oa.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",ca.getSetAttribute="t"!==b.className,ca.style=/top/.test(d.getAttribute("style")),ca.hrefNormalized="/a"===d.getAttribute("href"),ca.checkOn=!!a.value,ca.optSelected=e.selected,ca.enctype=!!oa.createElement("form").enctype,c.disabled=!0,ca.optDisabled=!e.disabled,a=oa.createElement("input"),a.setAttribute("value",""),ca.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),ca.radioValue="t"===a.value}();var ub=/\r/g;ea.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=ea.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ea(this).val()):a,null==e?e="":"number"==typeof e?e+="":ea.isArray(e)&&(e=ea.map(e,function(a){return null==a?"":a+""})),b=ea.valHooks[this.type]||ea.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=ea.valHooks[e.type]||ea.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ub,""):null==c?"":c)):void 0}}),ea.extend({valHooks:{option:{get:function(a){var b=ea.find.attr(a,"value");return null!=b?b:ea.trim(ea.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(ca.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ea.nodeName(c.parentNode,"optgroup"))){if(b=ea(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=ea.makeArray(b),g=e.length;g--;)if(d=e[g],ea.inArray(ea.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),ea.each(["radio","checkbox"],function(){ea.valHooks[this]={set:function(a,b){return ea.isArray(b)?a.checked=ea.inArray(ea(a).val(),b)>=0:void 0}},ca.checkOn||(ea.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vb,wb,xb=ea.expr.attrHandle,yb=/^(?:checked|selected)$/i,zb=ca.getSetAttribute,Ab=ca.input;ea.fn.extend({attr:function(a,b){return Da(this,ea.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ea.removeAttr(this,a)})}}),ea.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===xa?ea.prop(a,b,c):(1===f&&ea.isXMLDoc(a)||(b=b.toLowerCase(),d=ea.attrHooks[b]||(ea.expr.match.bool.test(b)?wb:vb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=ea.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void ea.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ta);if(f&&1===a.nodeType)for(;c=f[e++];)d=ea.propFix[c]||c,ea.expr.match.bool.test(c)?Ab&&zb||!yb.test(c)?a[d]=!1:a[ea.camelCase("default-"+c)]=a[d]=!1:ea.attr(a,c,""),a.removeAttribute(zb?c:d)},attrHooks:{type:{set:function(a,b){if(!ca.radioValue&&"radio"===b&&ea.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),wb={set:function(a,b,c){return b===!1?ea.removeAttr(a,c):Ab&&zb||!yb.test(c)?a.setAttribute(!zb&&ea.propFix[c]||c,c):a[ea.camelCase("default-"+c)]=a[c]=!0,c}},ea.each(ea.expr.match.bool.source.match(/\w+/g),function(a,b){var c=xb[b]||ea.find.attr;xb[b]=Ab&&zb||!yb.test(b)?function(a,b,d){var e,f;return d||(f=xb[b],xb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,xb[b]=f),e}:function(a,b,c){return c?void 0:a[ea.camelCase("default-"+b)]?b.toLowerCase():null}}),Ab&&zb||(ea.attrHooks.value={set:function(a,b,c){return ea.nodeName(a,"input")?void(a.defaultValue=b):vb&&vb.set(a,b,c)}}),zb||(vb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},xb.id=xb.name=xb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},ea.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:vb.set},ea.attrHooks.contenteditable={set:function(a,b,c){vb.set(a,""===b?!1:b,c)}},ea.each(["width","height"],function(a,b){ea.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),ca.style||(ea.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Bb=/^(?:input|select|textarea|button|object)$/i,Cb=/^(?:a|area)$/i;ea.fn.extend({prop:function(a,b){
return Da(this,ea.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ea.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),ea.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!ea.isXMLDoc(a),f&&(b=ea.propFix[b]||b,e=ea.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){var b=ea.find.attr(a,"tabindex");return b?parseInt(b,10):Bb.test(a.nodeName)||Cb.test(a.nodeName)&&a.href?0:-1}}}}),ca.hrefNormalized||ea.each(["href","src"],function(a,b){ea.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),ca.optSelected||(ea.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),ea.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ea.propFix[this.toLowerCase()]=this}),ca.enctype||(ea.propFix.enctype="encoding");var Db=/[\t\r\n\f]/g;ea.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=ea.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(ea.isFunction(a))return this.each(function(b){ea(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(ta)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Db," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?ea.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(ea.isFunction(a)?function(c){ea(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=ea(this),f=a.match(ta)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===xa||"boolean"===c)&&(this.className&&ea._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ea._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Db," ").indexOf(b)>=0)return!0;return!1}}),ea.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ea.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ea.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb=ea.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ea.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=ea.trim(b+"");return e&&!ea.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():ea.error("Invalid JSON: "+b)},ea.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||ea.error("Invalid XML: "+b),c};var Hb,Ib,Jb=/#.*$/,Kb=/([?&])_=[^&]*/,Lb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nb=/^(?:GET|HEAD)$/,Ob=/^\/\//,Pb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qb={},Rb={},Sb="*/".concat("*");try{Ib=location.href}catch(Tb){Ib=oa.createElement("a"),Ib.href="",Ib=Ib.href}Hb=Pb.exec(Ib.toLowerCase())||[],ea.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ib,type:"GET",isLocal:Mb.test(Hb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ea.parseJSON,"text xml":ea.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,ea.ajaxSettings),b):P(ea.ajaxSettings,a)},ajaxPrefilter:N(Qb),ajaxTransport:N(Rb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),j=void 0,g=d||"",v.readyState=a>0?4:0,e=a>=200&&300>a||304===a,c&&(s=Q(l,v,c)),s=R(l,s,v,e),e?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(ea.lastModified[f]=u),u=v.getResponseHeader("etag"),u&&(ea.etag[f]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,e=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]),p.fireWith(m,[v,w]),i&&(n.trigger("ajaxComplete",[v,l]),--ea.active||ea.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=ea.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?ea(m):ea.event,o=ea.Deferred(),p=ea.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k)for(k={};b=Lb.exec(g);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return j&&j.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||Ib)+"").replace(Jb,"").replace(Ob,Hb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=ea.trim(l.dataType||"*").toLowerCase().match(ta)||[""],null==l.crossDomain&&(d=Pb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Hb[1]&&d[2]===Hb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Hb[3]||("http:"===Hb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=ea.param(l.data,l.traditional)),O(Qb,l,b,v),2===t)return v;i=ea.event&&l.global,i&&0===ea.active++&&ea.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Nb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Kb.test(f)?f.replace(Kb,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(ea.lastModified[f]&&v.setRequestHeader("If-Modified-Since",ea.lastModified[f]),ea.etag[f]&&v.setRequestHeader("If-None-Match",ea.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Sb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);if(j=O(Rb,l,b,v)){v.readyState=1,i&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return ea.get(a,b,c,"json")},getScript:function(a,b){return ea.get(a,void 0,b,"script")}}),ea.each(["get","post"],function(a,b){ea[b]=function(a,c,d,e){return ea.isFunction(c)&&(e=e||d,d=c,c=void 0),ea.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),ea._evalUrl=function(a){return ea.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ea.fn.extend({wrapAll:function(a){if(ea.isFunction(a))return this.each(function(b){ea(this).wrapAll(a.call(this,b))});if(this[0]){var b=ea(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(ea.isFunction(a)?function(b){ea(this).wrapInner(a.call(this,b))}:function(){var b=ea(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ea.isFunction(a);return this.each(function(c){ea(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ea.nodeName(this,"body")||ea(this).replaceWith(this.childNodes)}).end()}}),ea.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!ca.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||ea.css(a,"display"))},ea.expr.filters.visible=function(a){return!ea.expr.filters.hidden(a)};var Ub=/%20/g,Vb=/\[\]$/,Wb=/\r?\n/g,Xb=/^(?:submit|button|image|reset|file)$/i,Yb=/^(?:input|select|textarea|keygen)/i;ea.param=function(a,b){var c,d=[],e=function(a,b){b=ea.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=ea.ajaxSettings&&ea.ajaxSettings.traditional),ea.isArray(a)||a.jquery&&!ea.isPlainObject(a))ea.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Ub,"+")},ea.fn.extend({serialize:function(){return ea.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ea.prop(this,"elements");return a?ea.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ea(this).is(":disabled")&&Yb.test(this.nodeName)&&!Xb.test(a)&&(this.checked||!Ea.test(a))}).map(function(a,b){var c=ea(this).val();return null==c?null:ea.isArray(c)?ea.map(c,function(a){return{name:b.name,value:a.replace(Wb,"\r\n")}}):{name:b.name,value:c.replace(Wb,"\r\n")}}).get()}}),ea.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var Zb=0,$b={},_b=ea.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in $b)$b[a](void 0,!0)}),ca.cors=!!_b&&"withCredentials"in _b,_b=ca.ajax=!!_b,_b&&ea.ajaxTransport(function(a){if(!a.crossDomain||ca.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Zb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete $b[g],b=void 0,f.onreadystatechange=ea.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=$b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}}),ea.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ea.globalEval(a),a}}}),ea.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ea.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=oa.head||ea("head")[0]||oa.documentElement;return{send:function(d,e){b=oa.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ac=[],bc=/(=)\?(?=&|$)|\?\?/;ea.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ac.pop()||ea.expando+"_"+Eb++;return this[a]=!0,a}}),ea.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ea.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ea.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ac.push(e)),g&&ea.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),ea.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||oa;var d=la.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ea.buildFragment([a],b,e),e&&e.length&&ea(e).remove(),ea.merge([],d.childNodes))};var cc=ea.fn.load;ea.fn.load=function(a,b,c){if("string"!=typeof a&&cc)return cc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=ea.trim(a.slice(h,a.length)),a=a.slice(0,h)),ea.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&ea.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?ea("<div>").append(ea.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},ea.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ea.fn[b]=function(a){return this.on(b,a)}}),ea.expr.filters.animated=function(a){return ea.grep(ea.timers,function(b){return a===b.elem}).length};var dc=a.document.documentElement;ea.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ea.css(a,"position"),l=ea(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ea.css(a,"top"),i=ea.css(a,"left"),j=("absolute"===k||"fixed"===k)&&ea.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ea.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ea.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ea.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;return f?(b=f.documentElement,ea.contains(b,e)?(typeof e.getBoundingClientRect!==xa&&(d=e.getBoundingClientRect()),c=V(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d):void 0},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ea.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ea.nodeName(a[0],"html")||(c=a.offset()),c.top+=ea.css(a[0],"borderTopWidth",!0),c.left+=ea.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ea.css(d,"marginTop",!0),left:b.left-c.left-ea.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||dc;a&&!ea.nodeName(a,"html")&&"static"===ea.css(a,"position");)a=a.offsetParent;return a||dc})}}),ea.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);ea.fn[a]=function(d){return Da(this,function(a,d,e){var f=V(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?ea(f).scrollLeft():e,c?e:ea(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),ea.each(["top","left"],function(a,b){ea.cssHooks[b]=A(ca.pixelPosition,function(a,c){return c?(c=bb(a,b),db.test(c)?ea(a).position()[b]+"px":c):void 0})}),ea.each({Height:"height",Width:"width"},function(a,b){ea.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ea.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Da(this,function(b,c,d){var e;return ea.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?ea.css(b,c,g):ea.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),ea.fn.size=function(){return this.length},ea.fn.andSelf=ea.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ea});var ec=a.jQuery,fc=a.$;return ea.noConflict=function(b){return a.$===ea&&(a.$=fc),b&&a.jQuery===ea&&(a.jQuery=ec),ea},ea}),define("jquery-private",["jquery"],function(a){return a.noConflict()}),!function(){function a(a){typeof a==L&&(typeof a.debug==J&&(D=a.debug),typeof a.nsRoot==K&&(E=a.nsRoot),typeof a.nsPlugin==K&&(F=a.nsPlugin),typeof a.nsStrict==J&&(G=a.nsStrict),typeof a.log==J&&(H=a.log),typeof a.logStore==J&&(I=a.logStore),s("CXBus configuration changed"))}function b(){var a=C;return C=void 0,s("CXBus Master Control Registered"),a}function c(a){var b=g("plugin",a);return B||y[b]?(B?s("Can't register plugin "+b+" -- Registration is locked."):y[b]&&s("Can't register plugin "+b+" -- Name is already taken"),x):(y[b]={name:a,namespace:b,"interface":d(b),events:[],commands:[],data:{}},s("New Plugin Registered: "+b),e(y[b]),y[b]["interface"])}function d(a){return{publish:function(b,c){return m(a,b,c)},publishDirect:function(b,c){return m(a,b,c,x,w)},republish:function(b,c){return m(a,b,c,w)},subscribe:function(b,c){return o(a,b,c)},unsubscribe:function(b){return p(a,b)},command:function(b,c){return q(a,b,c)},registerCommand:function(b,c){return k(a,b,c)},registerEvents:function(b){l(a,b)},parsePluginName:function(a){return h(a)},namespace:function(){return a+""},subscribers:function(){return r(a)},data:function(){return $.extend({},y[sName].data)}}}function e(a){var b=a["interface"];b.registerCommand("Commands",function(){f(a,"Commands")}),b.registerCommand("Events",function(){f(a,"Events")})}function f(a,b){s("List of "+b+" for: "+a.namespace);for(var c in a[b.toLowerCase()])s(c)}function g(a,b){var b=b||"",c=[];switch(a.toLowerCase()){case"root":c=[E];break;case"plugin":c=[E,F,b]}return u(c)}function h(a){var b=a.split(".")||[];return b.length>=3&&b[0]==E&&b[1]==F&&b[2]?b[2]+"":x}function i(a){return y[a]||y[g("plugin",a)]||x}function j(a){var b=a.split(".")||[],c=x;return 4==b.length&&b[0]==E&&b[1]==F&&b[2]?(c=i(b[2]),c?c.commands[b[3]]||x:x):x}function k(a,b,c){var d=i(a);return d?(d.commands[b]=c,s(a+" registered the command: "+b),w):x}function l(a,b){var c=i(a),b=b||[];if(typeof b==K&&(b=[b]),c&&b.length>0){for(var d=0;d<b.length;d++)c.events[b[d]]||(c.events[b[d]]=!0);return s(a+" registered the events: "+b.join(", ")),w}return x}function m(a,b,c,d,e){var f=i(a),g=u([a,b]),h=a+" published: "+b;if(f){if(d===w&&(z[g]?z[g].republish=w:z[g]={subscribers:[],republish:w}),e||s(h),z[g]){e&&s(h);for(var j=z[g].subscribers,k=0;k<j.length;k++)t(j[k].callback,{time:(new Date).getTime(),publisher:f.namespace,event:g,data:c||{}})}return w}return x}function n(a,b,c){s(b+" republished: "+a),t(c,{time:(new Date).getTime(),publisher:b,event:a,data:{}})}function o(a,b,c){b&&1===b.split(".").length?b=u([sCommander,b]):!G&&b&&2===b.split(".").length&&(b=u([E,F,b]));var d=((b||"").split(".")||[],i(a)),e=i(h(b));return c&&d?(z[b]||(z[b]={subscribers:[],republish:x}),z[b].subscribers.push({subscriber:a,callback:c}),s(a+" subscribed to "+b),z[b].republish===w&&e&&n(b,e.namespace,c),b):x}function p(a,b){var c=i(a);if(c&&z[b]&&z[b].subscribers){for(var d=[],e=0;e<z[b].subscribers.length;e++)z[b].subscribers[e].subscriber!=a&&d.push(z[b].subscribers[e]);return d.length>0?z[b].subscribers=d:delete z[b],s(a+" unsubscribed from "+b),w}return x}function q(a,b,c){b&&1===b.split(".").length?b=u([a,b]):!G&&b&&2===b.split(".").length&&(b=u([E,F,b]));var d=j(b),e={time:(new Date).getTime(),commander:a,command:b,deferred:new v.Deferred,data:c||{}};return e.deferred.promise().fail(function(a){var c="Error ("+b+"): ";typeof a==K?s(c+a):(s(c),s(a))}),d?(s(a+" called the command: "+b),t(function(){d(e)})):t(function(){e.deferred.reject(N)}),e.deferred.promise()}function r(a){var b={};for(var c in z)if(c.match(a)){b[c]||(b[c]=[]);for(var d=0;d<z[c].subscribers.length;d++)b[c].push(z[c].subscribers[d].subscriber)}return b}function s(a){H&&(I&&A.push(a+""),D&&console.log(a))}function t(a,b,c){setTimeout(function(){a(b)},c||0)}function u(a){return a.join(".")}var v={};!function(a){function b(a){return"[object Array]"===Object.prototype.toString.call(a)}function c(a,c){if(b(a))for(var d=0;d<a.length;d++)c(a[d]);else c(a)}function d(a){var e="pending",f=[],g=[],h=[],i=null,j={done:function(){for(var a=0;a<arguments.length;a++)if(arguments[a])if(b(arguments[a]))for(var c=arguments[a],d=0;d<c.length;d++)"resolved"===e&&c[d].apply(this,i),f.push(c[d]);else"resolved"===e&&arguments[a].apply(this,i),f.push(arguments[a]);return this},fail:function(){for(var a=0;a<arguments.length;a++)if(arguments[a])if(b(arguments[a]))for(var c=arguments[a],d=0;d<c.length;d++)"rejected"===e&&c[d].apply(this,i),g.push(c[d]);else"rejected"===e&&arguments[a].apply(this,i),g.push(arguments[a]);return this},always:function(){return this.done.apply(this,arguments).fail.apply(this,arguments)},progress:function(){for(var a=0;a<arguments.length;a++)if(arguments[a])if(b(arguments[a]))for(var c=arguments[a],d=0;d<c.length;d++)"pending"===e&&h.push(c[d]);else"pending"===e&&h.push(arguments[a]);return this},then:function(){arguments.length>1&&arguments[1]&&this.fail(arguments[1]),arguments.length>0&&arguments[0]&&this.done(arguments[0]),arguments.length>2&&arguments[2]&&this.progress(arguments[2])},promise:function(a){if(null==a)return j;for(var b in j)a[b]=j[b];return a},state:function(){return e},debug:function(){console.log("[debug]",f,g,e)},isRejected:function(){return"rejected"===e},isResolved:function(){return"resolved"===e},pipe:function(a,b){return d(function(d){c(a,function(a){k.done("function"==typeof a?function(){var b=a.apply(this,arguments);b&&"function"==typeof b?b.promise().then(d.resolve,d.reject,d.notify):d.resolve(b)}:d.resolve)}),c(b,function(a){k.fail("function"==typeof a?function(){var b=a.apply(this,arguments);b&&"function"==typeof b?b.promise().then(d.resolve,d.reject,d.notify):d.reject(b)}:d.reject)})}).promise()}},k={resolveWith:function(a){if("pending"===e){e="resolved";for(var b=i=arguments.length>1?arguments[1]:[],c=0;c<f.length;c++)f[c].apply(a,b)}return this},rejectWith:function(a){if("pending"===e){e="rejected";for(var b=i=arguments.length>1?arguments[1]:[],c=0;c<g.length;c++)g[c].apply(a,b)}return this},notifyWith:function(a){if("pending"===e)for(var b=i=arguments.length>1?arguments[1]:[],c=0;c<h.length;c++)h[c].apply(a,b);return this},resolve:function(){return this.resolveWith(this,arguments)},reject:function(){return this.rejectWith(this,arguments)},notify:function(){return this.notifyWith(this,arguments)}},l=j.promise(k);return a&&a.apply(l,[l]),l}d.when=function(){if(arguments.length<2){var a=arguments.length?arguments[0]:void 0;return a&&"function"==typeof a.isResolved&&"function"==typeof a.isRejected?a.promise():d().resolve(a).promise()}return function(a){for(var b=d(),c=a.length,e=0,f=new Array(c),g=0;g<a.length;g++)!function(d){var g=null;a[d].done?a[d].done(function(){f[d]=arguments.length<2?arguments[0]:arguments,++e==c&&b.resolve.apply(b,f)}).fail(function(){b.reject(arguments)}):(g=a[d],a[d]=new Deferred,a[d].done(function(){f[d]=arguments.length<2?arguments[0]:arguments,++e==c&&b.resolve.apply(b,f)}).fail(function(){b.reject(arguments)}).resolve(g))}(g);return b.promise()}(arguments)},a.Deferred=d}(v);var w=!0,x=!1,y={},z={},A=[],B=x,C={lock:function(){B=w,s("CXBus registration is now locked")},unlock:function(){B=x,s("CXBus registration is now unlocked")},config:function(b){return a(b)}},D=x,E="cx",F="plugin",G=x,H=w,I=x,J="boolean",K="string",L="object",M="function",N="Command does not exist";typeof define==M&&define.amd&&define("cx-bus",[],function(){return{registerPlugin:function(a){return c(a,"public")},registerMaster:function(){return b()}}})}(),define("text",["module"],function(a){"use strict";var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};return b={version:"2.0.14",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(d){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.lastIndexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,o.isBuild&&(n[a]=d),e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)return void d();o.isBuild=e&&e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;return 0===h.indexOf("empty:")?void d():void(!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)}))},write:function(a,c,d){if(n.hasOwnProperty(c)){var e=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,c,f)},f)}},"node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(c=require.nodeRequire("fs"),b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");"\ufeff"===e[0]&&(e=e.substring(1)),b(e)}catch(f){d&&d(f)}}):"xhr"===o.env||!o.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a),g.onreadystatechange=function(){var b,e;4===g.readyState&&(b=g.status||0,b>399&&600>b?(e=new Error(a+" HTTP status: "+b),e.xhr=g,d&&d(e)):c(g.responseText),o.onXhrComplete&&o.onXhrComplete(g,a))},g.send(null)}:"rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(d=Components.classes,e=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\")),h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream),c.init(h,1,0,!1),g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream),g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),g.readString(c.available(),i),g.close(),c.close(),b(i.value)}catch(j){throw new Error((h&&h.path||"")+": "+j)}}),b}),define("text!common/html/cx-common-container.html",[],function(){return'<div class="cx-widget ark cx-common-container">\n	<div class="cx-close cx-button-group cx-buttons-window-control">\n		\n		<button class="cx-button-close icon-close" tabindex="0"></button>\n	</div>\n	<div class="cx-titlebar">\n		<div class="cx-icon"></div>\n		<div class="cx-title i18n"></div>\n	</div>\n	<div class="cx-body"></div>\n	<div class="cx-footer">\n		<div class="cx-button-container"></div>\n	</div>\n</div>'}),define("text!common/html/cx-common-buttons-binary.html",[],function(){return'<div class="cx-button-group cx-buttons-binary">\n	<button type="button" class="btn btn-default" tabindex="0"></button>\n	<button type="button" class="btn btn-primary" tabindex="0"></button>\n</div>'}),define("text!common/html/cx-common-buttons-window-control.html",[],function(){return'<div class="cx-close cx-button-group cx-buttons-window-control">\n	\n	<button class="cx-button-close icon-close" tabindex="0"></button>\n</div>'}),define("cx-common",["jquery","cx-bus","text!./common/html/cx-common-container.html","text!./common/html/cx-common-buttons-binary.html","text!./common/html/cx-common-buttons-window-control.html"],function(a,b,c,d){function e(b){var c=!1;switch(b.type){case"generic":c=a(k.HTML.Containers.Generic);break;case"overlay":c=a(k.HTML.Containers.Generic).addClass("cx-overlay");break;default:c=a(k.HTML.Containers.Generic)}var d=c.find(".cx-icon"),e=c.find(".cx-title"),g=c.find(".cx-body");switch(b.icon?d.addClass(b.icon):d.hide(),b.title&&e.append(b.title),b.i18n&&e.data({message:b.i18n}),b.body&&g.append(b.body),b.controls){case"close":c.addClass("cx-close");break;case"minimize":c.addClass("cx-minimize");break;case"all":c.addClass("cx-close").addClass("cx-minimize")}return b.buttons&&c.find(".cx-button-container").append(f(b.buttons)),c.addClass(l),c}function f(b){var c=!1;switch(b.type){case"binary":c=a(k.HTML.Buttons.Binary),b.primary&&c.find(".btn-primary").append(b.primary),b.secondary&&c.find(".btn-default").append(b.secondary);break;default:return""}return c}function g(a,b){if("object"==typeof a&&"string"==typeof b){for(var c=b.split("."),d=0;d<c.length;d++){if(!a[c[d]])return!1;a=a[c[d]]}return a}return!1}function h(a,b){var c,d={protocolPattern:/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,worldWideWebPattern:/(^|[^\/])(www\.[\S]+(\b|$))/gim,
mailPattern:/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim},e={defaultPattern:/((\(\d{3}\) ?)|(\d{3}-))?\d{3}-\d{4}/g};return c="object"==typeof b&&"self"==b.target?a.replace(d.protocolPattern,'<a href="$1" target="_self">$1</a>'):a.replace(d.protocolPattern,'<a href="$1" target="_blank">$1</a>'),c="object"==typeof b&&"self"==b.target?c.replace(d.worldWideWebPattern,"<a target='_self' href='http://$2'>$2</a>"):c.replace(d.worldWideWebPattern,"<a target='_blank' href='http://$2'>$2</a>"),c=c.replace(d.mailPattern,'<a href="mailto:$1">$1</a>'),c=c.replace(e.defaultPattern,'<a href="tel:$&">$&</a>')}function i(b,c){b&&b.find(".i18n").each(function(){var b=a(this);switch(b.data("message-type")){case"transcript":b.find(".message-text").html(c[b.data("message")]);break;case"placeholder":b.attr("placeholder",c[b.data("message")]);break;default:b.text(c[b.data("message")])}})}var j={debug:!1},k={HTML:{Containers:{Generic:c},Buttons:{Binary:d}},Generate:{Container:function(a){return e(a)},Buttons:function(a){return f(a)}},checkPath:function(a,b){return g(a,b)},config:function(a){return"object"==typeof a&&"boolean"==typeof a.debug&&(j.debug=a.debug),j},log:function(a){j.debug&&console.log(a)},linkify:function(a,b){return h(a,b)},sanitizeHTML:function(a){return(a||"").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")},updateTemplateI18n:function(a,b){return i(a,b)}},l="cx-theme-light",m=b.registerPlugin("CXCommon");return m&&(m.registerCommand("generateContainer",function(a){a.data.options?a.deferred.resolve(k.generateContainer(a.data.options)):a.deferred.reject()}),m.registerCommand("generateButtons",function(a){a.data.options?a.deferred.resolve(k.generateButtons(a.data.options)):a.deferred.reject()}),m.subscribe("App.theme",function(a){l=a.data.theme})),k});var loaded_def=null,aModulesLoaded=[];define("cx-helper",["jquery"],function(a){return{lazyLoad:function(b){return-1==a.inArray(b,aModulesLoaded)&&(aModulesLoaded.push(b),loaded_def=a.Deferred(),window._loaded=function(){loaded_def.resolve()},require([b],function(){},function(){loaded_def.reject()})),loaded_def.promise()},isMobile:function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a}}}),function(a){"function"==typeof define&&define.amd?define("cx-ui-plugins",["jquery"],function(b){return a(b)}):a(jQuery)}(function(a){"use strict";a.fn.extend({tooltipMenu:function(){return this.each(function(){var b=a(this),c=b.find("> div"),d=b.find("> button");d.on("click.CXTooltipMenu.button",function(){c.hasClass("open")?c.removeClass("open"):c.addClass("open")}),a(window).on("click.CXTooltipMenu.unfocus",function(a){if("undefined"!=typeof a.originalEvent){var b=a.originalEvent.target;b!=d[0]&&b!=c[0]&&0==c.find(b).length&&c.hasClass("open")&&c.removeClass("open")}}),c.find(".option").on("click.CXTooltipMenu.option",function(){c.removeClass("open")})})},insertAtCaret:function(a){return this.each(function(){if(document.selection){this.focus();var b=document.selection.createRange();b.text=a,this.focus()}else if(this.selectionStart||"0"==this.selectionStart){var c=this.selectionStart,d=this.selectionEnd,e=this.scrollTop,f=this.value;this.value=f.substring(0,c)+a+f.substring(d,f.length),this.focus(),this.selectionStart=c+a.length,this.selectionEnd=c+a.length,this.scrollTop=e}else this.value+=a,this.focus()})},textAreaAutoHeight:function(b){return b=b||{},this.each(function(){var c,d=b.lineLimit,e=a(this),f=function(){c||(c=e.outerHeight());var a=e.outerHeight();e.height(0);var f=e.css("padding-top"),g=e.css("padding-bottom"),h=e.css("border-width"),i=parseInt(e.css("line-height"));e.css({"padding-top":0,"padding-bottom":0,"border-width":0});var j=e[0].scrollHeight,k=Math.round(j/i);k>d&&(k=d),e.height(i*k+i),e.css({"padding-top":f,"padding-bottom":g,"border-width":h});var l=e.outerHeight(),m=a=l;"function"==typeof b.callback&&b.callback({scrollHeight:j,lineHeight:i,numLines:k,newHeight:l,oldHeight:a,baseHeight:c,delta:m})};e.keydown(f).keyup(f).keyup()})}}),a.fn.draggable=function(b){b=a.extend({cursor:"move",cancel:"a,input,textarea,button,select,option"},b);var c=function(a){if(a.originalEvent&&a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]){var b=a.originalEvent.targetTouches[0];return a.pageX=b.clientX,a.pageY=b.clientY,!0}return!1};return b.left&&b.top&&a(this).offset({left:b.left,top:b.top}),this.css("cursor",b.cursor).on("mousedown touchstart",function(d){var e=d.target.nodeName?a(d.target).closest(b.cancel).length:!1;c(d);var f=a(this),g=f.offset(),h=g.left-d.pageX,i=g.top-d.pageY,j=f.css("z-index");if(e)return!0;a.fn.draggable.stack||(a.fn.draggable.stack=999);var k=a.fn.draggable.stack,l=!0,m=null;a(window).on("mousemove.draggable touchmove.draggable",function(b){if(c(b),l){l=!1,f.css({"z-index":k,transform:"scale(1.02)",transition:"transform .3s",bottom:"auto",right:"auto"});var d=a(b.target);d.is("a")?(m=d,d.one("click.draggable",function(a){a.preventDefault(),a.stopImmediatePropagation()})):f.is("a")&&(m=f,f.one("click.draggable",function(a){a.preventDefault(),a.stopImmediatePropagation()})),d.trigger("dragStartEvent",[d])}f.offset({left:h+b.pageX,top:i+b.pageY}),b.preventDefault()}).one("mouseup touchend touchcancel",function(){if(a(this).off("mousemove.draggable touchmove.draggable"),f.css({"z-index":j,transform:"scale(1)"}),a.fn.draggable.stack++,c(d)){m&&m.off("click.draggable");var b=f.offset();if(Math.abs(b.left-g.left)<=3&&Math.abs(b.top-g.top)<=3)if(m)m[0].click();else{var e=a(d.target);e.is("a")?d.target.click():f.is("a")&&f[0].click()}}f.trigger("dragStopEvent",[{offset:f.offset()}])}),d.preventDefault()}),this};var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;return a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})}),a}),define("cx-app",["jquery","cx-bus","cx-common","cx-helper","cx-ui-plugins"],function(a,b,c,d){"use strict";function e(){++i!=k.mandatory.length||j||f()}function f(){h.command("setLanguage",{lang:p}).always(function(){t&&a(document.body).append(t.detach());var d=r.extensions;if(h.republish("ready",r),"object"==typeof d)for(var e in d)"function"==typeof d[e]&&d[e](a,b,c);"function"==typeof r.onReady&&r.onReady(r.bus)})}var g=b.registerMaster(),h=b.registerPlugin("App"),i=0,j=!1,k={mandatory:["cx-overlay","cx-toaster","cx-watchman","cx-console","cx-window-manager"],optional:["cx-channel-selector","cx-webchat-service","cx-webchat","cx-call-us","cx-cobrowse","cx-send-message","cx-send-message-service","cx-gwe","cx-stats-service"],external:[]},l={dark:"cx-theme-dark",light:"cx-theme-light"},m="dark",n={},o=600,p="en",q="Roboto:400,300,100",r=c.checkPath(window,"_genesys.cxwidget")||c.checkPath(window,"_genesys.widgets")||{},s={debug:!1,nsRoot:"cx",nsPlugin:"plugin",nsStrict:!1,log:!0,logStore:!1},t=!1;return g.config(s),{init:function(){if(h){if(q&&a(document.body).append('<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family='+q+'"/>'),h.subscribe("Overlay.ready",e),h.subscribe("Toaster.ready",e),h.subscribe("Watchman.ready",e),h.subscribe("Console.ready",e),h.subscribe("WindowManager.ready",e),h.registerCommand("closeAll",function(a){h.publish("closeAll"),a.deferred.resolve()}),h.registerCommand("setTheme",function(b){l[b.data.theme]?(m=b.data.theme,h.republish("theme",{theme:l[m]}),h.command("reTheme",{html:a(".cx-widget")}),b.deferred.resolve(m)):b.deferred.reject("Invalid theme specified")}),h.registerCommand("reTheme",function(b){if(b.data.html){var c=a(b.data.html);for(var d in l)c.removeClass(l[d]);c.addClass(l[m]),b.deferred.resolve(c)}else b.deferred.reject("No HTML provided by "+b.commander)}),h.registerCommand("themeDemo",function(b){var c=parseInt(b.data.delay)||2e3,d=m,e=0;a.each(l,function(a){setTimeout(function(){h.command("setTheme",{theme:a})},c*e++)}),setTimeout(function(){h.command("setTheme",{theme:d})},c*e++),b.deferred.resolve()}),h.registerCommand("getTheme",function(a){a.deferred.resolve(l[m])}),h.registerCommand("setLanguage",function(a){a.data.lang?n[a.data.lang]?(p=a.data.lang,h.publish("i18n",n[p]),a.deferred.resolve()):a.deferred.reject("No matching language code found in language pack"):a.deferred.reject("No language code provided")}),require(k.mandatory),"object"==typeof r.main){var b=r.main;"number"==typeof b.mobileModeBreakpoint&&(o=b.mobileModeBreakpoint),"auto"==b.mobileMode||"undefined"==typeof b.mobileMode?(a(window).height()<=o||a(window).width()<=o)&&d.isMobile()&&h.republish("mobileMode"):b.mobileMode===!0&&h.republish("mobileMode"),"boolean"==typeof b.debug&&(g.config({debug:b.debug}),c.config({debug:b.debug})),"string"==typeof b.customStylesheetID&&(t=a("#"+b.customStylesheetID.replace("#",""))),b.plugins&&b.plugins.length>=0&&(k.optional=b.plugins),"object"==typeof b.themes&&a.extend(l,b.themes),b.theme&&l[b.theme]&&h.command("setTheme",{theme:b.theme}),b.lang&&(p=b.lang),b.i18n&&("string"==typeof b.i18n?(j=!0,k.mandatory.length++,a.getJSON(b.i18n).done(function(a){c.log("second success"),n=a}).fail(function(){c.log("error")}).always(function(){j=!1,e()})):"object"==typeof b.i18n&&(c.log(" - - - - inline JSON - "+p),n=b.i18n,c.log(n)))}a.each(k.optional,function(){require.specified(this)&&require([this])})}}}}),require(["cx-app","jquery"],function(a){window.external&&window.external.isGenesysTrackerDisable||window.name&&"disableWebme"==window.name||a.init()}),function(a){"function"==typeof define&&define.amd?define("omniwindow",["jquery"],function(b){return a(b)}):a(jQuery)}(function(a){"use strict";return a.fn.extend({omniWindow:function(b){b=a.extend(!0,{animationsPriority:{show:["overlay","modal"],hide:["modal","overlay"]},overlay:{selector:".ow-overlay",hideClass:"ow-closed",animations:{show:function(a,b){return b(a)},hide:function(a,b){return b(a)},internal:{show:function(a){a.overlay.removeClass(b.overlay.hideClass)},hide:function(a){a.overlay.addClass(b.overlay.hideClass)}}}},modal:{hideClass:"ow-closed",animations:{show:function(a,b){return b(a)},hide:function(a,b){return b(a)},internal:{show:function(a){a.modal.removeClass(b.modal.hideClass)},hide:function(a){a.modal.addClass(b.modal.hideClass)}}},internal:{stateAttribute:"ow-active"}},eventsNames:{show:"show.ow",hide:"hide.ow",reposition:"reposition.ow",internal:{overlayClick:"click.ow",keyboardKeyUp:"keyup.ow"}},callbacks:{beforeShow:function(a,b){return b(a)},positioning:function(a,b){return b(a)},afterShow:function(a,b){return b(a)},beforeHide:function(a,b){return b(a)},afterHide:function(a,b){return b(a)},internal:{beforeShow:function(a){return a.modal.data(b.modal.internal.stateAttribute)?!1:(a.modal.data(b.modal.internal.stateAttribute,!0),!0)},afterShow:function(c){a(document).on(b.eventsNames.internal.keyboardKeyUp,function(a){27===a.keyCode&&(c.modal.trigger(b.eventsNames.hide),c.overlay.css("display",""),c.modal.css("display",""))}),c.overlay.on(b.eventsNames.internal.overlayClick,function(){c.modal.trigger(b.eventsNames.hide),c.overlay.css("display",""),c.modal.css("display","")})},positioning:function(a){a.modal.css("margin-left",Math.round(a.modal.outerWidth()/-2))},beforeHide:function(a){return a.modal.data(b.modal.internal.stateAttribute)?(a.modal.data(b.modal.internal.stateAttribute,!1),!0):!1},afterHide:function(c){c.overlay.off(b.eventsNames.internal.overlayClick),a(document).off(b.eventsNames.internal.keyboardKeyUp),c.overlay.css("display",""),c.modal.css("display","")}}}},b);var c=function(a,c,d){var e=b.animationsPriority[a][0],f=b.animationsPriority[a][1];b[e].animations[a](c,function(g){b[e].animations.internal[a](g),b[f].animations[a](c,function(e){b[f].animations.internal[a](e),b.callbacks[d](c,b.callbacks.internal[d])})})},d=function(a){b.callbacks.beforeShow(a,b.callbacks.internal.beforeShow)&&(b.callbacks.positioning(a,b.callbacks.internal.positioning),c("show",a,"afterShow"))},e=function(a){b.callbacks.positioning(a,b.callbacks.internal.positioning)},f=function(a){b.callbacks.beforeHide(a,b.callbacks.internal.beforeHide)&&c("hide",a,"afterHide")},g=a(b.overlay.selector);return this.each(function(){var c=a(this),h={modal:c,overlay:g};c.bind(b.eventsNames.show,function(){d(h)}).bind(b.eventsNames.hide,function(){f(h)}).bind(b.eventsNames.reposition,function(){e(h)})})}}),a}),define("cx-overlay",["jquery","cx-bus","omniwindow"],function(a,b){"use strict";function c(b){j=b.commander,i&&a.contains(h[0],i[0])&&i.detach(),g&&g.remove(),h&&h.remove(),g=a(e),h=a(f),h.addClass(n),b.data.overlay===!0&&a(document.body).append(g),a(document.body).append(h),i=a(b.data.html),h.append(i).omniWindow({callbacks:{afterShow:function(b,c){return h.css({opacity:0,"-webkit-transform":"scale(0)",transform:"scale(0)"}).animate({opacity:1},{duration:250,step:function(b){a(this).css("-webkit-transform","scale("+b+")"),a(this).css("transform","scale("+b+")"),a(window).resize()}}),c(b)}}}),h.trigger("show"),b.data.modal===!1?g.hide():g.show(),m=b.data.immutable===!0?!0:!1,k="close."+d.parsePluginName(b.commander),l=!0,a(window).resize(),b.deferred.resolve({html:i,events:{close:d.namespace()+"."+k}})}var d=b.registerPlugin("Overlay"),e="<div class='ow-overlay ow-closed'></div>",f="<div class='cx-widget ow-modal ow-closed'></div>";if(d){var g=!1,h=!1,i=!1,j=!1,k=!1,l=!1,m=!1,n="";a(window).resize(function(){h&&h.trigger("reposition")}),d.registerCommand("open",function(a){m&&a.commander!==j&&"cx.plugin.App"!==a.commander?a.deferred.reject("Overlay view is currently reserved"):a.data.html?l?d.command("close").done(function(){c(a)}):c(a):a.deferred.reject("No HTML content was provided. Overlay has ignored your command.")}),d.registerCommand("close",function(b){l?m&&b.commander!==j&&"cx.plugin.App"!==b.commander?b.deferred.reject("Overlay view is currently reserved"):(m=!1,h.css({opacity:1,"-webkit-transform":"scale(1)",transform:"scale(1)"}).animate({opacity:0},{duration:250,step:function(b){a(this).css({"-webkit-transform":"scale("+b+")",transform:"scale("+b+")"})},complete:function(){i.detach(),g.remove(),h.remove(),b.deferred.resolve()}}),b.commander!=j&&k&&(d.publish(k),k=!1),j=!1):b.deferred.reject("Overlay view is already closed")}),d.registerCommand("alert",function(){alert("webchat test alert")}),d.subscribe("App.theme",function(a){n=a.data.theme}),d.subscribe("App.ready",function(){d.command("App.getTheme").done(function(a){n=a})}),d.subscribe("App.closeAll",function(){d.command("close")}),d.republish("ready")}}),define("text!plugins/cx-toaster/html/cx-toaster.html",[],function(){return'<div class="cx-widget cx-toaster"></div>'}),define("cx-toaster",["jquery","cx-bus","cx-common","text!./plugins/cx-toaster/html/cx-toaster.html"],function(a,b,c,d){"use strict";var e=b.registerPlugin("Toaster"),f=!1,g=!1,h=(c.HTML.Containers.Generic,a(),!1),i=!1,j=!1,k=!1,l="",m={open:function(a){var b,d=a.data;if(d.type&&"generic"!==d.type){if("custom"!==d.type||!d.body)return a.deferred.reject("No content was provided. Toaster has ignored your command."),!1;b=m.renderContent(d.body)}else b=m.renderContent(c.Generate.Container({type:"generic",title:d.title,icon:d.icon,body:d.body,controls:d.controls,buttons:d.buttons}));b?f&&(h=!0,i&&f.addClass("cx-mobile"),e.command("WindowManager.registerDockView",{html:f}).done(function(){j=a.data.immutable===!0?a.commander:!1,k="close."+e.parsePluginName(a.commander)+"#"+parseInt(1e7*Math.random()),a.deferred.resolve({html:b,events:{close:e.namespace()+"."+k}})})):a.deferred.reject("No content was provided. Toaster has ignored your command.")},close:function(a){f&&(h=!1,f.animate({bottom:0-f.height()+"px"},{duration:500,done:function(){m.detachContent(),f.remove(),e.publish("closed"),a&&a.resolve()}}),k&&(e.publish(k),k=!1))},detachContent:function(){g&&a.contains(f[0],g[0])&&(g.detach(),g=!1)},renderContent:function(b){if(b){m.detachContent(),f&&f.remove(),f=a(d),f.addClass(l);var c=a(b);return f.append(c),f.find(".cx-buttons-window-control .cx-button-close").click(function(){e.command("close")}),c}return!1}};e&&(e.registerCommand("open",function(a){j&&a.commander!==j&&"cx.plugin.App"!==a.commander?a.deferred.reject("Toaster view is currently reserved"):h?e.command("close").done(function(){m.open(a)}):m.open(a)}),e.registerCommand("close",function(a){h?j&&a.commander!==j&&"cx.plugin.App"!==a.commander?a.deferred.reject("Toaster view is currently reserved"):(j=!1,a.data&&a.data.immediately?(m.close(),a.deferred.resolve()):m.close(a.deferred)):a.deferred.reject("Toaster view is already closed")}),e.registerCommand("alert",function(){alert("webchat test alert")}),e.subscribe("App.ready",function(){e.command("App.getTheme").done(function(a){l=a})}),e.subscribe("App.closeAll",function(){e.command("close")}),e.subscribe("App.mobileMode",function(){i=!0}),e.republish("ready"))}),define("text!plugins/cx-boiler/html/cx-boiler.html",[],function(){return'<div class="cx-boiler">\n	<h1>Boilerplate Plugin</h1>\n	<ul class="boiler-list"></ul>\n</div>'}),define("text!plugins/cx-boiler/html/cx-boiler-list-item.html",[],function(){return"<li></li>"}),define("plugins/cx-boiler/nls/string.js",{Title:"Boilerplate",ListItems:["Pointless item #1","Pointless item #2","Pointless item #3","Pointless item #4"]}),function(a){if("function"==typeof define&&define.amd)define("cookie",a);else if("object"==typeof exports)module.exports=a();else{var b=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=b,c}}}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if("undefined"!=typeof document){if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"==typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}try{g=JSON.stringify(e),/^[\{\[]/.test(g)&&(e=g)}catch(i){}return e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape),document.cookie=[b,"=",e,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join("")}b||(g={});for(var j=document.cookie?document.cookie.split("; "):[],k=/(%[0-9A-Z]{2})+/g,l=0;l<j.length;l++){var m=j[l].split("="),n=m[0].replace(k,decodeURIComponent),o=m.slice(1).join("=");'"'===o.charAt(0)&&(o=o.slice(1,-1));try{if(o=c.read?c.read(o,n):c(o,n)||o.replace(k,decodeURIComponent),this.json)try{o=JSON.parse(o)}catch(i){}if(b===n){g=o;break}b||(g[n]=o)}catch(i){}}return g}}return d.set=d,d.get=function(a){return d(a)},d.getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b(function(){})}),define("sld",[],function(){var a={},b=a&&a.SecondLevelDomains,c={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return!1;var d=a.lastIndexOf(".",b-1);if(0>=d||d>=b-1)return!1;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(d+1,b)+" ")>=0:!1},is:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return!1;var d=a.lastIndexOf(".",b-1);if(d>=0)return!1;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(0,b)+" ")>=0:!1},get:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return null;var d=a.lastIndexOf(".",b-1);if(0>=d||d>=b-1)return null;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(d+1,b)+" ")<0?null:a.slice(d+1):null;
},noConflict:function(){return a.SecondLevelDomains===this&&(a.SecondLevelDomains=b),this}};return c}),define("uri",["sld"],function(a){function b(a,c){var d=arguments.length>=1,e=arguments.length>=2;if(!(this instanceof b))return d?e?new b(a,c):new b(a):new b;if(void 0===a){if(d)throw new TypeError("undefined is not a valid argument for URI");a="undefined"!=typeof location?location.href+"":""}return this.href(a),void 0!==c?this.absoluteTo(c):this}function c(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function d(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function e(a){return"Array"===d(a)}function f(a,b){var c,f,g={};if("RegExp"===d(b))g=null;else if(e(b))for(c=0,f=b.length;f>c;c++)g[b[c]]=!0;else g[b]=!0;for(c=0,f=a.length;f>c;c++){var h=g&&void 0!==g[a[c]]||!g&&b.test(a[c]);h&&(a.splice(c,1),f--,c--)}return a}function g(a,b){var c,f;if(e(b)){for(c=0,f=b.length;f>c;c++)if(!g(a,b[c]))return!1;return!0}var h=d(b);for(c=0,f=a.length;f>c;c++)if("RegExp"===h){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function h(a,b){if(!e(a)||!e(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}function i(a){var b=/^\/+|\/+$/g;return a.replace(b,"")}function j(a){return escape(a)}function k(a){return encodeURIComponent(a).replace(/[!'()*]/g,j).replace(/\*/g,"%2A")}function l(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}}function m(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}}var n={},o=n&&n.URI;b.version="1.17.0";var p=b.prototype,q=Object.prototype.hasOwnProperty;b._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}},b.duplicateQueryParameters=!1,b.escapeQuerySpace=!0,b.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,b.idn_expression=/[^a-z0-9\.-]/i,b.punycode_expression=/(xn--)/i,b.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,b.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},b.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},b.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,b.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},b.getDomAttribute=function(a){if(!a||!a.nodeName)return void 0;var c=a.nodeName.toLowerCase();return"input"===c&&"image"!==a.type?void 0:b.domAttributes[c]},b.encode=k,b.decode=decodeURIComponent,b.iso8859=function(){b.encode=escape,b.decode=unescape},b.unicode=function(){b.encode=k,b.decode=decodeURIComponent},b.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},b.encodeQuery=function(a,c){var d=b.encode(a+"");return void 0===c&&(c=b.escapeQuerySpace),c?d.replace(/%20/g,"+"):d},b.decodeQuery=function(a,c){a+="",void 0===c&&(c=b.escapeQuerySpace);try{return b.decode(c?a.replace(/\+/g,"%20"):a)}catch(d){return a}};var r,s={encode:"encode",decode:"decode"},t=function(a,c){return function(d){try{return b[c](d+"").replace(b.characters[a][c].expression,function(d){return b.characters[a][c].map[d]})}catch(e){return d}}};for(r in s)b[r+"PathSegment"]=t("pathname",s[r]),b[r+"UrnPathSegment"]=t("urnpath",s[r]);var u=function(a,c,d){return function(e){var f;f=d?function(a){return b[c](b[d](a))}:b[c];for(var g=(e+"").split(a),h=0,i=g.length;i>h;h++)g[h]=f(g[h]);return g.join(a)}};b.decodePath=u("/","decodePathSegment"),b.decodeUrnPath=u(":","decodeUrnPathSegment"),b.recodePath=u("/","encodePathSegment","decode"),b.recodeUrnPath=u(":","encodeUrnPathSegment","decode"),b.encodeReserved=t("reserved","encode"),b.parse=function(a,c){var d;return c||(c={}),d=a.indexOf("#"),d>-1&&(c.fragment=a.substring(d+1)||null,a=a.substring(0,d)),d=a.indexOf("?"),d>-1&&(c.query=a.substring(d+1)||null,a=a.substring(0,d)),"//"===a.substring(0,2)?(c.protocol=null,a=a.substring(2),a=b.parseAuthority(a,c)):(d=a.indexOf(":"),d>-1&&(c.protocol=a.substring(0,d)||null,c.protocol&&!c.protocol.match(b.protocol_expression)?c.protocol=void 0:"//"===a.substring(d+1,d+3)?(a=a.substring(d+3),a=b.parseAuthority(a,c)):(a=a.substring(d+1),c.urn=!0))),c.path=a,c},b.parseHost=function(a,b){a=a.replace(/\\/g,"/");var c,d,e=a.indexOf("/");if(-1===e&&(e=a.length),"["===a.charAt(0))c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null);else{var f=a.indexOf(":"),g=a.indexOf("/"),h=a.indexOf(":",f+1);-1!==h&&(-1===g||g>h)?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null)}return b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},b.parseAuthority=function(a,c){return a=b.parseUserinfo(a,c),b.parseHost(a,c)},b.parseUserinfo=function(a,c){var d,e=a.indexOf("/"),f=a.lastIndexOf("@",e>-1?e:a.length-1);return f>-1&&(-1===e||e>f)?(d=a.substring(0,f).split(":"),c.username=d[0]?b.decode(d[0]):null,d.shift(),c.password=d[0]?b.decode(d.join(":")):null,a=a.substring(f+1)):(c.username=null,c.password=null),a},b.parseQuery=function(a,c){if(!a)return{};if(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!a)return{};for(var d,e,f,g={},h=a.split("&"),i=h.length,j=0;i>j;j++)d=h[j].split("="),e=b.decodeQuery(d.shift(),c),f=d.length?b.decodeQuery(d.join("="),c):null,q.call(g,e)?(("string"==typeof g[e]||null===g[e])&&(g[e]=[g[e]]),g[e].push(f)):g[e]=f;return g},b.build=function(a){var c="";return a.protocol&&(c+=a.protocol+":"),a.urn||!c&&!a.hostname||(c+="//"),c+=b.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(c+="/"),c+=a.path),"string"==typeof a.query&&a.query&&(c+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(c+="#"+a.fragment),c},b.buildHost=function(a){var c="";return a.hostname?(c+=b.ip6_expression.test(a.hostname)?"["+a.hostname+"]":a.hostname,a.port&&(c+=":"+a.port),c):""},b.buildAuthority=function(a){return b.buildUserinfo(a)+b.buildHost(a)},b.buildUserinfo=function(a){var c="";return a.username&&(c+=b.encode(a.username),a.password&&(c+=":"+b.encode(a.password)),c+="@"),c},b.buildQuery=function(a,c,d){var f,g,h,i,j="";for(g in a)if(q.call(a,g)&&g)if(e(a[g]))for(f={},h=0,i=a[g].length;i>h;h++)void 0!==a[g][h]&&void 0===f[a[g][h]+""]&&(j+="&"+b.buildQueryParameter(g,a[g][h],d),c!==!0&&(f[a[g][h]+""]=!0));else void 0!==a[g]&&(j+="&"+b.buildQueryParameter(g,a[g],d));return j.substring(1)},b.buildQueryParameter=function(a,c,d){return b.encodeQuery(a,d)+(null!==c?"="+b.encodeQuery(c,d):"")},b.addQuery=function(a,c,d){if("object"==typeof c)for(var f in c)q.call(c,f)&&b.addQuery(a,f,c[f]);else{if("string"!=typeof c)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[c])return void(a[c]=d);"string"==typeof a[c]&&(a[c]=[a[c]]),e(d)||(d=[d]),a[c]=(a[c]||[]).concat(d)}},b.removeQuery=function(a,c,g){var h,i,j;if(e(c))for(h=0,i=c.length;i>h;h++)a[c[h]]=void 0;else if("RegExp"===d(c))for(j in a)c.test(j)&&(a[j]=void 0);else if("object"==typeof c)for(j in c)q.call(c,j)&&b.removeQuery(a,j,c[j]);else{if("string"!=typeof c)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==g?"RegExp"===d(g)?a[c]=!e(a[c])&&g.test(a[c])?void 0:f(a[c],g):a[c]!==String(g)||e(g)&&1!==g.length?e(a[c])&&(a[c]=f(a[c],g)):a[c]=void 0:a[c]=void 0}},b.hasQuery=function(a,c,f,i){if("object"==typeof c){for(var j in c)if(q.call(c,j)&&!b.hasQuery(a,j,c[j]))return!1;return!0}if("string"!=typeof c)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(d(f)){case"Undefined":return c in a;case"Boolean":var k=Boolean(e(a[c])?a[c].length:a[c]);return f===k;case"Function":return!!f(a[c],c,a);case"Array":if(!e(a[c]))return!1;var l=i?g:h;return l(a[c],f);case"RegExp":return e(a[c])?i?g(a[c],f):!1:Boolean(a[c]&&a[c].match(f));case"Number":f=String(f);case"String":return e(a[c])?i?g(a[c],f):!1:a[c]===f;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},b.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;d>c;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return 1>c?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":(("/"!==a.charAt(c)||"/"!==b.charAt(c))&&(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},b.withinString=function(a,c,d){d||(d={});var e=d.start||b.findUri.start,f=d.end||b.findUri.end,g=d.trim||b.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(e.lastIndex=0;;){var i=e.exec(a);if(!i)break;var j=i.index;if(d.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!d.ignore||!d.ignore.test(m)){l=j+m.length;var n=c(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),e.lastIndex=j+n.length}}return e.lastIndex=0,a},b.ensureValidHostname=function(a){if(a.match(b.invalid_hostname_characters)){if(!punycode)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(punycode.toASCII(a).match(b.invalid_hostname_characters))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]')}},b.noConflict=function(a){if(a){var b={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(b.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(b.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=n.SecondLevelDomains.noConflict()),b}return n.URI===this&&(n.URI=o),this},p.build=function(a){return a===!0?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=b.build(this._parts),this._deferred_build=!1),this},p.clone=function(){return new b(this)},p.valueOf=p.toString=function(){return this.build(!1)._string},p.protocol=l("protocol"),p.username=l("username"),p.password=l("password"),p.hostname=l("hostname"),p.port=l("port"),p.query=m("query","?"),p.fragment=m("fragment","#"),p.search=function(a,b){var c=this.query(a,b);return"string"==typeof c&&c.length?"?"+c:c},p.hash=function(a,b){var c=this.fragment(a,b);return"string"==typeof c&&c.length?"#"+c:c},p.pathname=function(a,c){if(void 0===a||a===!0){var d=this._parts.path||(this._parts.hostname?"/":"");return a?(this._parts.urn?b.decodeUrnPath:b.decodePath)(d):d}return this._parts.path=this._parts.urn?a?b.recodeUrnPath(a):"":a?b.recodePath(a):"/",this.build(!c),this},p.path=p.pathname,p.href=function(a,c){var d;if(void 0===a)return this.toString();this._string="",this._parts=b._parts();var e=a instanceof b,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){var g=b.getDomAttribute(a);a=a[g]||"",f=!1}if(!e&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a||a instanceof String)this._parts=b.parse(String(a),this._parts);else{if(!e&&!f)throw new TypeError("invalid input");var h=e?a._parts:a;for(d in h)q.call(this._parts,d)&&(this._parts[d]=h[d])}return this.build(!c),this},p.is=function(c){var d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,e=b.ip4_expression.test(this._parts.hostname),f=b.ip6_expression.test(this._parts.hostname),d=e||f,g=!d,h=g&&a&&a.has(this._parts.hostname),i=g&&b.idn_expression.test(this._parts.hostname),j=g&&b.punycode_expression.test(this._parts.hostname)),c.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return d;case"ip4":case"ipv4":case"inet4":return e;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var v=p.protocol,w=p.port,x=p.hostname;p.protocol=function(a,c){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(b.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return v.call(this,a,c)},p.scheme=p.protocol,p.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return w.call(this,a,b)},p.hostname=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var d={},e=b.parseHost(a,d);if("/"!==e)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');a=d.hostname}return x.call(this,a,c)},p.origin=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){var d=this.protocol(),e=this.authority();return e?(d?d+"://":"")+this.authority():""}var f=b(a);return this.protocol(f.protocol()).authority(f.authority()).build(!c),this},p.host=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildHost(this._parts):"";var d=b.parseHost(a,this._parts);if("/"!==d)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!c),this},p.authority=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildAuthority(this._parts):"";var d=b.parseAuthority(a,this._parts);if("/"!==d)throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!c),this},p.userinfo=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var d=b.buildUserinfo(this._parts);return d.substring(0,d.length-1)}return"@"!==a[a.length-1]&&(a+="@"),b.parseUserinfo(a,this._parts),this.build(!c),this},p.resource=function(a,c){var d;return void 0===a?this.path()+this.search()+this.hash():(d=b.parse(a),this._parts.path=d.path,this._parts.query=d.query,this._parts.fragment=d.fragment,this.build(!c),this)},p.subdomain=function(a,d){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var e=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,e)||""}var f=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,f),h=new RegExp("^"+c(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&b.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!d),this},p.domain=function(a,d){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(d=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var e=this._parts.hostname.match(/\./g);if(e&&e.length<2)return this._parts.hostname;var f=this._parts.hostname.length-this.tld(d).length-1;return f=this._parts.hostname.lastIndexOf(".",f-1)+1,this._parts.hostname.substring(f)||""}if(!a)throw new TypeError("cannot set domain empty");if(b.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(c(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!d),this},p.tld=function(b,d){if(this._parts.urn)return void 0===b?"":this;if("boolean"==typeof b&&(d=b,b=void 0),void 0===b){if(!this._parts.hostname||this.is("IP"))return"";var e=this._parts.hostname.lastIndexOf("."),f=this._parts.hostname.substring(e+1);return d!==!0&&a&&a.list[f.toLowerCase()]?a.get(this._parts.hostname)||f:f}var g;if(!b)throw new TypeError("cannot set TLD empty");if(b.match(/[^a-zA-Z0-9-]/)){if(!a||!a.is(b))throw new TypeError('TLD "'+b+'" contains characters other than [A-Z0-9]');g=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,b)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(c(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,b)}return this.build(!d),this},p.directory=function(a,d){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var e=this._parts.path.length-this.filename().length-1,f=this._parts.path.substring(0,e)||(this._parts.hostname?"/":"");return a?b.decodePath(f):f}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+c(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=b.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!d),this},p.filename=function(a,d){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var e=this._parts.path.lastIndexOf("/"),f=this._parts.path.substring(e+1);return a?b.decodePathSegment(f):f}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(c(this.filename())+"$");return a=b.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(d):this.build(!d),this},p.suffix=function(a,d){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var e,f,g=this.filename(),h=g.lastIndexOf(".");return-1===h?"":(e=g.substring(h+1),f=/^[a-z0-9%]+$/i.test(e)?e:"",a?b.decodePathSegment(f):f)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=new RegExp(a?c(j)+"$":c("."+j)+"$");else{if(!a)return this;this._parts.path+="."+b.recodePath(a)}return i&&(a=b.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!d),this},p.segment=function(a,b,c){var d=this._parts.urn?":":"/",f=this.path(),g="/"===f.substring(0,1),h=f.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(g&&h.shift(),0>a&&(a=Math.max(h.length+a,0)),void 0===b)return void 0===a?h:h[a];if(null===a||void 0===h[a])if(e(b)){h=[];for(var j=0,k=b.length;k>j;j++)(b[j].length||h.length&&h[h.length-1].length)&&(h.length&&!h[h.length-1].length&&h.pop(),h.push(i(b[j])))}else(b||"string"==typeof b)&&(b=i(b),""===h[h.length-1]?h[h.length-1]=b:h.push(b));else b?h[a]=i(b):h.splice(a,1);return g&&h.unshift(""),this.path(h.join(d),c)},p.segmentCoded=function(a,c,d){var f,g,h;if("number"!=typeof a&&(d=c,c=a,a=void 0),void 0===c){if(f=this.segment(a,c,d),e(f))for(g=0,h=f.length;h>g;g++)f[g]=b.decode(f[g]);else f=void 0!==f?b.decode(f):void 0;return f}if(e(c))for(g=0,h=c.length;h>g;g++)c[g]=b.encode(c[g]);else c="string"==typeof c||c instanceof String?b.encode(c):c;return this.segment(a,c,d)};var y=p.query;return p.query=function(a,c){if(a===!0)return b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var d=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace),e=a.call(this,d);return this._parts.query=b.buildQuery(e||d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=b.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this):y.call(this,a,c)},p.setQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof a||a instanceof String)e[a]=void 0!==c?c:null;else{if("object"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var f in a)q.call(a,f)&&(e[f]=a[f])}return this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(d=c),this.build(!d),this},p.addQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.addQuery(e,a,void 0===c?null:c),this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(d=c),this.build(!d),this},p.removeQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.removeQuery(e,a,c),this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(d=c),this.build(!d),this},p.hasQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.hasQuery(e,a,c,d)},p.setSearch=p.setQuery,p.addSearch=p.addQuery,p.removeSearch=p.removeQuery,p.hasSearch=p.hasQuery,p.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},p.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},p.normalizeHostname=function(a){return this._parts.hostname&&(this.is("IDN")&&punycode?this._parts.hostname=punycode.toASCII(this._parts.hostname):this.is("IPv6")&&IPv6&&(this._parts.hostname=IPv6.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a)),this},p.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===b.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},p.normalizePath=function(a){var c=this._parts.path;if(!c)return this;if(this._parts.urn)return this._parts.path=b.recodeUrnPath(this._parts.path),this.build(!a),this;if("/"===this._parts.path)return this;c=b.recodePath(c);var d,e,f,g="";for("/"!==c.charAt(0)&&(d=!0,c="/"+c),("/.."===c.slice(-3)||"/."===c.slice(-2))&&(c+="/"),c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),d&&(g=c.substring(1).match(/^(\.\.\/)+/)||"",g&&(g=g[0]));e=c.search(/\/\.\.(\/|$)/),-1!==e;)0!==e?(f=c.substring(0,e).lastIndexOf("/"),-1===f&&(f=e),c=c.substring(0,f)+c.substring(e+3)):c=c.substring(3);return d&&this.is("relative")&&(c=g+c.substring(1)),this._parts.path=c,this.build(!a),this},p.normalizePathname=p.normalizePath,p.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(b.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},p.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},p.normalizeSearch=p.normalizeQuery,p.normalizeHash=p.normalizeFragment,p.iso8859=function(){var a=b.encode,c=b.decode;b.encode=escape,b.decode=decodeURIComponent;try{this.normalize()}finally{b.encode=a,b.decode=c}return this},p.unicode=function(){var a=b.encode,c=b.decode;b.encode=k,b.decode=unescape;try{this.normalize()}finally{b.encode=a,b.decode=c}return this},p.readable=function(){var a=this.clone();a.username("").password("").normalize();var c="";if(a._parts.protocol&&(c+=a._parts.protocol+"://"),a._parts.hostname&&(a.is("punycode")&&punycode?(c+=punycode.toUnicode(a._parts.hostname),a._parts.port&&(c+=":"+a._parts.port)):c+=a.host()),a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(c+="/"),c+=a.path(!0),a._parts.query){for(var d="",e=0,f=a._parts.query.split("&"),g=f.length;g>e;e++){var h=(f[e]||"").split("=");d+="&"+b.decodeQuery(h[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==h[1]&&(d+="="+b.decodeQuery(h[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=b.decodeQuery(a.hash(),!0)},p.absoluteTo=function(a){var c,d,e,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof b||(a=new b(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(d=0;e=g[d];d++)f._parts[e]=a._parts[e];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(c=a.directory(),c=c?c:0===a.path().indexOf("/")?"/":"",f._parts.path=(c?c+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},p.relativeTo=function(a){var c,d,e,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new b(a).normalize(),c=h._parts,d=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(c.protocol===d.protocol&&(c.protocol=null),c.username!==d.username||c.password!==d.password)return h.build();if(null!==c.protocol||null!==c.username||null!==c.password)return h.build();if(c.hostname!==d.hostname||c.port!==d.port)return h.build();if(c.hostname=null,c.port=null,f===g)return c.path="",h.build();if(e=b.commonPath(f,g),!e)return h.build();var i=d.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return c.path=i+c.path.substring(e.length)||"./",h.build()},p.equals=function(a){var c,d,f,g=this.clone(),i=new b(a),j={},k={},l={};if(g.normalize(),i.normalize(),g.toString()===i.toString())return!0;if(c=g.query(),d=i.query(),g.query(""),i.query(""),g.toString()!==i.toString())return!1;if(c.length!==d.length)return!1;j=b.parseQuery(c,this._parts.escapeQuerySpace),k=b.parseQuery(d,this._parts.escapeQuerySpace);for(f in j)if(q.call(j,f)){if(e(j[f])){if(!h(j[f],k[f]))return!1}else if(j[f]!==k[f])return!1;l[f]=!0}for(f in k)if(q.call(k,f)&&!l[f])return!1;return!0},p.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},p.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},b}),function(a,b,c){function d(a,c){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function e(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),e.style.cssText+=";overflow:hidden",c||(e.style.pointerEvents="none"),e.appendChild(f),e}function f(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var e in d)this.options[e]=d[e];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(a,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(a,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(a,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.style.transform]=this.scroller.translateZ,this.wrapperStyle[h.style.transitionDuration]=h.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},h=function(){function d(a){return g===!1?!1:""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1);
}var e={},f=b.createElement("div").style,g=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},e.momentum=function(a,b,d,e,f,g){var h,i,j=a-b,k=c.abs(j)/d;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(0>j?-1:1),i=k/g,e>h?(h=f?e-f/2.5*(k/8):e,j=c.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=c.abs(a)+h,i=j/k),{destination:c.round(h),duration:i}};var h=d("transform");return e.extend(e,{hasTransform:h!==!1,hasPerspective:d("perspective")in f,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:d("transition")in f}),e.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:d("transitionTimingFunction"),transitionDuration:d("transitionDuration"),transitionDelay:d("transitionDelay"),transformOrigin:d("transformOrigin")}),e.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin(2*(a-b/4)*c.PI/b)+1}}}),e.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var c,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(c=b.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._constructed=!0,d.dispatchEvent(c))},e}();d.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=h.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&h.eventType[a.type]!==this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,d=a.touches?a.touches[0]:a;this.initiated=h.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=d.pageX,this.pointY=d.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,d,e,f,g=a.touches?a.touches[0]:a,i=g.pageX-this.pointX,j=g.pageY-this.pointY,k=h.getTime();if(this.pointX=g.pageX,this.pointY=g.pageY,this.distX+=i,this.distY+=j,e=c.abs(this.distX),f=c.abs(this.distY),!(k-this.endTime>300&&10>e&&10>f)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=e>f+this.options.directionLockThreshold?"h":f>=e+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,d=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+j/3:d>0?0:this.maxScrollY),this.directionX=i>0?-1:0>i?1:0,this.directionY=j>0?-1:0>j?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,d),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,d,e=(a.changedTouches?a.changedTouches[0]:a,h.getTime()-this.startTime),f=c.round(this.x),g=c.round(this.y),i=c.abs(f-this.startX),j=c.abs(g-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(f,g),!this.moved)return this.options.tap&&h.tap(a,this.options.tap),this.options.click&&h.click(a),void this._execEvent("scrollCancel");if(this._events.flick&&200>e&&100>i&&100>j)return void this._execEvent("flick");if(this.options.momentum&&300>e&&(b=this.hasHorizontalScroll?h.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},d=this.hasVerticalScroll?h.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:g,duration:0},f=b.destination,g=d.destination,k=c.max(b.duration,d.duration),this.isInTransition=1),this.options.snap){var m=this._nearestSnap(f,g);this.currentPage=m,k=this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-m.x),1e3),c.min(c.abs(g-m.y),1e3)),300),f=m.x,g=m.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}return f!=this.x||g!=this.y?((f>0||f<this.maxScrollX||g>0||g<this.maxScrollY)&&(l=h.ease.quadratic),void this.scrollTo(f,g,k,l)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||h.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,d,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var g=h.offset(a);g.left-=this.wrapperOffset.left,g.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),g.left-=d||0,g.top-=e||0,g.left=g.left>0?0:g.left<this.maxScrollX?this.maxScrollX:g.left,g.top=g.top>0?0:g.top<this.maxScrollY?this.maxScrollY:g.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-g.left),c.abs(this.y-g.top)):b,this.scrollTo(g.left,g.top,b,f)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.scrollerStyle[h.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[h.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?h.removeEvent:h.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,h.prefixPointerEvent("pointerdown"),this),c(d,h.prefixPointerEvent("pointermove"),this),c(d,h.prefixPointerEvent("pointercancel"),this),c(d,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[h.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_initIndicators:function(){function a(a){for(var b=h.indicators.length;b--;)a.call(h.indicators[b])}var b,c=this.options.interactiveScrollbars,d="string"!=typeof this.options.scrollbars,g=[],h=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:e("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),g.push(b)),this.options.scrollX&&(b={el:e("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),g.push(b))),this.options.indicators&&(g=g.concat(this.options.indicators));for(var i=g.length;i--;)this.indicators.push(new f(this,g[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,d,e,f,g=this;if(void 0===this.wheelTimeout&&g._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd"),g.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,d=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,d=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,d=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=d=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=d=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,d*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:0>b&&e++,d>0?f--:0>d&&f++,void this.goToPage(e,f);e=this.x+c.round(this.hasHorizontalScroll?b:0),f=this.y+c.round(this.hasVerticalScroll?d:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,d,e,f,g,h=0,i=0,j=0,k=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(d=c.round(k/2),e=c.round(l/2);j>-this.scrollerWidth;){for(this.pages[h]=[],a=0,f=0;f>-this.scrollerHeight;)this.pages[h][a]={x:c.max(j,this.maxScrollX),y:c.max(f,this.maxScrollY),width:k,height:l,cx:j-d,cy:f-e},f-=l,a++;j-=k,h++}else for(g=this.options.snap,a=g.length,b=-1;a>h;h++)(0===h||g[h].offsetLeft<=g[h-1].offsetLeft)&&(i=0,b++),this.pages[i]||(this.pages[i]=[]),j=c.max(-g[h].offsetLeft,this.maxScrollX),f=c.max(-g[h].offsetTop,this.maxScrollY),d=j-c.round(g[h].offsetWidth/2),e=f-c.round(g[h].offsetHeight/2),this.pages[i][b]={x:j,y:f,width:g[h].offsetWidth,height:g[h].offsetHeight,cx:d,cy:e},j>this.maxScrollX&&i++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);e>d;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;e>f;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,0>d?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,0>f?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var a,b={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(a in this.options.keyBindings)"string"==typeof this.options.keyBindings[a]&&(this.options.keyBindings[a]=this.options.keyBindings[a].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(a in b)this.options.keyBindings[a]=this.options.keyBindings[a]||b[a];h.addEvent(this.wrapper,"keydown",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"keydown",this)})},_key:function(a){if(this.enabled){var b,d=this.options.snap,e=d?this.currentPage.pageX:this.x,f=d?this.currentPage.pageY:this.y,g=h.getTime(),i=this.keyTime||0,j=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(c.round(b.x),c.round(b.y)),this.isInTransition=!1),this.keyAcceleration=200>g-i?c.min(this.keyAcceleration+j,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?e+=d?1:this.wrapperWidth:f+=d?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?e-=d?1:this.wrapperWidth:f-=d?1:this.wrapperHeight;break;case this.options.keyBindings.end:e=d?this.pages.length-1:this.maxScrollX,f=d?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:e=0,f=0;break;case this.options.keyBindings.left:e+=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=d?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:e-=d?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=d?1:5+this.keyAcceleration>>0;break;default:return}if(d)return void this.goToPage(e,f);e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollX&&(e=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(e,f,0),this.keyTime=g}},_animate:function(a,b,c,d){function e(){var m,n,o,p=h.getTime();return p>=l?(f.isAnimating=!1,f._translate(a,b),void(f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,f._translate(m,n),void(f.isAnimating&&g(e)))}var f=this,i=this.x,j=this.y,k=h.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},f.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),h.removeEvent(a,"touchend",this),h.removeEvent(a,h.prefixPointerEvent("pointerup"),this),h.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(a,"touchmove",this),this.options.disablePointer||h.addEvent(a,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b,c,d,e,f=a.touches?a.touches[0]:a;h.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),h.removeEvent(a,"touchmove",this),h.removeEvent(a,h.prefixPointerEvent("pointermove"),this),h.removeEvent(a,"mousemove",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),e=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);(this.scroller.x!=d.x||this.scroller.y!=d.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,e,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.indicatorStyle[h.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[h.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=c.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=c.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=c.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=c.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[h.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},d.utils=h,"undefined"!=typeof module&&module.exports?module.exports=d:a.IScroll=d}(window,document,Math),define("cx-iscroll",function(a){return function(){var b;return b||a.IScroll}}(this)),define("cx-boiler",["jquery","cx-bus","text!./plugins/cx-boiler/html/cx-boiler.html","text!./plugins/cx-boiler/html/cx-boiler-list-item.html","./plugins/cx-boiler/nls/string.js","cx-common","cookie","uri","cx-iscroll"],function(a,b,c,d,e,f){"use strict";var g=b.registerPlugin("Boiler");if(g){var h=f.Generate.Container({type:"overlay",title:"Boilerplate",body:c,icon:"cx-img-map preset-blue px32 star",controls:"close",buttons:!1}),i=h.find(".boiler-list"),j=!1,k=!1,l=!1,m=function(){var b=e.ListItems||[];i.empty(),a.each(b,function(){i.append(a(d).append(this))})};g.registerCommand("open",function(a){j?a.deferred.reject("already opened"):(j=!0,g.command("Overlay.open",{html:h,immutable:!1}).done(function(b){j=!0,l?(m(),i.show()):i.hide(),b.events.close&&g.subscribe(b.events.close,function(){j=!1,g.publish("closed")}),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not open overlay")}),g.publish("opened"),a.deferred.resolve())}),g.registerCommand("close",function(a){j?g.command("Overlay.close").done(function(){j=!1,g.publish("closed"),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not close overlay")}):a.deferred.reject("already closed")}),g.registerCommand("configure",function(a){if(a.data){var b=a.data;"boolean"==typeof b.showList&&(l=b.showList),a.deferred.resolve()}else a.deferred.reject("No configuration provided")}),g.subscribe("App.closeAll",function(){g.command("close")}),g.subscribe("App.theme",function(){g.command("App.reTheme",{html:h})}),g.subscribe("App.i18n",function(b){"object"==typeof b.data.boiler&&a.extend(e,b.data.boiler)}),g.subscribe("App.ready",function(a){a.data.boiler&&g.command("configure",a.data.boiler)}),g.subscribe("App.mobileMode",function(){k=!0}),g.republish("ready")}}),define("text!plugins/cx-sidebar/html/cx-sidebar.html",[],function(){return'<div class="cx-widget cx-sidebar px32 preset-blue" data-gcb-service-node="true"></div>'}),define("text!plugins/cx-sidebar/html/cx-sidebar-button.html",[],function(){return'<div class="cx-sidebar-button" title="">\n	<div class="cx-icon"></div>\n	<div class="name"></div>\n</div>'}),define("cx-sidebar",["jquery","cx-bus","text!plugins/cx-sidebar/html/cx-sidebar.html","text!plugins/cx-sidebar/html/cx-sidebar-button.html"],function(a,b,c,d){"use strict";function e(a){if(a||a.data){var b=a.data||a;"boolean"==typeof b.autoOpen&&(j.autoOpen=b.autoOpen),a.deferred&&a.deferred.resolve()}else a.deferred&&a.deferred.reject("Invalid configuration")}function f(a,b){var c=g(a),d=n.length-1;void 0===c&&(n.push(a),d=n.length-1,c=d),b>d&&(b=d),c>=0&&b>=0&&c!=b&&(n.splice(c,1),n.splice(b,0,a)),h()}function g(a){for(var b=0;b<n.length;b++)if(n[b]===a)return b;return void 0}function h(){k.find("cx-sidebar-button").detach(),a.each(n,function(){m[this]&&k.append(m[this])})}var i=b.registerPlugin("SideBar"),j={autoOpen:!0};if(i){var k=a(c),l=a(d),m={},n=[],o=!1,p=!1,q=!1,r=!1,s=!1,t=null,u=null,v=!1;i.subscribe("App.ready",function(){i.command("App.reTheme",{html:k}),j.autoOpen&&i.command("open")}),i.subscribe("App.closeAll",function(){i.command("close")}),i.subscribe("App.theme",function(){i.command("App.reTheme",{html:k})}),i.subscribe("App.mobileMode",function(){v=!0}),i.registerCommand("open",function(b){o||(a(document.body).append(k),k.css({width:-1}),k.mouseenter(function(){clearTimeout(u),u=null,q||s||(t=setTimeout(function(){r=!0,s=!1,a(".cx-sidebar").animate({width:200},300,function(){q=!0,r=!1})},250))}),k.mouseleave(function(){clearTimeout(t),t=null,(q||r)&&(u=setTimeout(function(){r=!1,s=!0,a(".cx-sidebar").animate({width:48},300,function(){q=!1,s=!1})},500))}),v&&k.addClass("cx-mobile")),p?b.deferred.reject("already open"):(k.animate({width:48}),p=!0,b.deferred.resolve()),i.publish("opened")}),i.registerCommand("close",function(a){console.log("close"),p?(k.animate({width:0},function(){k.detach()}),p=!1,a.deferred.resolve()):a.deferred.reject("already closed");
}),i.registerCommand("addButton",function(a){var b=i.parsePluginName(a.commander);if(a.data&&a.data.button&&a.data.button.name&&!m[b]){var c=l.clone(),d=a.data.button,e="click:"+b;c.attr({title:d.title}),c.addClass(d["class"]),c.find(".cx-icon").addClass(d.icon||""),c.find(".name").text(d.name),c.click(function(){i.publish(e)}),m[b]=c,f(b,d.position),a.deferred.resolve({html:c,event:i.namespace()+"."+e})}else a.deferred.reject("Incorrect or Insufficient data or use of reserved name")}),i.registerCommand("configure",e),i.subscribe("App.ready",function(a){a.data.sidebar&&i.command("configure",a.data.sidebar)}),i.republish("ready")}}),define("cx-webchat-service",["jquery","cx-bus","cookie","uri"],function(a,b,c,d){"use strict";var e=b.registerPlugin("WebChatService");if(e){e.registerEvents(["ready","restored","restoreTimeout","restoreFailed","messageReceived","error","started","ended","agentTypingStarted","agentTypingStopped","pollingStarted","pollingStopped","clientConnected","clientDisconnected","agentConnected","agentDisconnected","supervisorConnected","supervisorDisconnected","clientTypingStarted","clientTypingStopped","ajaxResponse","disconnected","reconnected","chatServerWentOffline","chatServerBackOnline"]);var f=setInterval,g=!1,h=3e3,i=!1,j=!0,k=3e3,l="",m="",n="",o="",p="",q={domain:"."+d(window.location.href).domain(),path:"/"},r="_genesys.widgets.webchat.state",s=r+".session",t=r+".keys",u=r+".ping",v=r+".index",w=1,x=1,y=!1,z=!1,A=!1,B=!1,C=6e4,D="",E="",F="",G={},H=[],I=[],J={},K={},L=0,M=5,N=!1,O=!1,P=!1,Q=!1,R=!1,S={Timer:0,Timeout:2e3,TimeInterval:100,Interval:!1},T={standard:[/\{start\:[0-9]{9}\}/],custom:[]},U=function(b,d,f){var g=a.Deferred();return a.ajax({url:E+l+(b||""),type:d,crossDomain:!0,data:f,timeout:k,headers:{"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!1},success:function(a){a.id&&(a.sessionId=a.id),a.secureKey&&(n=a.secureKey),a.alias&&(o=a.alias),a.userId&&(m=a.userId),c.set(t,JSON.stringify({secureKey:n,alias:o,userId:m}),q),g.resolve(a||{}),B&&(B=!1,e.publish("reconnected")),e.publishDirect("ajaxResponse",a)},error:function(a){0===a.status&&(B=!0,e.publish("disconnected")),e.publish("error",a),g.reject(a||{})},beforeSend:function(a){p&&a.setRequestHeader("apikey",p)}}),g.promise()},V=function(b){var c=[];a.each(b.messages,function(){if(_(this.index)&&ba(this.text)){var a=W(this);X(a),c.push(a),H.push(a),I.push(this)}}),c.length>0&&e.publish("messageReceived",{originalMessages:b.messages,messages:c,restoring:z}),b.chatEnded===!0&&(e.command("stopPoll"),Z(),da(),e.publish("ended"),y=!1)},W=function(a){var b={};return"TypingStarted"==a.type?b.isTyping=!0:"TypingStopped"==a.type&&(b.isTyping=!1),b.text=a.text,b.type=a.type,b.index=a.index,b.timestamp=a.utcTime,b.from={id:a.from?parseInt(a.from.participantId):"",type:a.from?a.from.type:"",name:a.from?a.from.nickname:""},z&&(b.restoring=!0),a.index>=0&&a.index>=w&&(w=a.index+1,c.set(v,w,q)),b},X=function(a){var b=a.type,c=a.from.type,d=a.from.id,f={};if("Message"!=b&&"PushUrl"!=b&&"Notice"!=b||"Agent"!=c&&"Supervisor"!=c||e.publish("agentTypingStopped"),"ParticipantJoined"==b)switch(("Agent"==c||"Supervisor"==c)&&(J[d]={name:a.from.name,connected:!0,supervisor:"Supervisor"==c?!0:!1,connectedTime:a.timestamp,disconnectedTime:!1}),f={message:a,agents:J,numAgentsConnected:ea()},c){case"Client":e.publish("clientConnected",f);break;case"Agent":e.publish("agentConnected",f);break;case"Supervisor":e.publish("supervisorConnected",f)}else if("ParticipantLeft"==b)switch(J[d]&&(J[d].connected=!1,J[d].disconnectedTime=a.timestamp),f={message:a,agents:J,numAgentsConnected:ea()},c){case"Client":e.publish("clientDisconnected",f);break;case"Agent":e.publish("agentDisconnected",f),e.publish("agentTypingStopped");break;case"Supervisor":e.publish("supervisorDisconnected",f),e.publish("agentTypingStopped")}("Agent"==c||"Supervisor"==c)&&("TypingStarted"==b&&e.publish("agentTypingStarted",a),"TypingStopped"==b&&e.publish("agentTypingStopped",a))},Y=function(){return j&&c.get(u)&&(new Date).getTime()-parseInt(c.get(u))>=C?(Z(),e.publish("restoreTimeout"),!0):!1},Z=function(){c.remove(s,q),c.remove(t,q),c.remove(u,q),c.remove(v,q)},$=function(){Z(),y=!1,z=!1,i=!1,j=!0,l="",m="",n="",o="",w=1,x=1,H=[],I=[],J={},K={},L=0,A=!1,B=!1},_=function(a){return K[a]?!1:(K[a]=!0,!0)},aa=function(a,b){"string"==typeof a&&b instanceof RegExp&&(ca(b),e.command("sendMessage",{message:a}))},ba=function(a){for(var b=0;b<T.standard.length;b++)if((a+"").match(T.standard[b]))return!1;for(var b=0;b<T.custom.length;b++)if((a+"").match(T.custom[b]))return!1;return!0},ca=function(a){if(a){a.length||(a=[a]);for(var b=0;b<a.length;b++)T.custom.push(a[b])}},da=function(){T.custom=[]},ea=function(){var a=0;for(var b in J)J[b].connected===!0&&a++;return a};e.registerCommand("configure",function(b){if(b.data){var d=b.data,f="string",g="number",h=!1,i=!1;(typeof d.id==f||d.id==g)&&(D=d.id),(typeof d.apikey==f||typeof d.apikey==g)&&(p=d.apikey),typeof d.endpoint==f&&(F=d.endpoint),"object"==typeof d.userData&&a.extend(G,d.userData),typeof d.serverURL==f&&(E=d.serverURL),typeof d.ajaxTimeout==g&&(k=parseInt(d.ajaxTimeout)),typeof d.pollExceptionLimit==g&&(M=parseInt(d.pollExceptionLimit)),typeof d.restoreTimeout==g&&(C=parseInt(d.restoreTimeout)),typeof d.dataURL==f&&(E=d.dataURL,E&&"/"!=E[E.length-1]&&(E+="/")),"string"==typeof d.transferLink&&(N=d.transferLink),"string"==typeof d.inviteLink&&(O=d.inviteLink),("string"==typeof d.transferToken||"number"==typeof d.transferToken)&&(h=d.transferToken),("string"==typeof d.inviteToken||"number"==typeof d.inviteToken)&&(i=d.inviteToken),c.get(s)?e.command("restore"):h?(e.command("WebChat.open"),G["token-for-transfer"]=h):i&&(e.command("WebChat.open"),G["token-for-invitation"]=i),b.deferred.resolve()}else b.deferred.reject("Invalid configuration")}),e.registerCommand("startChat",function(b){if(y)return b.deferred.reject("There is already an active chat session"),!1;if("string"==typeof b.data.userData&&""!=b.data.userData.trim()){try{var d=JSON.parse(b.data.userData.trim())}catch(f){return b.deferred.reject("malformed JSON provided in userData property"),!1}"object"==typeof d&&(d=a.extend({},G,d))}else if("object"==typeof b.data.userData)var d=a.extend({},G,b.data.userData);$();var g={nickname:b.data.nickname||"",firstName:b.data.firstname||"",lastName:b.data.lastname||"",emailAddress:b.data.email||"",subject:b.data.subject||"",text:"",userData:d};b.da&&(g.endpoint=F),U("","POST",g).done(function(a){0==a.statusCode?(y=!0,l=a.chatId,n=a.secureKey,o=a.alias,m=a.userId,c.set(s,l,q),c.set(t,JSON.stringify({secureKey:n,alias:o,userId:m}),q),e.publish("started"),e.command("startPoll"),b.deferred.resolve(a)):b.deferred.reject(a)}).fail(function(a){b.deferred.reject(a)})}),e.registerCommand("endChat",function(a){return y?(e.command("stopPoll"),void U("/disconnect","POST",{alias:o,secureKey:n,userId:m}).always(function(b){var c={numAgentsConnected:0};y=!1,Z(),e.publish("supervisorDisconnected",c),e.publish("agentDisconnected",c),e.publish("clientDisconnected",c),e.publish("ended"),a.deferred.resolve(b)}).fail(function(b){a.deferred.reject(b)})):(a.deferred.reject("There is no active chat session"),!1)}),e.registerCommand("restore",function(a){"WebChatService"!=a.commander&&a.deferred.reject("Access Denied to private command. Only WebChatService is allowed to invoke this command");var b=c.get(s),d=c.get(t);"string"==typeof d&&d.length>0&&(d=JSON.parse(d)),b&&d&&!Y()&&(Z(),z=!0,l=b,U("/refresh","POST",{userId:d.userId,secureKey:d.secureKey,alias:d.alias,transcriptPosition:w,message:""}).done(function(b){b.chatEnded===!0?(z=!1,l="",n="",o="",m="",e.publish("restoreTimeout"),a.deferred.reject()):(e.publish("restored"),V(b),z=!1,y=!0,e.command("startPoll"),c.set(s,l,q),1==b.statusCode&&(e.publish("restoredOffline"),A=!0),a.deferred.resolve())}).fail(function(){z=!1,l="",n="",o="",m="",e.publish("restoreFailed"),a.deferred.reject()}))}),e.registerCommand("sendMessage",function(a){return y?"string"!=typeof a.data.message||""==(a.data.message+"").trim()?(a.deferred.reject("No message text provided"),!1):(S.Interval&&e.publish("clientTypingStopped"),clearInterval(S.Interval),S.Interval=!1,S.Timer=0,void U("/send","POST",{message:a.data.message,messageType:a.data.type||"text",userId:m,secureKey:n,alias:o}).done(function(b){a.deferred.resolve(b)}).fail(function(b){a.deferred.reject(b)})):(a.deferred.reject("There is no active chat session"),!1)}),e.registerCommand("sendFilteredMessage",function(a){y?(aa(a.data.message,a.data.regex),a.deferred.resolve()):a.deferred.reject("No active chat session.")}),e.registerCommand("addPrefilter",function(b){b.data.filters&&(b.data.filters instanceof RegExp||b.data.filters.length>0&&b.data.filters[0]instanceof RegExp)?(ca(b.data.filters),b.deferred.resolve(a.extend({},T.custom))):b.deferred.reject("Missing or invalid filters provided. Please provide a regular expression or an array of regular expressions")}),e.registerCommand("startPoll",function(a){return y?(g===!1&&(g=f(function(){e.command("poll")},h),e.command("poll"),e.publish("pollingStarted")),void a.deferred.resolve()):(a.deferred.reject("There is no active chat session"),!1)}),e.registerCommand("stopPoll",function(a){return 0==g?(a.deferred.reject("Not currently polling. Ignoring command."),!1):(0!=g&&(clearInterval(g),g=!1,e.publish("pollingStopped")),void a.deferred.resolve())}),e.registerCommand("poll",function(a){a.commander!=e.namespace()&&a.deferred.reject("Access Denied to private command. Only WebChatService is allowed to invoke this command"),i?a.deferred.reject("previous poll has not finished"):(i=!0,c.set(u,(new Date).getTime(),q),U("/refresh","POST",{userId:m,secureKey:n,alias:o,transcriptPosition:w,message:R?R.val():""}).done(function(b){0==b.statusCode&&A?(A=!1,L=0,e.publish("chatServerBackOnline")):1==b.statusCode&&!A&&++L>M&&(A=!0,e.publish("chatServerWentOffline")),V(b),i=!1,j=!1,z=!1,a.deferred.resolve(b)}).fail(function(b){i=!1,a.deferred.reject(b)}))}),e.registerCommand("resetPollExceptions",function(a){A=!1,L=0,a.deferred.resolve()}),e.registerCommand("sendTyping",function(a){if(!y)return a.deferred.reject("There is no active chat session"),!1;var b=a.data||{},c=!1,d=S;return"boolean"!=typeof b.isTyping&&(b.isTyping=!0),d.Interval?(d.Timer=0,a.deferred.resolve(),!1):(c=U("/startTyping","POST",{alias:o,secureKey:n,userId:m,message:b.message||""}),e.publish("clientTypingStarted"),d.Interval=setInterval(function(){d.Timer+=d.TimeInterval,d.Timer>=d.Timeout&&(clearInterval(d.Interval),d.Interval=!1,d.Timer=0,c=U("/stopTyping","POST",{alias:o,secureKey:n,userId:m,message:b.message||""}),e.publish("clientTypingStopped"))},d.TimeInterval),void c.done(function(b){a.deferred.resolve(b)}).fail(function(b){a.deferred.reject(b)}))}),e.registerCommand("getAgents",function(b){b.deferred.resolve({agents:a.extend(J,{})})}),e.registerCommand("getTranscript",function(a){a.deferred.resolve({messages:H,originalMessages:I})}),e.registerCommand("getStats",function(b){var c={agents:a.extend(J,{}),startTime:H[0].timestamp,endTime:!1,duration:!1};c.duration=H.reverse()[0].timestamp-c.startTime,b.deferred.resolve(c)}),e.registerCommand("registerTypingPreviewInput",function(b){var c=a(b.data.input);!c||"text"!=c[0].type&&"textarea"!=c[0].type?b.deferred.reject("Invalid value provided for the 'input' property. An HTML element reference to a textarea or text input is required."):(R=c,b.deferred.resolve())}),e.registerCommand("getTransferLink",function(a){"string"==typeof O?P?a.deferred.resolve({link:"<b class='link'>"+O+"?webchattransfer="+P+"</b>"}):U("/invite","POST",{alias:o,secureKey:n,userId:m}).done(function(b){P=b.userData["token-for-transfer"],Q=b.userData["token-for-invitation"],a.deferred.resolve({link:"<b class='link'>"+O+"?webchattransfer="+P+"</b>"})}).fail(function(b){a.deferred.reject(b)}):a.deferred.reject("Transfer feature is not configured. Command ignored.")}),e.registerCommand("getInviteLink",function(a){"string"==typeof O?Q?a.deferred.resolve({link:"<b class='link'>"+O+"?webchatinvite="+Q+"</b>"}):U("/invite","POST",{alias:o,secureKey:n,userId:m}).done(function(b){P=b.userData["token-for-transfer"],Q=b.userData["token-for-invitation"],a.deferred.resolve({link:"<b class='link'>"+O+"?webchatinvite="+Q+"</b>"})}).fail(function(b){a.deferred.reject(b)}):a.deferred.reject("Invite feature is not configured. Command ignored.")}),e.subscribe("App.ready",function(a){a.data.webchat&&e.command("configure",a.data.webchat)}),e.republish("ready")}}),define("text!plugins/cx-webchat/html/cx-webchat.html",[],function(){return'<div>\n\n	<div role="alertdialog" aria-describedby="cx_chat_end_question" class="cx-alert chat-end">\n		<div class="cx-wrapper">\n			<p id="cx_chat_end_question" class="i18n" data-message="ChatEndQuestion" tabindex="0">\n			</p>\n			<div class="cx-button-group cx-buttons-binary">\n				<button class="end-cancel btn btn-default i18n" data-message="ChatEndCancel" tabindex="0"></button>\n				<button class="end-confirm btn btn-primary i18n" data-message="ChatEndConfirm" tabindex="0"></button>\n			</div>\n		</div>\n	</div>\n\n	<div class="smokescreen"></div>\n\n	<div class="form" role="form" class="form-horizontal ng-pristine ng-valid">\n	\n		<table>\n			<tr>\n				<th><label class="control-label i18n" for="cx_webchat_form_firstname" data-message="ChatFormFirstName"></label></th>\n				<td><input class="form-control i18n" id="cx_webchat_form_firstname" maxlength="100" name="firstname" type="text" data-message="ChatFormPlaceholderFirstName" data-message-type="placeholder"/></td>\n			</tr>\n			<tr>\n				<th><label class="control-label i18n" for="cx_webchat_form_lastname" data-message="ChatFormLastName"></label></th>\n				<td><input class="form-control i18n" id="cx_webchat_form_lastname" maxlength="100" name="lastname" type="text" data-message="ChatFormPlaceholderLastName" data-message-type="placeholder"/></td>\n			</tr>\n			<tr>\n				<th><label class="control-label i18n" for="cx_webchat_form_email" data-message="ChatFormEmail"></label></th>\n				<td><input class="form-control i18n" id="cx_webchat_form_email" maxlength="100" name="email" type="email" data-message="ChatFormPlaceholderEmail" data-message-type="placeholder"/></td>\n			</tr>\n			<tr>\n				<th><label class="control-label i18n" for="cx_webchat_form_subject" data-message="ChatFormSubject"></label></th>\n				<td><input class="form-control i18n" id="cx_webchat_form_subject" maxlength="100" name="subject" type="text" data-message="ChatFormPlaceholderSubject" data-message-type="placeholder"/></td>\n			</tr>\n		</table>\n\n		<div class="cx-button-group cx-buttons-binary">\n			<button class="btn btn-default i18n" data-message="ChatFormCancel" tabindex="0"></button>\n			<button class="submit btn btn-primary i18n" data-message="ChatFormSubmit" tabindex="0"></button>\n		</div>\n\n		<!--label><span class="i18n" data-message="ChatFormNickname">Nickname</span><input name="nickname"/></label-->\n	\n	</div>\n\n	<div class="transcript-wrapper" tabindex="0">\n		<div aria-live="polite" class="transcript"></div>\n	</div>\n	\n	<div class="input-container">\n\n		<table width="100%" cellspacing="0" cellspadding="0">\n			<tr>\n				<td class="textarea-cell">\n\n					<textarea class="input i18n form-control" maxlength="5000" data-message="ChatInputPlaceholder" data-message-type="placeholder" tabindex="0"></textarea>\n					\n					<div class="cx-tooltip-menu emoji">\n						 <button tabindex="0">&#128515;</button>\n                         <div>\n							<span class="option smile" data-unicode="&#128515;" data-ascii=":)" tabindex="0">&#128515;</span>\n                            <span class="option thumbsup" data-unicode="&#128077;" data-ascii="" tabindex="0">&#128077;</span>\n                            <span class="option sad" data-unicode="&#128542;" data-ascii=":(" tabindex="0">&#128542;</span>\n                         </div>\n              		</div>\n\n				</td>\n				<td valign="top" class="actions-menu-cell">\n\n					<div class="cx-tooltip-menu actions">\n									<div>\n							<ul>\n								<!--li class="option i18n" data-option="0" data-message="ActionsDownload">Download transcript</li-->\n								<!--li class="option i18n" data-option="1" data-message="ActionsEmail">Email transcript</li-->\n								<!--li class="option i18n" data-option="2" data-message="ActionsPrint">Print transcript</li-->\n								<li class="option cobrowse disabled i18n" data-option="3" data-message="ActionsCobrowseStart" tabindex="0"></li>\n								<!--li class="option i18n" data-option="4" data-message="ActionsVideo">Invite to Video Chat</li-->\n								<!--li class="option transfer i18n" data-option="5" data-message="ActionsTransfer"></li-->\n								<!--li class="option invite i18n" data-option="6" data-message="ActionsInvite"></li-->\n							</ul>\n						</div>\n					</div>\n\n				</td>\n			</tr>\n		</table>\n\n		<button class="send i18n" data-message="ChatSend"></button>\n	</div>\n\n	<!-- <div class="start-cobrowse i18n" data-message="CoBrowseStart">Start CoBrowse</div> -->\n\n</div>'}),define("text!plugins/cx-webchat/html/cx-webchat-toaster.html",[],function(){return'<div class="cx-webchat-toaster">\n	<div class="cx-message"><%= message %></div>\n</div>'}),define("text!plugins/cx-webchat/html/cx-webchat-message-agent.html",[],function(){return'<div class="message">\n	\n	<div class="avatar-wrapper">\n		<div class="avatar"></div>\n	</div>	\n\n	<div class="bubble-arrow">\n		<svg height="7" width="7">\n		  <polygon class="left" points="0,0 7,0 7,7" />\n		  <polygon class="right" points="0,0 0,7 7,0" />\n		</svg>\n	</div>\n\n	<p aria-atomic="false" class="bubble" >\n		<span aria-hidden="true" class="name"></span>\n		<span class="aria-name" data-message="AriaTheySaid"></span>\n		<span class="message-text"></span>\n		<span class="time"></span>\n	</p>\n\n</div>'}),define("text!plugins/cx-webchat/html/cx-webchat-message-customer.html",[],function(){return'<div class="message">\n	\n	<p class="bubble" aria-atomic="false">	\n		<span aria-hidden="true" class="name"></span>\n		<span class="aria-name" data-message="AriaYouSaid"></span>\n		<span class="message-text"></span>\n		<span class="time"></span>\n	</p>\n\n	<div class="bubble-arrow">\n		<svg height="7" width="7">\n		  <polygon class="left" points="0,0 7,0 7,7" />\n		  <polygon class="right" points="0,0 0,7 7,0" />\n		</svg>\n	</div>\n\n	<div class="avatar-wrapper">\n		<div class="avatar"></div>\n	</div>\n</div>'}),define("text!plugins/cx-webchat/html/cx-webchat-chat-button.html",[],function(){return'<div class="cx-widget cx-webchat-chat-button" data-message="ChatButton" data-gcb-service-node="true">\n	<span class="cx-icon cx-chat-button-img cx-img-map preset-blue px24 chat"></span>\n	<span class="i18n cx-chat-button-label" data-message="ChatButton" tabindex="0"></span>\n</div>'}),define("text!plugins/cx-webchat/html/cx-webchat-alert.html",[],function(){return'<div role="alertdialog" aria-describedby="cx_chat_error_desc" class="cx-alert general">\n	<div class="cx-wrapper">\n		<p id="cx_chat_error_desc" class="i18n"></p>\n		<div class="cx-button-group cx-buttons-single">\n			<button class="error-button btn btn-primary i18n" data-message="ChatErrorButton" tabindex="0"></button>\n		</div>\n	</div>\n</div>'}),define("plugins/cx-webchat/nls/string.js",{ChatButton:"Chat",ChatStarted:"Chat Started",ChatEnded:"Chat Ended",AgentNameDefault:"Agent",AgentConnected:"<%Agent%> Connected",AgentDisconnected:"<%Agent%> Disconnected",SupervisorNameDefault:"Supervisor",SupervisorConnected:"<%Agent%> Connected",SupervisorDisconnected:"<%Agent%> Disconnected",AgentTyping:"...",AgentUnavailable:"Sorry. There are no agents available. Please try later",ChatTitle:"Live Chat",ChatEnd:"X",ChatClose:"X",ChatMinimize:"Min",ChatFormFirstName:"First Name",ChatFormLastName:"Last Name",ChatFormNickname:"Nickname",ChatFormEmail:"Email",ChatFormSubject:"Subject",ChatFormPlaceholderFirstName:"Required",ChatFormPlaceholderLastName:"Required",ChatFormPlaceholderNickname:"Optional",ChatFormPlaceholderEmail:"Optional",ChatFormPlaceholderSubject:"Optional",ChatFormSubmit:"Start Chat",ChatFormCancel:"Cancel",ChatInputPlaceholder:"Type your message here and hit return",ChatInputSend:"SEND",ChatEndQuestion:"Are you sure you want to end this chat session?",ChatEndCancel:"Cancel",ChatEndConfirm:"End chat",ActionsDownload:"Download transcript",ActionsEmail:"Email transcript",ActionsPrint:"Print transcript",ActionsCobrowseStart:"Start Co-browse",ActionsCobrowseStop:"Exit Co-browse",ActionsVideo:"Invite to Video Chat",ActionsTransfer:"Transfer",ActionsInvite:"Invite",InstructionsTransfer:"Open this link on another device to transfer your chat session</br></br><%link%>",InstructionsInvite:"Share this link with another person to add them to this chat session</br></br><%link%>",InviteTitle:"Need help?",InviteBody:"Let us know if we can help out.",InviteReject:"No thanks",InviteAccept:"Start chat",ChatError:"There was a problem starting the chat session. Please Retry.",ChatErrorButton:"OK",RestoreTimeoutTitle:"Chat ended",RestoreTimeoutBody:"Your previous chat session has timed out. Would you like to start a new one?",RestoreTimeoutReject:"No thanks",RestoreTimeoutAccept:"Start chat",EndConfirmBody:"Would you really like to end your chat session?",EndConfirmAccept:"End chat",EndConfirmReject:"Cancel",UnreadMessagesTitle:"unread",AriaYouSaid:"You said",AriaSaid:"said",AriaSystemSaid:"System said",AriaMinimize:"Live Chat minimize",AriaMaximize:"Live Chat Maximize",AriaClose:"Live chat close",Errors:{ChatUnavailable:"We're sorry but we cannot start a new chat at this time. Please try again later",CriticalFault:"Your chat session has ended unexpectedly due to an unknown issue. We apologize for the inconvenience",StartFailed:"There was an issue starting your chat session. Please verify your connection and that you submitted all required information properly, then try again",MessageFailed:"Your message was not received successfully. Please try again",RestoreFailed:"We're sorry but we were unable to restore your chat session due to an unknown error",TransferFailed:"Unable to transfer chat at this time. Please try again later",InviteFailed:"Unable to generate invite at this time. Please try again later",ChatServerWentOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay",RestoredOffline:"Messages are currently taking longer than normal to get through. We're sorry for the delay",Disconnected:"<div style='text-align:center'>Connection Lost.<br/>Please check your connection</div>",Reconnected:"<div style='text-align:center'>Connection Restored</div>",102:"First name is required",103:"Last name is required",161:"Please enter your name",201:"Maximum number of files exceeded",202:"Maximum filesize exceeded",203:"Unsupported file submitted",364:"Invalid email address"}}),define("cx-webchat",["jquery","cx-bus","text!./plugins/cx-webchat/html/cx-webchat.html","text!./plugins/cx-webchat/html/cx-webchat-toaster.html","text!./plugins/cx-webchat/html/cx-webchat-message-agent.html","text!./plugins/cx-webchat/html/cx-webchat-message-customer.html","text!./plugins/cx-webchat/html/cx-webchat-chat-button.html","text!./plugins/cx-webchat/html/cx-webchat-alert.html","./plugins/cx-webchat/nls/string.js","cx-common","cookie","uri","cx-iscroll"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=b.registerPlugin("WebChat");if(n){n.registerEvents(["ready","opened","closed","minimized","unminimized"]);var o={cookieOptions:{domain:"."+l(window.location.href).domain(),path:"/"},chatButton:{enabled:!1,template:g,openDelay:1e3,effect:"fade",effectDuration:300,hideDuringInvite:!0},proactive:{enabled:!1,idleTimer:5,cancelTimer:30},avatars:{agent:"cx-img-map preset-blue avatar-agent px48",customer:"cx-img-map preset-blue avatar-customer px48"},actionsMenu:!0,emojis:!1,inviteOnRestoreTimeout:!0,groupMessages:!0,userData:{},i18n_messages:i,template:c},p=a(),q=!1,r=!1,s=!1,t=a(o.chatButton.template),u=a(),v=(p.find(".transcript"),null),w=!1,x=!1,y=!1,z=!1,A=!1,B=!1,C=!1,D=!1,E=!1,F=!1,G=!1,H=!1,I=!1,J=!1,K=!1,L=!1,M=!1,N=o.iMessageGroupingThreshold||1e5,O=0,P={},Q="_genesys.widgets.webchat.state",R=Q+".minimized",S=Q+".unreadMessages",T=Q+".lastMessageCountRead",U="_genesys.widgets.webchat.autoInvite.disabled",V={proactiveIdle:null},W=[{id:"did_you_find",type:"radio",label:"Did you find everything you wanted today in Chat today?",options:["Yes","No"]},{id:"rate_your_exp",type:"rating",label:"How would you rate your chat experiance?"},{id:"rate_agent",type:"range",label:"Rate your chat agent out of ten:"}],X=function(){V.proactiveIdle&&n.unsubscribe(V.proactiveIdle),k.get(U)||(V.proactiveIdle=n.subscribe("Watchman.idle:"+o.proactive.idleTimer,function(){r||o.proactive.enabled!==!0||n.command("invite").done(function(){n.command("Watchman.countdown",{time:o.proactive.cancelTimer}).done(function(a){n.subscribe(a,function(){r&&(n.command("Toaster.close"),n.command("showChatButton"))})})})}))},Y=function(){q&&(E&&C?q.removeClass("disabled"):q.addClass("disabled")),q&&q.html(F?i.ActionsCobrowseStop:i.ActionsCobrowseStart)},Z=function(){Y()},$=function(){var a=k.get(T)||O,b=O-a;b>0?s.css({display:""}).text(b)[0].title=b+" "+i.UnreadMessagesTitle:s.css({display:"none"})},_=function(){p&&p.find(".i18n").each(function(){var b=a(this);switch(b.data("message-type")){case"transcript":b.find(".message-text").html(i[b.data("message")]);break;case"placeholder":b.attr("placeholder",i[b.data("message")]);break;default:b.text(i[b.data("message")])}})},aa=function(){if(H){var b=a(window).height(),c=a(window).width();p.removeClass("cx-portrait cx-landscape"),p.addClass(b>c?"cx-portrait":"cx-landscape");var d=b,e=p.find(".cx-titlebar").outerHeight(),f=p.find(".input-container").outerHeight();p.find(".cx-footer").outerHeight(),p.find(".transcript-wrapper").height(d-e-f),ra()}},ba=function(){var b=j.Generate.Container({type:"generic",title:i.ChatTitle,body:!1,icon:"cx-img-map preset-blue px32 chat",controls:"all",buttons:!1});return b.addClass("cx-webchat"),b.attr({"data-gcb-service-node":!0}),b.find(".cx-button-minimize").attr("aria-label",i.AriaMinimize),b.find(".cx-button-close").attr("aria-label",i.AriaClose),s=a("<div class='cx-webchat-counter'></div>"),s.click(function(){D&&n.command("minimize")}),b.find(".cx-title").text(i.ChatTitle).append(s),b.find(".cx-button-close").click(function(){y?(D&&n.command("minimize"),ja()):n.command("close")}),b.find(".cx-button-minimize").click(function(){n.command("minimize")}),b.find(".cx-body").append(a(c)),b.find(".form .form-control").keydown(function(a){return 13==a.which?(ia(a),!0):void 0}),b.find(".cx-tooltip-menu").tooltipMenu(),q=b.find(".actions .option.cobrowse"),b.find(".cx-tooltip-menu.actions li").click(function(){switch(a(this).data("option")){case 0:return!1;case 1:return!1;case 2:return!1;case 3:F?n.command("CoBrowse.stop"):C&&n.command("CoBrowse.start");break;case 4:return!1;case 5:n.command("WebChatService.getTransferLink").done(function(a){fa(i.InstructionsTransfer.replace("<%link%>",a.link))}).fail(function(){fa(i.Errors.TransferFailed)});break;case 6:n.command("WebChatService.getInviteLink").done(function(a){fa(i.InstructionsInvite.replace("<%link%>",a.link))}).fail(function(){fa(i.Errors.InviteFailed)})}}),b.find(".cx-tooltip-menu.emoji").click(function(a){a.preventDefault(),b.find("textarea.input").focus()}),b.find(".cx-tooltip-menu.emoji span").click(function(){b.find("textarea.input").insertAtCaret(a(this).data("unicode")),b.find("textarea.input").focus()}),b.find("textarea.input").textAreaAutoHeight({lineLimit:3,callback:function(){aa()}}),b.find(".form .btn-default").click(function(a){a.preventDefault(),n.command("close")}),b.find(".form .btn-primary").click(function(a){a.preventDefault(),ia(a)}),b.find(".cx-alert.chat-end button.end-confirm").click(function(){ka(),oa()}),b.find(".cx-alert.chat-end button.end-cancel").click(function(){ka()}),b.find(".cx-alert.chat-error button.error-button").click(function(){ga()}),b.find("textarea.input").keydown(function(a){return 13!=a.which||a.ctrlKey?void n.command("WebChatService.sendTyping",{isTyping:!0}):(la(),a.preventDefault(),a.stopPropagation(),b.find("textarea.input").keyup(),!0)}),b.find("textarea.input").addClass("disabled").attr("disabled",!0),b},ca=function(){var a={};return p.find(".form input").each(function(){a[this.name]=this.value}),a},da=function(){p.find(".form").hide(),p.find(".transcript-wrapper").show(),p.find(".input-container").show(),p.find("textarea.input").keyup()},ea=function(b){if(b=b.data||b,w)switch(b.status+""){case"400":if(b.status+""=="400"&&b.responseJSON&&b.responseJSON.error)fa(i.Errors.StartFailed);else if(b.responseJSON&&b.responseJSON.errors){var c="";a.each(b.responseJSON.errors||[],function(a){a>0&&(c+="<br/><br/>"),c+=i.Errors[this.code+""]||i.Errors.Generic,ha(this.code)}),c&&fa(c)}break;case"0":y||fa(i.Errors.StartFailed)}},fa=function(b,c){var d=a(h);return p.find(".cx-alert.general").remove(),d.find("p.i18n").html(b||i.ChatError||""),d.find(".i18n.error-button").html(c||i.ChatErrorButton||"").click(function(){ga(d)}),d.show(),p.find(".smokescreen").show(),d.insertBefore(p.find(".smokescreen")),d.find(".error-button").focus(),d},ga=function(a){a?a.remove():p.find(".cx-alert.general").remove(),p.find(".smokescreen").hide()},ha=function(a){var b=p.find(".form");switch(a+""){case"102":b.find("input[name=firstname]").addClass("error");break;case"103":b.find("input[name=lastname]").addClass("error");break;case"161":b.find("input[name=firstname], input[name=lastname]").addClass("error");break;case"364":b.find("input[name=email]").addClass("error")}},ia=function(b){var c=a(this).data("userData")||b.userData||{};c=a.extend(c,P),p.find(".form input").removeClass("error"),n.command("WebChatService.startChat",a.extend(ca(),{userData:c})).done(function(){y=!0,B=!1,x=!1,da(),p.find("textarea.input").removeClass("disabled").attr("disabled",!1).focus()}).fail(function(a){1==a.statusCode&&fa(i.Errors.ChatUnavailable)})},ja=function(){p.find(".cx-alert.chat-end").show(),p.find(".end-confirm").focus(),p.find(".smokescreen").show()},ka=function(){p.find(".cx-alert.chat-end").hide(),p.find(".smokescreen").hide()},la=function(a){var b=a||p.find("textarea.input").val()||"";b=b.trim(),""!=b&&(n.command("WebChatService.sendMessage",{message:b,type:"text"}).done(function(a){1==a.statusCode&&(fa(i.Errors.MessageFailed),p.find("textarea.input").val(b))}),a||p.find("textarea.input").val(""))},ma=function(b){var c=u,d="",g=b.type||"",h=b.text;return b.text=j.linkify(j.sanitizeHTML(b.text)),h!=b.text&&(b.bHTML=!0),o.groupMessages&&"External"!=g&&c&&b.name==c.data("name")&&(c.hasClass("them")&&na(g)||c.hasClass("you")&&"Client"===g)&&b.timestamp&&c.data("time")&&b.timestamp-c.data("time")<=N?(c.find(".message-text").append(b.bHTML?a("<p>").html(b.text):a("<p>").text(b.text)),ra(!0)):(c=a(b.bCustom===!0?"<div></div>":"Agent"==g||"External"==g||"Supervisor"==g?e:"Client"==g?f:"<div><span class='avatar'></span><span class='name'></span><span class='message'></span></div>"),"injected"==g?c.addClass("injected"):"External"==g?(i[b.text]?(d=b.text,b.text=i[b.text]):b.text=b.text,c.addClass("system"),c.attr({"data-message":d,"data-message-type":"transcript"}),c.find(".aria-name").attr("aria-label",i.AriaSystemSaid),c.addClass("i18n")):(na(g)?(c.addClass("them").addClass(g),c.find(".aria-name").attr("aria-label",g+" "+b.name+" "+i.AriaSaid)):(c.addClass("you"),c.find(".aria-name").attr("aria-label",i.AriaYouSaid)),o.avatars&&(na(g)&&o.avatars.agent?c.find(".avatar").addClass(o.avatars.agent):"Client"==g&&o.avatars.customer&&c.find(".avatar").addClass(o.avatars.customer))),c.find(".name").text(b.name),b.bCustom===!0?c.html(b.text):b.bHTML?c.find(".message-text").html(b.text):c.find(".message-text").text(b.text),p.find(".transcript .NewTextBubble").removeClass("NewTextBubble"),
c.addClass("NewTextBubble"),p.find(".transcript").append(c),u=c,c.hide().fadeIn(),ra(!0)),D&&p.addClass("NewMessage"),b.timestamp&&(c.find(".time").text(new Date(b.timestamp).toLocaleTimeString().split(":").slice(0,2).join(":")),c.data("time",b.timestamp)),c.data("name",b.name),c&&(qa(),O++,D&&$()),ra(),c},na=function(a){return"Agent"==a||"Supervisor"==a},oa=function(){n.command("WebChatService.endChat")},pa=function(a,b,c){var d="",a=(a+"").toLowerCase()||"text",e=!1;switch(a){case"text":if("object"==typeof c&&c[0]&&c[0].outerHTML)d=c[0].outerHTML;else{if("string"!=typeof c)return!1;d=c}break;case"html":d=c;break;default:return!1}return e=ma({name:b,text:d,type:"injected",timestamp:(new Date).getTime(),bHTML:"html",bCustom:"html"==a?!0:!1}),ra(!0),e},qa=function(){p&&p.find(".transcript").append(p.find(".agent-typing").detach())},ra=function(a){v&&(v.refresh(),a&&v.scrollTo(0,v.maxScrollY,0))};n.subscribe("WebChatService.error",ea),n.subscribe("Survey.onSubmit",function(){}),n.subscribe("CoBrowse.online",function(){E=!0,Z()}),n.subscribe("CoBrowse.started",function(){F=!0,Z()}),n.subscribe("CoBrowse.stopped",function(){L=!1,F=!1,Z()}),n.subscribe("WebChatService.messageReceived",function(b){a.each(b.data.messages||[],function(){var a=this.from.type,b=this.type,c=!1;if("Message"==b||"PushUrl"==b||"Notice"==b)ma({restoring:this.restoring,index:this.index,name:this.from.name,text:this.text,type:a,timestamp:this.timestamp});else if("ParticipantJoined"==b||"ParticipantLeft"==b){if("ParticipantJoined"==b)switch(a){case"Client":x||(c="ChatStarted",x=!0);break;case"Agent":c="AgentConnected";break;case"Supervisor":c="SupervisorConnected"}else if("ParticipantLeft"==b){switch(a){case"Agent":c="AgentDisconnected";break;case"Supervisor":c="SupervisorDisconnected"}"Agent"==a&&(c="AgentDisconnected"),"Supervisor"==a&&(c="SupervisorDisconnected")}c&&ma({restoring:this.restoring,index:this.index,name:this.from.name,text:i[c].replace("<%Agent%>",this.from.name||i.AgentNameDefault),type:"External",timestamp:this.timestamp})}})}),n.subscribe("WebChatService.restoreTimeout",function(){n.command("showChatButton"),n.command("reInvite"),k.remove(R,o.cookieOptions),k.remove(S,o.cookieOptions)}),n.subscribe("WebChatService.agentConnected",function(){B=!0,C=!0,Z()}),n.subscribe("WebChatService.agentDisconnected",function(a){C=0===a.data.numAgentsConnected?!1:!0,Z()}),n.subscribe("WebChatService.restored",function(a){y=!0;var b=k.get(R);$(),a.pending&&(G=!0),n.command("open",{restoring:!0,form:!1,minimized:"true"==b?!0:!1}),v&&ra(v)}),n.subscribe("WebChatService.ended",function(){y=!1,ma({index:O+1,name:"",text:i.ChatEnded,type:"External",timestamp:0}),x=!1}),n.subscribe("WebChatService.agentTypingStarted",function(b){if(0==p.find(".transcript .agent-typing").length){var c=a(e);c.addClass("agent-typing them"),c.attr("data-id",b.data.from.id||"test"),c.find(".name").text(b.data.from.name||i.AgentNameDefault),c.find(".message-text").text(i.AgentTyping.replace("<%Agent%>",b.data.from.name||i.AgentNameDefault)),c.find(".avatar").addClass(o.avatars.agent),p.find(".transcript").append(c),c.find(".avatar").hide().fadeIn(),c.find("> p").hide().slideDown(),ra(!0)}}),n.subscribe("WebChatService.agentTypingStopped",function(a){p&&(a.data.from?(p.find(".transcript .agent-typing[data-id="+a.data.from.id+"]").remove(),ra(!0)):(p.find(".transcript .agent-typing").remove(),ra(!0)),p.removeClass("agentTyping"))}),n.subscribe("WebChatService.restoredOffline",function(){fa(i.Errors.RestoredOffline).find(".btn-primary").click(function(){n.command("WebChatService.resetPollExceptions")})}),n.subscribe("WebChatService.chatServerWentOffline",function(){fa(i.Errors.ChatServerWentOffline).find(".btn-primary").click(function(){n.command("WebChatService.resetPollExceptions")})}),n.subscribe("WebChatService.chatServerBackOnline",function(){ga()}),n.subscribe("WebChatService.disconnected",function(){K||fa(i.Errors.Disconnected),K=!0}),n.subscribe("WebChatService.reconnected",function(){var a=fa(i.Errors.Reconnected);K=!1,setTimeout(function(){ga(a)},2e3)}),n.registerCommand("open",function(b){w?b.deferred.reject("already opened"):(b.data.restoring||k.remove(S,o.cookieOptions),n.command("Toaster.close"),p&&p[0]||(p=ba()),b.data.form===!1&&da(),o.emojis===!1?p.find(".cx-tooltip-menu.emoji").hide():o.emojis===!0&&p.find(".cx-tooltip-menu.emoji").show(),o.actionsMenu===!1?p.find(".cx-tooltip-menu.actions").hide():o.actionsMenu===!0&&p.find(".cx-tooltip-menu.actions").show(),n.command("WindowManager.registerDockView",{html:p}).done(function(){if(I||p.find(".actions .option.transfer").addClass("disabled"),J||p.find(".actions .option.invite").addClass("disabled"),b.data.minimized===!0&&n.command("minimize",{minimized:!0}),y&&p.find("textarea.input").removeClass("disabled").attr("disabled",!1).focus(),w=!0,n.publish("opened"),n.command("hideChatButton"),H&&p.addClass("cx-mobile"),_(),Z(),P=b.data.attachedData||b.data.userData||{},n.command("WebChatService.registerTypingPreviewInput",{input:p.find("textarea.form-control")}),b.data&&"object"==typeof b.data.form){var c=b.data.form;a("#cx_webchat_form_firstname").val(c.firstname||""),a("#cx_webchat_form_lastname").val(c.lastname||""),a("#cx_webchat_form_email").val(c.email||""),a("#cx_webchat_form_subject").val(c.subject||""),c.autoSubmit===!0&&ia({userData:P||{}})}H&&aa(),p.find("textarea.input").keyup(),v=new m(p.find(".transcript-wrapper")[0],{mouseWheel:!0,click:!0,scrollbars:"custom",momentum:!0,keyBindings:!0}),ra(!0),a("#cx_webchat_form_firstname").focus(),b.deferred.resolve()}).fail(function(){b.deferred.reject("WindowManager.registerDockView failed")}))}),n.registerCommand("close",function(b){w===!0&&p?(p.animate({bottom:0-p.height()+"px"},{duration:500,done:function(){p.remove(),p=a(),b.deferred.resolve(),n.publish("closed"),n.command("showChatButton"),B&&n.command("Survey.open",{questions:W})}}),w=!1):b.deferred.reject("already closed")}),n.registerCommand("configure",function(b){if(b.data){var c=b.data,d=o;if("boolean"==typeof c.inviteOnRestoreTimeout&&(d.inviteOnRestoreTimeout=c.inviteOnRestoreTimeout),"object"==typeof c.chatButton){var e=c.chatButton;"boolean"==typeof e.enabled&&(d.chatButton.enabled=e.enabled),"number"==typeof e.openDelay&&(d.chatButton.openDelay=parseInt(e.openDelay)),"string"==typeof e.template&&(d.chatButton.template=e.template),"string"==typeof e.effect&&(d.chatButton.effect=e.effect),"number"==typeof e.effectDuration&&(d.chatButton.effectDuration=parseInt(e.effectDuration)),"boolean"==typeof e.hideDuringInvite&&(d.chatButton.hideDuringInvite=e.hideDuringInvite),t=a(d.chatButton.template),t.click(function(){n.command("open")}),d.chatButton.enabled&&n.command("showChatButton")}if("object"==typeof c.proactive){var f=c.proactive;"boolean"==typeof f.enabled&&(d.proactive.enabled=f.enabled),"number"==typeof f.idleTimer&&(d.proactive.idleTimer=f.idleTimer),"number"==typeof f.cancelTimer&&(d.proactive.cancelTimer=f.cancelTimer),X()}if("boolean"==typeof c.emojis&&(d.emojis=c.emojis),"boolean"==typeof c.actionsMenu&&(d.actionsMenu=c.actionsMenu),"object"==typeof c.autoInvite){var g=c.autoInvite;"boolean"==typeof g.enabled&&(d.proactive.enabled=g.enabled),"number"==typeof g.timeToInviteSeconds&&(d.proactive.idleTimer=g.timeToInviteSeconds),"number"==typeof g.inviteTimeoutSeconds&&(d.proactive.cancelTimer=g.inviteTimeoutSeconds),X()}"string"==typeof c.transferLink&&(I=!0),"string"==typeof c.inviteLink&&(J=!0),b.deferred.resolve()}else b.deferred.reject("Invalid configuration")}),n.registerCommand("minimize",function(a){var b=a.data.minimized;D&&b!==!0?(D||b===!1)&&(p.hasClass("minimized")&&p.removeClass("minimized").find(".cx-button-minimize.icon-full-screen").removeClass("icon-full-screen").addClass("icon-minimize").attr("aria-label",i.AriaMinimize),D=!1,k.remove(T,o.cookieOptions),n.publish("unminimized"),y&&ra(!0),H&&aa(),p.find("textarea.input").keyup()):(p.addClass("minimized").find(".cx-button-minimize.icon-minimize").removeClass("icon-minimize").addClass("icon-full-screen").attr("aria-label",i.AriaMaximize),D=!0,k.get(T)||k.set(T,O,o.cookieOptions),n.publish("minimized")),$(),y&&k.set(R,D,o.cookieOptions),a.deferred.resolve()}),n.registerCommand("endChat",function(a){y?(oa(),a.deferred.resolve()):a.deferred.reject("there is no active chat session to end")}),n.registerCommand("invite",function(b){w?b.deferred.reject("Chat is already open. Ignoring invite command."):(o.chatButton.hideDuringInvite&&n.command("hideChatButton"),n.command("Toaster.open",{type:"generic",title:i.InviteTitle,body:i.InviteBody,icon:"cx-img-map preset-blue px48 chat",controls:"",buttons:{type:"binary",primary:i.InviteAccept,secondary:i.InviteReject}}).done(function(c){c.html&&(b.deferred.resolve(),r=a(c.html),r.find(".btn.btn-primary").click(function(){k.set(U,!0,o.cookieOptions),n.command("Toaster.close").done(function(){n.command("open")})}),r.find(".btn.btn-default").click(function(){k.set(U,!0,o.cookieOptions),n.command("Toaster.close"),n.command("showChatButton")}))}).fail(function(){}))}),n.registerCommand("reInvite",function(b){!w&&o.inviteOnRestoreTimeout?(o.chatButton.hideDuringInvite&&n.command("hideChatButton"),n.command("Toaster.open",{type:"generic",title:i.RestoreTimeoutTitle,body:i.RestoreTimeoutBody,icon:"cx-img-map preset-blue px48 chat",controls:"close",buttons:{type:"binary",primary:i.RestoreTimeoutAccept,secondary:i.RestoreTimeoutReject}}).done(function(c){if(c.html){b.deferred.resolve();var d=a(c.html);d.find(".btn.btn-primary").click(function(){n.command("Toaster.close").done(function(){n.command("open")})}),d.find(".btn.btn-default").click(function(){n.command("Toaster.close"),n.command("showChatButton")})}}).fail(function(){})):b.deferred.reject("Chat is already open. Ignoring invite command.")}),n.registerCommand("injectMessage",function(a){w&&y?a.deferred.resolve(pa(a.data.type,a.data.name,a.data.text,a.data.custom)):a.deferred.reject("No active chat session.")}),n.subscribe("SideBar.ready",function(){z=!0,n.command("hideChatButton",{duration:0})}),n.registerCommand("showChatButton",function(b){if(o.chatButton.enabled&&!z)if(A)b.deferred.reject("Chat button is already visible. Ignoring command.");else{var c=b.data&&"number"==typeof b.data.openDelay?parseInt(b.data.openDelay):o.chatButton.openDelay,d=b.data&&"number"==typeof b.data.duration?parseInt(b.data.duration):o.chatButton.effectDuration;t.find(".i18n").each(function(){a(this).data("message")&&a(this).html(i[a(this).data("message")])}),M=setTimeout(function(){M=!1,n.command("WindowManager.registerSideButton",{template:t.hide()}).done(function(){if(0==d)t.show(),t.show().css({width:"auto"});else switch(o.chatButton.effect){case"slide":t.show().css({width:"auto"});var a=t.width()+"px";t.show().css({width:0}),t.animate({width:a},d,function(){A=!0,b.deferred.resolve()});break;case"fade":t.fadeIn(d,function(){A=!0,b.deferred.resolve()});break;default:t.show(),b.deferred.resolve()}n.publish("chatButtonDisplayed")})},c)}else b.deferred.reject("SideBar is active and overrides the default chat button")}),n.registerCommand("hideChatButton",function(a){if(A||M)if(M&&clearTimeout(M),0==b)t.hide(),t.detach();else{var b=a.data&&"number"==typeof a.data.duration?parseInt(a.data.duration):o.chatButton.effectDuration;switch(o.chatButton.effect){case"slide":t.animate({width:0},b,function(){A=!1,t.detach(),a.deferred.resolve()});break;case"fade":t.fadeOut(b,function(){t.detach(),A=!1,a.deferred.resolve()});break;default:t.hide(),t.detach(),a.deferred.resolve()}}else a.deferred.reject("Chat button is already hidden. Ignoring command.")}),n.subscribe("App.closeAll",function(){n.command("close")}),n.subscribe("App.theme",function(){n.command("App.reTheme",{html:p})}),n.subscribe("App.i18n",function(b){"object"==typeof b.data.webchat&&(a.extend(i,b.data.webchat),p.find(".cx-title").text(i.ChatTitle),p.find(".cx-button-minimize").attr("aria-label",i.AriaMinimize),p.find(".cx-button-close").attr("aria-label",i.AriaClose))}),n.subscribe("App.ready",function(a){a.data.webchat&&n.command("configure",a.data.webchat)}),n.subscribe("App.mobileMode",function(){a(window).on("orientationchange",aa),a(window).on("resize",aa),aa(),H=!0}),p=ba(),n.republish("ready")}}),define("text!plugins/cx-webchat-service-tester/html/cx-webchat-service-tester.html",[],function(){return'<div class="cx-widget cx-webchat-service-tester">\n	\n	<table border="1" width="500">\n		<tr>\n			<td colspan="2">\n				<div class="actions">\n					<button data-action="start">Start Chat</button>\n					<button data-action="end">End Chat</button>\n					<button data-action="clear">Clear Form</button>\n					<button data-action="send">Send Test Message</button>\n				</div>\n			</td>\n		</tr>\n		<tr>\n			<td colspan="2">\n				<div class="form-inputs">\n					<input type="text" name="nickname" placeholder="nickname"/>\n					<input type="text" name="firstname" placeholder="firstname"/>\n					<input type="text" name="lastname" placeholder="lastname"/>\n					<input type="text" name="email" placeholder="email"/>\n					<input type="text" name="subject" placeholder="subject"/>\n					<input type="text" name="userData" placeholder=\'userData JSON (e.g. {"skillName": "shoes", "skillLevel": "2"})\'/>\n				</div>\n			</td>\n		</tr>\n		<tr>\n			<td rowspan="2">\n				<div class="states">\n					<div class="active">Session Active</div>\n					<div class="restored">Session Restored</div>\n					<div class="client-connected">Client Connected</div>\n					<div class="agent-connected">Agents Connected <span></span></div>\n					<div class="supervisor-connected">Supervisor Connected</div>\n					<div class="client-typing">Client Typing</div>\n					<div class="agent-typing">Agent Typing</div>\n					<div class="error">Error</div>\n				</div>\n			</td>\n			<td height="100%" width="100%">\n				<div class="transcript">\n\n				</div>\n			</td>\n		</tr>\n		<tr>\n			<td valign="bottom">\n				<textarea class="message-input"></textarea>\n			</td>\n		</tr>\n		<tr>\n			<td colspan="2">\n				<div class="error-console">\n\n				</div>	\n			</td>\n		</tr>\n	</table>\n\n</div>'}),define("cx-webchat-service-tester",["jquery","cx-bus","text!./plugins/cx-webchat-service-tester/html/cx-webchat-service-tester.html"],function(a,b,c){"use strict";var d=b.registerPlugin("WebChatServiceTester");if(d){var e=a(c),f=e.find(".form-inputs"),g=e.find(".error-console"),h=e.find(".states"),i=e.find(".transcript"),j=e.find(".message-input"),k=!1,l=!1,m=function(b){b&&g.append(a("<p></p>").text(b)),o(g)},n=function(a){m(JSON.stringify(a)),h.find(".error").addClass("red"),k&&clearTimeout(k),setTimeout(function(){h.find(".error").removeClass("red")},1500)},o=function(a){!l&&a&&(l=!0,a.animate({scrollTop:a[0].scrollHeight},"500","swing",function(){l=!1,a[0].scrollTop<a[0].scrollHeight&&(a[0].scrollTop=a[0].scrollHeight)}))},p=function(){var a={};return f.find("input").each(function(){a[this.name]=this.value}),a};j.keypress(function(b){return 13!=b.which||b.ctrlKey?void d.command("WebChatService.sendTyping").fail(n):(d.command("WebChatService.sendMessage",{message:a(this).val()}).fail(n),a(this).val(""),b.preventDefault(),b.stopPropagation(),!0)}),e.find(".actions > button").click(function(){var b=a(this);switch(b.data("action")){case"start":d.command("WebChatService.startChat",p()).fail(n);break;case"end":d.command("WebChatService.endChat").fail(n);break;case"send":d.command("WebChatService.sendMessage",{message:"'send test message' button pressed"}).fail(n);break;case"clear":f.find("input").each(function(){this.value=""})}}),d.subscribe("WebChatService.messageReceived",function(b){a.each(b.data.messages,function(){("Message"==this.type||"Notice"==this.type||"ParticipantJoined"==this.type||"ParticipantLeft"==this.type)&&(this.text||(this.text=this.type),i.append(a("<p></p>").text(this.from.name+": "+this.text)))}),o(i)}),d.subscribe("WebChatService.started",function(){h.find(".active").addClass("green")}),d.subscribe("WebChatService.ended",function(){h.find(".active").removeClass("green"),h.find(".restored").removeClass("red blue green")}),d.subscribe("WebChatService.clientConnected",function(){h.find(".client-connected").addClass("green")}),d.subscribe("WebChatService.clientDisconnected",function(){h.find(".client-connected").removeClass("green")}),d.subscribe("WebChatService.agentConnected",function(a){h.find(".agent-connected").addClass("green"),h.find(".agent-connected > span").text("("+(a.data.numAgentsConnected||0)+")")}),d.subscribe("WebChatService.agentDisconnected",function(a){0===a.data.numAgentsConnected&&h.find(".agent-connected").removeClass("green"),h.find(".agent-connected > span").text("("+(a.data.numAgentsConnected||0)+")")}),d.subscribe("WebChatService.supervisorConnected",function(){h.find(".supervisor-connected").addClass("green")}),d.subscribe("WebChatService.supervisorDisconnected",function(){h.find(".supervisor-connected").removeClass("green")}),d.subscribe("WebChatService.clientTypingStarted",function(){h.find(".client-typing").addClass("blue")}),d.subscribe("WebChatService.clientTypingStopped",function(){h.find(".client-typing").removeClass("blue")}),d.subscribe("WebChatService.agentTypingStarted",function(){h.find(".agent-typing").addClass("blue")}),d.subscribe("WebChatService.agentTypingStopped",function(){h.find(".agent-typing").removeClass("blue")}),d.subscribe("WebChatService.restored",function(){h.find(".active").addClass("green"),h.find(".restored").removeClass("red blue green").addClass("green")}),d.subscribe("WebChatService.restoreTimeout",function(){h.find(".restored").removeClass("red blue green").addClass("yellow"),m("restore timed out")}),d.subscribe("WebChatService.restoreFailed",function(){h.find(".restored").removeClass("red blue green").addClass("red"),m("restore failed")}),d.subscribe("WebChatService.error",n),d.subscribe("App.ready",function(a){a.data.webchat&&d.command("configure",a.data.webchat)}),d.subscribe("WebChatService.ready",function(){a(document.body).append(e)}),d.republish("ready")}}),define("text!plugins/cx-channel-selector/html/cx-channel-selector.html",[],function(){return'<div class="cx-channel-selector">\n\n	<div class="message i18n" data-message="TitleDescription"></div>	\n\n	<div class="wrapper">\n		<div class="cx-channels"></div>\n	</div>\n	\n	<button class="cobrowse-start btn btn-primary i18n" data-message="CobrowseButtonText"></button>\n</div>'}),define("text!plugins/cx-channel-selector/html/cx-channel.html",[],function(){return'<div class="cx-channel">\r\n	<div class="cx-icon cx-img-map preset-blue px96"></div>\r\n	<div class="channel-details">\r\n		<div class="name i18n"></div>\r\n		<div class="availability">\r\n			<div class="message i18n"></div>\r\n			<div class="status">\r\n				<span class="status-icon"></span>\r\n				<span class="status-time i18n"></span>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("plugins/cx-channel-selector/nls/string.js",{Title:"Live Assistance",TitleDescription:"How would you like to get in touch?",WaitTimeTitle:"Wait Time",AvailableTitle:"Available",UnavailableTitle:"Unavailable",CobrowseButtonText:"Co-browse"}),define("cx-channel-selector",["jquery","cx-bus","text!./plugins/cx-channel-selector/html/cx-channel-selector.html","text!./plugins/cx-channel-selector/html/cx-channel.html","cx-common","cx-iscroll","./plugins/cx-channel-selector/nls/string.js"],function(a,b,c,d,e,f,g){"use strict";var h=b.registerPlugin("ChannelSelector");if(h){var i,j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p=!0,q={},r={ewtRefreshInterval:10,channels:[],i18n_messages:g},s={enable:!0,ewt:{display:!1,availabilityThresholdMin:300,availabilityThresholdMax:480,hideChannelWhenThresholdMax:!0}},t={convertSeconds:function(a){var b,c;return b=Math.floor(a/60),c=a%60,{mins:b,sec:c}},displayAvailable:function(a){a.find(".status-icon").addClass("icon-alert-checkmark control-icon"),a.find(".status-time").text(g.AvailableTitle)},displayWarning:function(a,b){a.find(".message").text(g.WaitTimeTitle),a.find(".status-icon").addClass("icon-alert-triangle control-icon"),a.find(".status-time").text(b.mins+" mins")},displayAlert:function(a,b){a.find(".message").text(g.WaitTimeTitle),a.find(".status-icon").addClass("icon-alert-circle control-icon"),a.find(".status-time").text(b.mins+" mins")},removeStats:function(a){a.find(".status-icon").removeClass().addClass("status-icon"),a.find(".status-time").text("")},renderStats:function(a,b){if(a){var c=a.find(".availability");a.removeClass("cx-channel-disable"),c.find(".status-icon").removeClass().addClass("status-icon"),c.find(".message, .status-time").empty(),0==q.mins?t.displayAvailable(c):q.mins>0&&q.mins<=b.availabilityThresholdMin.mins?t.displayWarning(c,q):q.mins>b.availabilityThresholdMin.mins&&q.mins<b.availabilityThresholdMax.mins?t.displayAlert(c,q):1==b.hideChannelWhenThresholdMax?a.hide():(c.find(".status-time").text(g.UnavailableTitle),a.addClass("cx-channel-disable"))}},setRefreshTimer:function(){"number"==typeof r.ewtRefreshInterval&&p&&l&&setTimeout(function(){h.command("displayStats")},1e3*parseInt(r.ewtRefreshInterval))},disableChannel:function(a){a.addClass("cx-channel-disable"),a.find(".availability .status-time").text(g.UnavailableTitle)},enableChannel:function(a){a.removeClass("cx-channel-disable"),a.show(),a.find(".availability .status-icon").removeClass().addClass("status-icon"),a.find(".availability .message").text(""),a.find(".availability .status-time").text("")},initChannel:function(a,b){b?t.enableChannel(a):t.disableChannel(a)},updateTemplateI18n:function(){j&&j.find(".i18n").each(function(){var b=a(this);b.text(g[b.data("message")])})},mobileScreenScale:function(){if(o&&j){var b=a(window).height(),c=a(window).width();j.removeClass("cx-portrait cx-landscape"),j.addClass(b>c?"cx-portrait":"cx-landscape");var d=b,e=j.find(".cx-titlebar").outerHeight(),f=j.find(".message").outerHeight(),g=j.find(".cx-footer").outerHeight();j.find(".wrapper").height(d-e-f-g),j.find(".cx-icon").removeClass("px96").addClass("px64"),i&&i.refresh()}},generateChannel:function(b,c){if(c.name&&b.addClass(c.name),c.icon&&b.find(".cx-icon").addClass(c.icon),c.html){var d=a(c.html);d.addClass("cx-img-map"),b.find(".cx-icon").removeClass().addClass("cx-icon px96"),b.find(".cx-icon").append(d)}return c.displayName&&b.find(".name").text(c.displayName),c.i18n&&b.find(".name").attr("data-message",c.i18n),c.ewt&&1==c.ewt.display&&(n=!0),"string"==typeof c.readyEvent?(t.disableChannel(b),c.bPluginReady=!1,h.subscribe(c.readyEvent,function(){c.bPluginReady=!0,t.initChannel(b,c.enable)})):(c.bPluginReady=!0,t.initChannel(b,c.enable)),b.click(function(){h.command("close").done(function(){h.command(c.clickCommand)})}),b}};h.registerCommand("open",function(b){l?b.deferred.reject("Already open"):(j&&j.remove(),j=e.Generate.Container({type:"overlay",title:g.Title,body:c,icon:!1,controls:"close",buttons:!1}),k=j.find(".cobrowse-start").hide(),a.each(r.channels,function(b,c){j.find(".cx-channels").append(t.generateChannel(a(d),c))}),j.find(".cx-button-close").click(function(){h.command("close")}),h.command("Overlay.open",{html:j,immutable:!1}).done(function(a){l=!0,t.updateTemplateI18n(),a.events.close&&h.subscribe(a.events.close,function(){l=!1}),n&&h.command("displayStats"),j.addClass("control-cx-channel-selector"),i=new f(j.find(".wrapper")[0],{mouseWheel:!0,click:!0,scrollbars:"custom"}),o&&(j.parent("div").addClass("cx-channel-selector-overlay-mobile"),t.mobileScreenScale()),h.publish("opened"),b.deferred.resolve()}).fail(function(){b.deferred.reject("Could not open")}))}),h.registerCommand("displayStats",function(a){h.command("StatsService.getStats",{group:"EWT"}).done(function(){t.setRefreshTimer()}).fail(function(){t.setRefreshTimer(),a.deferred.reject("Unable to display EWT Stats in Live Assist")})}),h.registerCommand("enableStats",function(b){l?(a.each(r.channels,function(a,b){b.ewt&&!b.ewt.display&&(b.ewt.display=!0)}),p=!0,h.command("displayStats"),b.deferred.resolve()):b.deferred.reject("Live Assist not opened to enable stats details")}),h.registerCommand("disableStats",function(b){l?(a.each(r.channels,function(a,b){t.removeStats(j.find(".cx-channel."+b.name+" .availability")),b.ewt&&b.ewt.display&&(b.ewt.display=!1)}),p=!1,b.deferred.resolve()):b.deferred.reject("Live Assist not opened to disable stats details")}),h.registerCommand("close",function(a){l?h.command("Overlay.close").done(function(){l=!1,h.publish("closed"),a.deferred.resolve()}):a.deferred.reject("Already closed")}),h.registerCommand("configure",function(b){if(b.data&&b.data.channels.length>0){var c=b.data,d=r;"number"==typeof c.ewtRefreshInterval&&(d.ewtRefreshInterval=c.ewtRefreshInterval),a.each(c.channels,function(a,b){var c={};c.name="string"==typeof b.name?b.name:"Channel0"+a,c.enable="boolean"==typeof b.enable?b.enable:s.enable,c.clickCommand="string"==typeof b.clickCommand?b.clickCommand:"",c.readyEvent="string"==typeof b.readyEvent?b.readyEvent:null,c.displayName="string"==typeof b.displayName?b.displayName:"",c.icon="string"==typeof b.icon?b.icon:"",c.html="string"==typeof b.html?b.html:"","object"==typeof b.ewt&&(c.ewt={},c.ewt.display="boolean"==typeof b.ewt.display?b.ewt.display:s.ewt.display,c.ewt.queue="string"==typeof b.ewt.queue?b.ewt.queue:"",c.ewt.availabilityThresholdMin=t.convertSeconds("number"==typeof b.ewt.availabilityThresholdMin?b.ewt.availabilityThresholdMin:s.ewt.availabilityThresholdMin),c.ewt.availabilityThresholdMax=t.convertSeconds("number"==typeof b.ewt.availabilityThresholdMax?b.ewt.availabilityThresholdMax:s.ewt.availabilityThresholdMax),c.ewt.hideChannelWhenThresholdMax="boolean"==typeof b.ewt.hideChannelWhenThresholdMax?b.ewt.hideChannelWhenThresholdMax:s.ewt.hideChannelWhenThresholdMax),c.i18n="string"==typeof b.i18n?b.i18n:"",d.channels.push(c)}),b.deferred.resolve()}else b.deferred.reject("Invalid configuration. Please ensure atleast one channel is configured.")}),h.subscribe("SideBar.ready",function(){h.command("SideBar.addButton",{button:{name:"Live Assistance",title:"Get assistance from one of our agents right away",icon:"cx-img-map avatar-agent","class":"cx-channel-selector"}}).done(function(a){h.subscribe(a.event,function(){h.command("open")})}).fail(function(a){console.log("SideBar.addButton:fail :: "+(a.error||"Unknown Error"))}),h.republish("ready")}),h.subscribe("CXCoBrowse.available",function(){k.show(),h.subscribe("CXCoBrowse.started",function(){k.text("End Co-browse"),m=!0}),h.subscribe("CXCoBrowse.stopped",function(){k.text("Start Co-browse"),m=!1}),k.click(function(){h.command(m?"CXCoBrowse.stop":"CXCoBrowse.start")})}),h.subscribe("StatsService.updated",function(b){var c=b.data.ewt||{};a.isEmptyObject(c)||a.each(r.channels,function(a,b){var d=j.find(".cx-channel."+b.name);b.bPluginReady&&b.enable&&b.ewt&&c[b.ewt.queue]&&1==b.ewt.display&&(q=t.convertSeconds(c[b.ewt.queue].ewt),t.renderStats(d,b.ewt)),b.enable&&b.bPluginReady&&"SendMessage.open"==b.clickCommand&&t.displayAvailable(j.find(".cx-channel."+b.name+" .availability"))})}),h.subscribe("App.ready",function(a){a.data.channelselector&&h.command("configure",a.data.channelselector)}),h.subscribe("App.i18n",function(b){"object"==typeof b.data.channelselector&&(a.extend(g,b.data.channelselector),j&&j.find(".cx-title").text(g.Title))}),h.subscribe("App.mobileMode",function(){a(window).on("orientationchange",t.mobileScreenScale),a(window).on("resize",t.mobileScreenScale),o=!0,t.mobileScreenScale()}),h.subscribe("App.closeAll",function(){h.command("close")}),h.subscribe("App.theme",function(){h.command("App.reTheme",{html:j})})}}),define("template",[],function(){function a(a,b){var c=arguments.callee;return c.cache[a]||(c.cache[a]=function(){var b=a,d=/^[\w\-]+$/.test(a)?c.get(a):(b="template(string)",a),e=1,f=("try { "+(c.variable?"var "+c.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+d.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++e+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(c.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+b+"' + ' line ' + this.line + ')'; } //@ sourceURL="+b+"\n").replace(/this\.ret \+= '';/g,""),g=new Function(f),h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},i=function(a){return(""+a).replace(/[&<>\'\"]/g,function(a){return h[a]})};return function(a){return g.call(c.context={escapeHTML:i,line:1,ret:"",stash:a})}}()),b?c.cache[a](b):c.cache[a]}function b(b,c){var d=function(c){return c.include=function(b,c){var d={};for(var e in a.context.stash)a.context.stash.hasOwnProperty(e)&&(d[e]=a.context.stash[e]);if(c)for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);var f=a.context;f.ret+=a(b,d),a.context=f},c.wrapper=function(b,c){var d=a.context.ret;a.context.ret="",c.apply(a.context);var e=a.context.ret,f=a.context.stash.content;a.context.stash.content=e,a.context.ret=d+a(b,a.context.stash),a.context.stash.content=f},a(b,c)};return c?d(c):d}return a.cache={},a.get=function(a){return document.getElementById(a).innerHTML},a.get=function(a){var c=b.get;return c?c(a):document.getElementById(a).innerHTML},this.template=a,this.extended=b,a}),define("plugins/cx-search/nls/string",{Title:"Ask a Question",Ask:"Ask",Close:"Close",Categories:"Categories",NoResultsFound:"No results found",Modified:"Modified",Views:"Views",Rating:"Rating",WasThisHelpful:"Was this helpful?",Yes:"Yes",No:"No",PleaseLeaveAComment:"Please, leave a comment",SubmitComment:"Submit comment",FeedbackSubmitted:"Thanks, your feedback has been submitted",Error:"Error!",GKCIsUnavailable:"Knowledge Center Server is currently not available"}),define("plugins/cx-search/js/search-model",["jquery"],function(a){"use strict";function b(b){var c=this;c.ready=!1,c.query="",c.categories=[],c.cutAnswer=function(a){var b=250;return a&&b?a.length>b?a.substring(0,b)+"...":a:void 0},c.findCategory=function(b,d){return a.grep(c.categories,function(a){return a.id===b&&a.kbId===d})[0]},c.search=function(a){function d(a){c.documents=a.documents}return c.query=a||"",c.query?b.command("KnowledgeCenter.search",{query:c.query}).done(d):b.command("KnowledgeCenter.getTrending").done(d)},c.fullContent=function(a,d){return b.command("KnowledgeCenter.getFullContent",{docId:a,kbId:d}).done(function(a){c.document=a})},c.getSuggestions=function(a){return b.command("KnowledgeCenter.suggestions",{query:a}).done(function(a){c.suggestions=a.suggestions})},c.vote=function(d){return this.commentDeferred=new a.Deferred,b.command("KnowledgeCenter.vote",{docId:c.document.id,kbId:c.document.kbId,query:c.query,relevant:d}).done(function(a){this.commentDeferred.resolve(a.recordId)}.bind(this))},c.handleRating=function(a,d){return c.query&&this.commentDeferred?this.commentDeferred.done(function(c){b.command("KnowledgeCenter.addRating",{voteId:c,comment:a,rating:d})}):(this.commentDeferred=null,b.command("KnowledgeCenter.rating",{kbId:c.document.kbId,docId:c.document.id,comment:a,rating:d}))},b.command("KnowledgeCenter.getCategories").done(function(a){c.categories=a.categories})}return b}),define("text!plugins/cx-search/html/cx-search.html",[],function(){return'<div class="cx-search">\r\n\r\n	<form class="input-group search-form" onsubmit="return false;">\r\n		<input type="text" class="form-control input-question">\r\n		<span class="button-clear icon-close"></span>\r\n		<span class="input-group-btn">\r\n			<button class="btn btn-primary button-ask" type="button"><%= i18n.Ask %></button>\r\n		</span>\r\n	</form>\r\n\r\n	<div class="spinner-container loading">\r\n		<div class="spin-circle"></div>\r\n		<div class="spin-inner-circle"></div>\r\n	</div>\r\n\r\n	<div class="container-result"></div>\r\n</div>\r\n\r\n<div class="cx-button-group search-button-group cx-buttons-binary">\r\n	<button id="close" class="btn btn-default i18n"><%= i18n.Close %></button>\r\n</div>';
}),define("text!plugins/cx-search/html/cx-search-result.html",[],function(){return'<% if(documents && documents.length) { %>\r\n<div class="results">\r\n	<% documents.forEach(function (document) { %>\r\n	<div class="document short" data-id="<%= document.id %>" data-kbid="<%= document.kbId %>">\r\n\r\n		<div class="title short">\r\n			<span><%= document.question || document.title %></span>\r\n		</div>\r\n\r\n		<div class="description">\r\n			<%= cutAnswer(document.answer || document.description) %>\r\n		</div>\r\n\r\n		<% if(document.categories && document.categories.length > 0) { %>\r\n		<div class="categories"><%= i18n.Categories %>:\r\n			<% document.categories.forEach(function (catId) { %>\r\n			<span class="category"><%= findCategory(catId, document.kbId).name %></span>\r\n			<% }.bind(this)) %>\r\n		</div>\r\n		<% } %>\r\n\r\n	</div>\r\n	<% }.bind(this)) %>\r\n</div>\r\n<% } else { %>\r\n<div class="no-results"><%= i18n.NoResultsFound %>.</div>\r\n<% }  %>'}),define("text!plugins/cx-search/html/cx-search-document.html",[],function(){return'<div class="title full">\n    <span>\n        <span class="icon icon-chevron-small-left"></span>\n        <%= document.question || document.title %>\n    </span>\n</div>\n\n<div class="metadata">\n    <span class="item" title="<%= i18n.Modified %>">\n        <span class="icon-clock" aria-hidden="true"></span>\n        <span><%= document.modified.substring(0, 10) %></span>\n    </span>\n\n    <span class="item" title="<%= i18n.Views %>">\n        <span class="icon-inspect" aria-hidden="true"></span>\n        <span><%= document.additional.visits %></span>\n    </span>\n\n    <% if(document.additional.avgRate !== 0) { %>\n    <span class="item" title="<%= i18n.Rating %>">\n        <span class="icon-stars" aria-hidden="true"></span>\n        <span><%= document.additional.avgRate.toPrecision(3) %></span>\n    </span>\n    <% } %>\n</div>\n\n<div class="description">\n    <%=raw document.answerContent || document.descriptionContent %>\n</div>\n\n<% if(document.categories && document.categories.length > 0) { %>\n<div class="categories"><%= i18n.Categories %>:\n    <% document.categories.forEach(function (catId) { %>\n    <span class="category"><%= findCategory(catId, document.kbId).name %></span>\n    <% }.bind(this)) %>\n</div>\n<% } %>\n\n<% if (Object.keys(document.customFields).length !== 0) { %>\n<div class="custom-fields">\n    <% Object.keys(document.customFields).forEach(function (name) { %>\n        <% if (document.customFields[name]){ %>\n            <div><strong><%= name %>: </strong><%= document.customFields[name] %></div>\n        <% } %>\n    <% }.bind(this)) %>\n</div>\n<% } %>\n\n<% if (document.attachments && document.attachments.length > 0) { %>\n<div class="attachments">\n    <% document.attachments.forEach(function(item) { %>\n    <div>\n        <a href="<%= item.url %>" target="_blank"><%= item.fileName %></a>\n    </div>\n    <% }.bind(this)) %>\n</div>\n<% } %>\n\n<div class="feedback">\n\n    <% if (query) { %>\n    <div class="vote-question">\n        <%= i18n.WasThisHelpful %> \n        <a href="javascript:;" data-relevant="true"><%= i18n.Yes %></a> /\n        <a href="javascript:;" data-relevant="false"><%= i18n.No %></a>\n    </div>\n    <% } %>\n\n    <div class="publish-feedback <%= query ? \'quiet\' : \'\' %>">\n        <div class="star-rating enable">\n            <span class="icon-star-outline"></span>\n            <span class="icon-star-outline"></span>\n            <span class="icon-star-outline"></span>\n            <span class="icon-star-outline"></span>\n            <span class="icon-star-outline"></span>\n        </div>\n        <div class="publish-comment">\n            <textarea class="form-control" placeholder="<%= i18n.PleaseLeaveAComment %>"></textarea>\n            <div class="publish-comment-buttons">\n                <button class="btn btn-default btn-sm" data-contribution="true"><%= i18n.SubmitComment %></button>\n            </div>\n        </div>\n    </div>\n</div>'}),define("text!plugins/cx-search/html/cx-search-error.html",[],function(){return"<h1><%= i18n.Error %></h1>\r\n\r\n<p><%= i18n.GKCIsUnavailable %></p>"}),function(a){"function"==typeof define&&define.amd?define("cx-autocomplete",["jquery"],function(b){return a(b)}):a(jQuery)}(function(a){"use strict";a.fn.autocomplete=function(b){function c(){e.val().length>=d.minLength&&g.show()}var d=a.extend({},{minLength:2,maxSize:5,onType:function(){},onSelect:function(){}},b),e=this,f=a("<div>").addClass("ac-wrapper"),g=a("<div>").addClass("ac-dropdown-menu");e.wrap(f).after(g),e.keyup(function(b){if(13==b.which){var f=g.find(".active");return f.length?d.onSelect(f.text()):d.onSkip(a(this).val()),g.hide(),void b.preventDefault()}if(38===b.which||40===b.which){var h,i=g.children(),j=g.find(".active").removeClass("active"),k=j.index();return 38===b.which?h=0>=k?i.length-1:k-1:40===b.which&&(h=k===i.length-1?0:k+1),a(i.get(h)).addClass("active"),void b.preventDefault()}var l=new a.Deferred;d.onType.call(this,e.val(),l),l.done(function(b){g.empty(),g.hide(),b.forEach(function(b,c){if(c<d.maxSize){var e=a("<div>").addClass("ac-suggestion").text(b);e.click(function(a){d.onSelect(e.text()),g.hide(),a.preventDefault()}),g.append(e)}}),b.length>0&&c()})}),e.focusout(function(){g.find(".ac-suggestion:hover").length||(g.hide(),g.children().removeClass("active"))})}}),define("cx-search",["jquery","template","cx-bus","./plugins/cx-search/nls/string","./plugins/cx-search/js/search-model","text!./plugins/cx-search/html/cx-search.html","text!./plugins/cx-search/html/cx-search-result.html","text!./plugins/cx-search/html/cx-search-document.html","text!./plugins/cx-search/html/cx-search-error.html","cx-common","cx-autocomplete"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){function a(a){s.find(".input-question").val(a),l()}s&&s.remove(),s=j.Generate.Container({type:"overlay",title:d.Title,body:b(f,{i18n:d}),icon:"cx-img-map preset-blue px48 search",controls:"close",buttons:!1}),s.find(".cx-button-close").click(function(){q.command("close")}),s.find(".btn-default").click(function(){q.command("close")}),s.find(".button-ask").click(function(){l()}),s.find(".button-clear").click(function(){s.find(".input-question").val(""),l()}),s.find(".input-question").autocomplete({minLength:1,maxSize:5,onType:function(a,b){p.getSuggestions(a).done(function(){b.resolve(p.suggestions)})},onSelect:a,onSkip:a}),l()}function l(){var c=s.find(".container-result").empty();c.css("overflow","auto");var e=s.find(".input-question").val();s.find(".loading").show(),p.search(e).done(function(){c.html(b(g,a.extend({},p,{i18n:d}))),s.find(".title.short span").click(function(b){var c=a(b.currentTarget).parents(".document");m(c)})}).fail(function(){c.html(b(i,{i18n:d}))}).always(function(){s.find(".loading").hide()})}function m(c){var e=250,f=s.find(".container-result"),g=c.clone(!0).addClass("expanded").removeClass("short");g.css("top",c.position().top),g.css("bottom",f.innerHeight()-c.position().top-c.innerHeight()-2),f.append(g);var i=s.find(".container-result").scrollTop();g.children().css("opacity",.4),g.animate({top:i,bottom:-i},e,function(){f.css("overflow","hidden");var i=c.data("id"),j=c.data("kbid");p.fullContent(i,j).done(function(){g.html(b(h,a.extend({},p,{i18n:d}))),s.find(".title.full span").click(function(){g.animate({top:c.position().top,minHeight:0,height:c.innerHeight()},e,function(){f.css("overflow","auto"),g.remove()})}),n(g)})})}function n(c){function e(){var a=c.find(".publish-comment textarea"),b=c.find(".star-rating"),d=c.find(".publish-comment-buttons");d.toggle(!!b.attr("data-rating")&&!!a.val()),o(c)}c.find(".gkc-doc-link").click(function(){var e=a(this),f=e.attr("data-docid"),g=e.attr("data-kbid"),i=c.clone(!0);i.children().css("opacity",.4),c.after(i),p.fullContent(f,g).done(function(){i.html(b(h,a.extend({},p,{i18n:d,query:null}))),i.find(".title.full span").click(function(){i.remove()}),n(i)})}),c.find(".vote-question a").click(function(b){var d=a(b.target),e=d.parents(".feedback"),f=d.data("relevant");e.find(".vote-question").hide(),e.find(".publish-feedback").show(),o(c),p.vote(f)}),c.find(".star-rating.enable span").mouseover(function(){var b=a(this);b.prevAll().addBack().removeClass("icon-star-outline").addClass("icon-stars"),b.nextAll().removeClass("icon-stars").addClass("icon-star-outline")}),c.find(".star-rating.enable").mouseleave(function(){var b=a(this),c=b.attr("data-rating");b.children().attr("class","icon-star-outline"),c&&b.find(":lt("+c+")").removeClass("icon-star-outline").addClass("icon-stars")}),c.find(".star-rating.enable span").click(function(){var b=a(this);b.parent().attr("data-rating",b.index()+1),e()}),c.find(".publish-comment textarea").keyup(function(){e()}),c.find(".publish-comment-buttons button").click(function(){var a=c.find(".publish-feedback textarea"),b=c.find(".star-rating"),e=a.val(),f=+b.attr("data-rating"),g=c.find(".feedback");g.find(".publish-feedback").hide(),g.append(d.FeedbackSubmitted),p.handleRating(e,f)})}function o(a){return a.stop().animate({scrollTop:a.get(0).scrollHeight},500)}var p,q=c.registerPlugin("Search");if(q){q.subscribe("App.i18n",function(b){"object"==typeof b.data.search&&a.extend(d,b.data.search)});var r=!1,s=!1;q.registerCommand("close",function(){q.command("Overlay.close").done(function(){r=!1})}),q.registerCommand("open",function(a){p=new e(q),r?a.deferred.reject("Already open"):(k(),q.command("Overlay.open",{html:s,immutable:!1}).done(function(b){r=!0,b.events.close&&q.subscribe(b.events.close,function(){r=!1}),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not open")}))}),q.subscribe("SideBar.ready",function(){q.command("SideBar.addButton",{button:{name:"Search",title:"Search",icon:"cx-img-map search","class":"cx-search"}}).done(function(a){q.subscribe(a.event,function(){q.command("open")})}).fail(function(a){console.log("SideBar.addButton:fail :: "+(a.error||"Unknown Error"))}),q.republish("ready")}),q.subscribe("App.closeAll",function(){q.command("close")})}}),define("text!plugins/cx-appointment/html/cx-appointment.html",[],function(){return'<div class="cx-appointment">\r\n	<div class="message">\r\n		Loading...\r\n	</div>\r\n	<div class="cx-appointment-container">\r\n		<div class="spinner">\r\n			<div class="spinner-container fast-spinner">\r\n				<div class="spin-circle"></div>\r\n				<div class="spin-inner-circle"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n<div class="cx-button-group appoint-button-group cx-buttons-binary">\r\n	<button id="close" class="btn btn-default i18n">Close</button>\r\n</div>'}),define("text!plugins/cx-appointment/html/cx-maps.html",[],function(){return'<div class="cx-gmap">\r\n	<div class="container-fluid">\r\n		<div class="row">\r\n			\r\n			<div class="col-xs-12 col-sm-6 input-container">			\r\n				<input type="text" class="form-control control-input" id="" placeholder="Your address or ZIP">\r\n				<span class="icon-search left-icon search-box-icon"></span>\r\n			</div>\r\n\r\n			<div class="col-xs-12 col-sm-6" id="mapDiv">\r\n\r\n			</div>\r\n			\r\n		</div>\r\n	</div>\r\n</div>\r\n\r\n'}),define("cx-appointment",["jquery","cx-bus","text!./plugins/cx-appointment/html/cx-appointment.html","text!./plugins/cx-appointment/html/cx-maps.html","cx-common","cx-helper"],function(a,b,c,d,e,f){"use strict";function g(){var b=f.lazyLoad("https://maps.googleapis.com/maps/api/js?key=AIzaSyDqmdPpn4Xybn76oMLro9jQgVhgbDPxz5c&callback=_loaded");b.done(function(){var b=i.find(".cx-appointment-container");i.find(".message").text("Please select a store for your appointment"),b.empty();var c=a(d);b.append(c);var e={center:new google.maps.LatLng(0,0),zoom:4};new google.maps.Map(document.getElementById("mapDiv"),e)}).fail(function(){console.error("ERROR: Google maps library failed to load")}),i.find(".btn-default").click(function(){h.command("close")})}var h=b.registerPlugin("Appointment");if(h){var i=e.Generate.Container({type:"overlay",title:"Appointments",body:c,icon:"cx-img-map preset-blue px48 schedule",controls:"close",buttons:!1}),j=!1;i.find(".cx-button-close").click(function(){h.command("close")}),h.registerCommand("close",function(){h.command("Overlay.close").done(function(){j=!1})}),h.registerCommand("open",function(a){j?a.deferred.reject("Already open"):h.command("Overlay.open",{html:i}).done(function(b){j=!0,g(),b.events.close&&h.subscribe(b.events.close,function(){j=!1}),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not open")})}),h.subscribe("SideBar.ready",function(){h.command("SideBar.addButton",{button:{name:"Appointment",title:"Schedule an appointment",icon:"cx-img-map schedule","class":"cx-appointment"}}).done(function(a){h.subscribe(a.event,function(){h.command("open")})}).fail(function(a){console.log("SideBar.addButton:fail :: "+(a.error||"Unknown Error"))}),h.republish("ready")}),h.subscribe("App.closeAll",function(){h.command("close")})}}),define("text!plugins/cx-offers/html/dual-container.html",[],function(){return'<div class="container-fluid">\r\n\r\n	<div id="genesysOffersCarousel" class="row carousel slide genesysOffersCarousel" data-ride="carousel">\r\n\r\n		<!-- Indicators -->\r\n		<ol class="carousel-indicators genesys-control-indicators">\r\n		</ol>\r\n\r\n		<!-- Wrapper for slides -->\r\n		<div class="wrapper">\r\n			<div class="carousel-inner" role="listbox">\r\n\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<!-- Left and right controls -->\r\n	<a class="left carousel-control genesys-carousel-control" href="#genesysOffersCarousel" role="button" data-slide="prev">\r\n		<span class="fonticon icon-chevron-left" aria-hidden="true"></span>\r\n	</a>\r\n	<a class="right carousel-control genesys-carousel-control" href="#genesysOffersCarousel" role="button" data-slide="next">\r\n		<span class="fonticon icon-chevron-right" aria-hidden="true"></span>\r\n	</a>\r\n\r\n</div>\r\n'}),define("text!plugins/cx-offers/html/dual-inner.html",[],function(){return'<div class="item genesys-control-offer">\r\n\r\n	<div class="col-xs-12 col-sm-6 offer-img">\r\n\r\n	</div>\r\n\r\n	<div class="col-xs-12 col-sm-6"> \r\n		<label class="control-label"><h4 class="cx-ark-h4-reset"><b class="offer-title"></b></h4></label>\r\n		<p class="control-text offer-details">\r\n\r\n		</p>\r\n		<div class="cx-button-group cx-buttons-binary offer-button-control">\r\n			<button id="cta" class="btn btn-primary i18n">CTA</button>\r\n		</div>\r\n	</div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n'}),define("text!plugins/cx-offers/html/mono-container.html",[],function(){return'<div id="genesysOffersCarousel" class="carousel slide" data-ride="carousel">\r\n	\r\n	<!-- Indicators -->\r\n	<ol class="carousel-indicators">\r\n\r\n	</ol>\r\n\r\n	<!-- Wrapper for slides --> \r\n	<div class="carousel-inner" role="listbox">\r\n\r\n	</div>\r\n\r\n	<!-- Left and right controls -->\r\n	<a class="left carousel-control genesys-carousel-control" href="#genesysOffersCarousel" role="button" data-slide="prev">\r\n		\r\n		<span class="fonticon icon-chevron-left" aria-hidden="true"></span>\r\n	</a>\r\n	\r\n	<a class="right carousel-control genesys-carousel-control" href="#genesysOffersCarousel" role="button" data-slide="next">	\r\n		<span class="fonticon icon-chevron-right" aria-hidden="true"></span>\r\n	</a>\r\n	\r\n</div>'}),define("text!plugins/cx-offers/html/mono-inner.html",[],function(){return'<div class="item">\r\n	<img class="img-responsive" src="" alt="Image Placeholder">\r\n</div>'}),define("cx-offers",["jquery","cx-bus","text!./plugins/cx-offers/html/dual-container.html","text!./plugins/cx-offers/html/dual-inner.html","text!./plugins/cx-offers/html/mono-container.html","text!./plugins/cx-offers/html/mono-inner.html","cx-common","cx-iscroll"],function(a,b,c,d,e,f,g,h){"use strict";function i(b,c){var e=a(d);switch(e.find(".offer-title").text(b.offerName),e.find(".offer-details").text(b.offerDescription),e.find(".offer-img").css("background-image","url("+b.offerImagePath+")"),q.layoutOptions){case"image-right":e.find(".offer-img").addClass("control-layout");break;case"image-left":}p.find(".carousel-inner").append(e),p.find(".genesys-control-indicators").append(c)}function j(){p=g.Generate.Container({type:"overlay",title:q.i18n_messages.offersTitle||"Offers",body:c,icon:"cx-img-map preset-blue px48 star",controls:"close",buttons:!1}),p.addClass("cx-offers"),a.each(r,function(b){var c=a("<li data-target='#genesysOffersCarousel' data-slide-to='"+b+"'class='genesys-control-indicators-color'></li>");i(this,c)}),p.find("div.item:first").addClass("active"),p.find("li.genesys-control-indicators-color:first").addClass("active"),n=new h(p.find(".wrapper")[0],{mouseWheel:!0,click:!0,scrollbars:!0}),p.find(".carousel").on("slid.bs.carousel",function(){n.refresh()})}function k(){p=g.Generate.Container({type:"overlay",body:e,controls:"close",buttons:!1}),p.addClass("cx-offers"),p.find(".cx-body").addClass("control-cx-body"),p.addClass("control-padding"),p.find(".cx-titlebar").remove(),a.each(r,function(b){var c=a("<li data-target='#genesysOffersCarousel' data-slide-to='"+b+"'class='genesys-control-indicators-color'></li>"),d=a(f);d.find("img").attr("src",r[b].offerImagePath),p.find(".carousel-inner").append(d),p.find(".carousel-indicators").append(c)}),p.find("div.item:first").addClass("active"),p.find("li.genesys-control-indicators-color:first").addClass("active"),p.find(".carousel").on("slide.bs.carousel",function(){})}function l(){p&&p.remove(),"image-only"==q.layoutOptions?k():j(),p.find(".cx-button-close").click(function(){m.command("close")})}var m=b.registerPlugin("Offers");if(m){var n,o=!1,p=!1,q={dataURL:"",layoutOptions:"image-left",i18n_messages:{}},r=[];m.registerCommand("close",function(){m.command("Overlay.close").done(function(){o=!1})}),m.registerCommand("open",function(b){o?b.deferred.reject("Already open"):(l(),m.command("Overlay.open",{html:p}).done(function(c){o=!0,a.isEmptyObject(n)||n.refresh(),c.events.close&&m.subscribe(c.events.close,function(){o=!1}),b.deferred.resolve()}).fail(function(){b.deferred.reject("Could not open")}))}),m.subscribe("SideBar.ready",function(){m.command("SideBar.addButton",{button:{name:"Offers",title:"Offers",icon:"cx-img-map star","class":"cx-offers"}}).done(function(a){m.subscribe(a.event,function(){m.command("open")})}).fail(function(a){console.log("SideBar.addButton:fail :: "+(a.error||"Unknown Error"))}),m.republish("ready")}),m.subscribe("App.i18n",function(b){"object"==typeof b.data.offers&&(a.extend(q.i18n_messages,b.data.offers),p&&p.find(".cx-title").text(q.i18n_messages.offersTitle))}),m.subscribe("App.closeAll",function(){m.command("close")}),m.registerCommand("configure",function(a){a.data?("string"==typeof a.data.layoutOptions&&(q.layoutOptions=a.data.layoutOptions),"object"==typeof a.data.data?r=a.data.data:"object"==typeof a.data&&(r=a.data),a.deferred.resolve()):a.deferred.reject("Invalid configuration")}),m.subscribe("App.ready",function(a){a.data.offers&&m.command("configure",a.data.offers)})}}),define("text!plugins/cx-preferences/html/cx-preferences.html",[],function(){return'<div class="cx-preferences">\r\n\r\n	<nav class="ark navbar navbar-default" role="navigation">\r\n		<!-- Brand and toggle get grouped for better mobile display -->\r\n		<div class="navbar-header">\r\n			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">\r\n				<span class="sr-only">Toggle navigation</span>\r\n				<span class="icon-bar"></span>\r\n				<span class="icon-bar"></span>\r\n				<span class="icon-bar"></span>\r\n			</button>\r\n\r\n		</div>\r\n		<!-- Collect the nav links, forms, and other content for toggling -->\r\n		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n			<ul class="nav navbar-nav">\r\n				<li class="active"><a href="#Details">Contact Details</a></li>\r\n				<li><a href="#Preferences">Contact Preferences</a></li>\r\n			</ul>\r\n\r\n		</div><!-- /.navbar-collapse -->\r\n	</nav>\r\n\r\n	<div class="tab-content">\r\n		<div class="content" id="Details">\r\n			<form class="form-horizontal" role="form">\r\n				<div class="cx-form-control">\r\n\r\n					<div class="form-group">\r\n						<label for="cx_pref_firstname" class="col-sm-3 control-label">First Name</label>\r\n						<div class="col-sm-9">\r\n							<input type="text" class="form-control" id="cx_pref_firstname" placeholder="required">\r\n						</div>\r\n					</div>\r\n\r\n					<div class="form-group">\r\n						<label for="cx_pref_lastname" class="col-sm-3 control-label">Last Name</label>\r\n						<div class="col-sm-9">\r\n							<input type="text" class="form-control" id="cx_pref_lastname" placeholder="required">\r\n						</div>\r\n					</div>\r\n\r\n					<div class="form-group">\r\n						<label for="cx_pref_email" class="col-sm-3 control-label">Email</label>\r\n						<div class="col-sm-9">\r\n							<input type="email" class="form-control" id="cx_pref_email" placeholder="required">\r\n						</div>\r\n					</div> \r\n\r\n					<span id="phone"></span>\r\n\r\n					<span id="address"></span>\r\n\r\n					<div class="form-group">\r\n						<label class="col-sm-3 control-label">Connected accounts</label>\r\n						<div class="row-fluid">\r\n							<span class="col-sm-1 col-xs-1 control-inline fonticon icon-twitter"></span>\r\n							<div class="col-sm-8 col-xs-8 twitter control-inline"> \r\n								<label class="control-label pointer">Add account</label>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n					<div class="form-group">\r\n						<label class="col-sm-3 control-label"></label>\r\n						<div class="row-fluid">\r\n							<span class="col-sm-1 col-xs-1 control-inline fonticon icon-facebook-square"></span>\r\n							<div class="col-sm-8 col-xs-8 facebook control-inline">\r\n								<label class="control-label pointer">Add account</label> \r\n							</div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</form>\r\n		</div>\r\n		<div class="content" id="Preferences">Coming soon..</div>			\r\n	</div>\r\n</div>\r\n\r\n<div class="cx-button-group pref-button-group cx-buttons-binary">\r\n	<button id="close" class="btn btn-default i18n">Close</button>\r\n	<button id="save" class="btn btn-primary i18n">Save</button>\r\n</div>'}),define("text!plugins/cx-preferences/html/phone.html",[],function(){return'<div class="form-group contact-group">\r\n	<label class="col-sm-3 control-label"></label>\r\n	<div class="row-fluid">\r\n		<div class="btn-group dropdown-group col-sm-3 control-inline">\r\n			<button type="button" class="btn btn-default btn-dropdown dropdown-toggle" data-toggle="dropdown">Select <span class="icon-dropdown-arrow"></span></button>\r\n			<ul class="dropdown-menu" role="menu">\r\n				<li><a href="#">Mobile</a></li>\r\n				<li><a href="#">Home</a></li>\r\n			</ul>\r\n		</div>\r\n		<div class="col-sm-5"><input type="text" class="form-control control-inline" id="" placeholder="contact number"></div>\r\n		<div class="col-sm-1 control-min-icon"><span class="icon-minimize phone control-inline"></span></div>\r\n	</div>\r\n</div>'}),define("text!plugins/cx-preferences/html/address.html",[],function(){return'<div class="form-group contact-group">\r\n	<label class="col-sm-3 control-label"></label>\r\n	<div class="row-fluid">\r\n		<div class="btn-group dropdown-group col-sm-3 control-inline">\r\n			<button id="addressDd" type="button" class="btn btn-default btn-dropdown dropdown-toggle" data-toggle="dropdown">Select <span class="icon-dropdown-arrow"></span></button>\r\n			<ul class="dropdown-menu" role="menu">\r\n				<li><a href="#">Work</a></li>\r\n				<li><a href="#">Home</a></li>\r\n			</ul>\r\n		</div>\r\n		<div class="col-sm-5"><input type="text" class="form-control control-inline" id="" placeholder="address"></div>\r\n		<div class="col-sm-1 control-min-icon"><span class="icon-minimize address control-inline"></span></div>\r\n	</div>\r\n</div>'}),define("text!plugins/cx-preferences/html/input.html",[],function(){return'<div class="col-xs-7 control-inline"><input type="text" class="form-control" id="" placeholder=""></div>\r\n<div class="col-xs-1 reset-min-icon control-inline"><span class="icon-minimize"></span></div>\r\n'}),define("cx-preferences",["jquery","cx-bus","text!./plugins/cx-preferences/html/cx-preferences.html","text!./plugins/cx-preferences/html/phone.html","text!./plugins/cx-preferences/html/address.html","text!./plugins/cx-preferences/html/input.html","cx-common"],function(a,b,c,d,e,f,g){"use strict";function h(){m&&m.remove();var b=a(d),h=a(e);m=g.Generate.Container({type:"overlay",title:"Preferences",body:c,icon:"cx-img-map preset-blue px48 prefs",controls:"close",buttons:!1}),b.find(".control-label").text("Phone Number"),b.find(".phone").removeClass("icon-minimize").addClass("icon-iw-circle-no-add"),h.find(".control-label").text("Address"),h.find(".address").removeClass("icon-minimize").addClass("icon-iw-circle-no-add"),m.find(".cx-button-close").click(function(){j.command("close")}),m.find("button#close").click(function(){j.command("close")}),a("#myTabs a").click(function(b){b.preventDefault(),a(this).tab("show")}),k=m.find(".cx-preferences"),k.find("span#phone").append(b),k.find("span#address").append(h),k.find(".icon-iw-circle-no-add").click(function(){i(a(this))}),k.find(".nav.navbar-nav li a").click(function(b){b.preventDefault(),k.find(".navbar-collapse.in").collapse("hide");var c=a(this).closest(".nav.navbar-nav").not(".navbar-right");if(c.children("li").removeClass("active"),c.length>0){var d=a(this).parent();d.hasClass("active")||(k.find(".content").hide(),d.addClass("active"),a(a(this).attr("href")).show())}return!0}),k.find(".twitter, .facebook").click(function(){var b=a(f);a(this).find("label").length&&(a(this).empty(),a(this).append(b))})}function i(b){var c=a(d),f=a(e);b.hasClass("phone")&&k.find("span#phone").append(c),b.hasClass("address")&&k.find("span#address").append(f),k.find(".icon-minimize").click(function(){a(this).parents(".contact-group").remove()})}var j=b.registerPlugin("Preferences");if(j){var k,l=!1,m=!1;j.registerCommand("close",function(){j.command("Overlay.close").done(function(){l=!1})}),j.registerCommand("open",function(a){l?a.deferred.reject("Already open"):(h(),j.command("Overlay.open",{html:m}).done(function(b){l=!0,b.events.close&&j.subscribe(b.events.close,function(){l=!1}),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not open")}))}),j.subscribe("SideBar.ready",function(){j.command("SideBar.addButton",{button:{name:"Preferences",title:"Preferences",icon:"cx-img-map prefs","class":"cx-preferences"}}).done(function(a){j.subscribe(a.event,function(){j.command("open")})}).fail(function(a){console.log("SideBar.addButton:fail :: "+(a.error||"Unknown Error"))}),j.republish("ready")}),j.subscribe("App.theme",function(){j.command("App.reTheme",{html:m})}),j.subscribe("App.closeAll",function(){j.command("close")})}}),function(a){"function"==typeof define&&define.amd?define("textfill",["jquery"],function(b){return a(b)}):a(jQuery)}(function(a){!function(a){a.fn.textfill=function(b){function c(){g.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function d(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function e(a,b,d,e,f,g){function h(a,b){var c=" / ";return a>b?c=" > ":a==b&&(c=" = "),c}c("[TextFill] "+a+" { font-size: "+b.css("font-size")+",Height: "+b.height()+"px "+h(b.height(),d)+d+"px,Width: "+b.width()+h(b.width(),e)+e+",minFontPixels: "+f+"px, maxFontPixels: "+g+"px }")}function f(a,b,c,d,f,g,h,i){for(e(a,b,f,g,h,i);i-1>h;){var j=Math.floor((h+i)/2);if(b.css("font-size",j),c.call(b)<=d){if(h=j,c.call(b)==d)break}else i=j;e(a,b,f,g,h,i)}return b.css("font-size",i),c.call(b)<=d&&(h=i,e(a+"* ",b,f,g,h,i)),h}var g=a.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},b);return c("[TextFill] Start Debug"),this.each(function(){var b=a(g.innerTag+":visible:first",this),e=g.explicitHeight||a(this).height(),h=g.explicitWidth||a(this).width(),i=b.css("font-size"),j=parseFloat(b.css("line-height"))/parseFloat(i);c("[TextFill] Inner text: "+b.text()),c("[TextFill] All options: ",g),c("[TextFill] Maximum sizes: { Height: "+e+"px, Width: "+h+"px }");var k=g.minFontPixels,l=0>=g.maxFontPixels?e:g.maxFontPixels,m=void 0;g.widthOnly||(m=f("Height",b,a.fn.height,e,e,h,k,l));var n=void 0,n=f("Width",b,a.fn.width,h,e,h,k,l);g.widthOnly?(b.css({"font-size":n,"white-space":"nowrap"}),g.changeLineHeight&&b.parent().css("line-height",j*n+"px")):(k=Math.min(m,n),b.css("font-size",k),g.changeLineHeight&&b.parent().css("line-height",j*k+"px")),c("[TextFill] Finished { Old font-size: "+i+", New font-size: "+b.css("font-size")+" }"),b.width()>h||b.height()>e&&!g.widthOnly?(b.css("font-size",i),g.fail&&g.fail(this),c("[TextFill] Failure { Current Width: "+b.width()+", Maximum Width: "+h+", Current Height: "+b.height()+", Maximum Height: "+e+" }")):g.success?g.success(this):g.callback&&(d("callback is deprecated, use success, instead"),g.callback(this))}),g.complete&&g.complete(this),c("[TextFill] End Debug"),this}}(a)}),define("text!plugins/cx-call-us/html/cx-call-us.html",[],function(){return'<div class="cx-call-us">\r\n\r\n	<div class="contacts-header-container">\r\n		<div class="i18n contacts-header" data-message="ContactsHeader"></div>\r\n	</div>\r\n\r\n	<div class="cx-content" tabindex="0">\r\n		<div class="cx-wrapper">\r\n			<div class="cx-main-phone"></div>\r\n			<div class="cx-alt-phones"></div>\r\n			<div class="cx-availability">\r\n				<div class="cx-hours"></div>\r\n				<div class="cx-ewt">Available</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="cx-button-group cx-buttons-binary">\r\n		<button class="i18n btn btn-default cancel" data-message="CancelButtonText" tabindex="0"></button>\r\n	</div>\r\n\r\n</div>'}),define("text!plugins/cx-call-us/html/contact.html",[],function(){return'<div>\n	<div class="cx-phone-title"><span class="i18n"></span></div>\n	<div class="cx-phone-number"><span class="i18n"></span></div>\n</div>'}),define("plugins/cx-call-us/nls/string.js",{CallUsTitle:"Call Us",ContactsHeader:"You can reach us at any of the following numbers...",CancelButtonText:"Cancel"}),define("cx-call-us",["jquery","cx-bus","text!./plugins/cx-call-us/html/cx-call-us.html","text!./plugins/cx-call-us/html/contact.html","./plugins/cx-call-us/nls/string.js","cx-common","cx-iscroll","textfill"],function(a,b,c,d,e,f,g){"use strict";function h(){var b=l.find(".cx-main-phone").empty(),c=l.find(".cx-alt-phones").empty(),f=l.find(".cx-hours").empty();a.each(p,function(f){var g=a(d),h="";this.i18n&&e[this.i18n]?(h=e[this.i18n],g.find(".cx-phone-title span").data({message:this.i18n})):this.displayName&&(h=this.displayName),g.find(".cx-phone-title span").html(h),g.find(".cx-phone-number span").html("<a href='tel:"+this.number.replace(/\ /gi,"")+"'>"+this.number+"</a>"),0===f?b.append(g):c.append(g)}),a.each(q,function(){f.append(a("<div class='i18n'>"+this+"</div>"))}),l.find(".cx-main-phone .cx-phone-title").textfill({maxFontPixels:36}),l.find(".cx-main-phone .cx-phone-number").textfill({maxFontPixels:36}),l.find(".cx-alt-phones .cx-phone-title").textfill({maxFontPixels:13})}function i(){if(n){var b=a(window).height(),c=a(window).width();l.removeClass("cx-portrait cx-landscape"),l.addClass(b>c?"cx-portrait":"cx-landscape");var d=l.find(".cx-titlebar").outerHeight(),e=l.find(".cx-footer").outerHeight();l.height(b),l.width(c),l.find(".cx-body").height(b-d-e)}}function j(){l&&l.find(".i18n").each(function(){var b=a(this);switch(b){case"placeholder":b.attr("placeholder",e[b.data("message")]);break;default:b.text(e[b.data("message")])}})}var k=b.registerPlugin("CallUs");if(k){var l=f.Generate.Container({type:"overlay",title:"Call us",i18n:"CallUsTitle",body:c,icon:"cx-img-map preset-blue px48 call-outgoing",
controls:"close",buttons:!1}),m=!1,n=!1,o=null,p=[],q=[],r=a("<div class='cx-full-screen-view'></div>");l.find(".cx-button-close").click(function(){k.command("close")}),l.find(".btn-default").click(function(){k.command("close")}),k.registerCommand("open",function(b){m?b.deferred.reject("Already opened"):n?(l.addClass("cx-mobile"),a(document.body).append(r),r.append(l),h(),i(),m=!0,k.publish("opened"),b.deferred.resolve()):k.command("Overlay.open",{html:l,immutable:!1}).done(function(a){m=!0,a.events.close&&k.subscribe(a.events.close,function(){m=!1,k.publish("closed")}),h(),o=new g(l.find(".cx-content")[0],{mouseWheel:!0,click:!0,scrollbars:"custom",momentum:!0,keyBindings:!0}),setTimeout(function(){o.refresh()},0),k.publish("opened"),b.deferred.resolve()}).fail(function(){b.deferred.reject("Could not open")})}),k.registerCommand("close",function(a){m?n?(m=!1,r.detach(),k.publish("closed")):k.command("Overlay.close").done(function(){m=!1,k.publish("closed"),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not close")}):a.deferred.reject("Already closed")}),k.registerCommand("configure",function(a){var b=a.data;b?(b.contacts&&0!==b.contacts.length&&"object"==typeof b.contacts&&(p=b.contacts),b.hours&&0!==b.hours.length&&"object"==typeof b.hours&&(q=b.hours),a.deferred.resolve()):a.deferred.reject("Invalid configuration")}),k.subscribe("App.i18n",function(b){"object"==typeof b.data.callus&&(a.extend(!0,e,b.data.callus),j())}),k.subscribe("App.ready",function(a){a.data.callus&&k.command("configure",a.data.callus)}),k.subscribe("App.mobileMode",function(){a(window).on("orientationchange",i),a(window).on("resize",i),i(),n=!0}),k.subscribe("App.closeAll",function(){k.command("close")}),k.subscribe("App.theme",function(){k.command("App.reTheme",{html:l})}),j(),k.republish("ready")}}),define("cx-cobrowse",["jquery","cx-bus","cx-common"],function(a,b){"use strict";var c=b.registerPlugin("CoBrowse");if(c){c.registerEvents(["ready","online","started","stopped"]);var d=!1,e=!1,f={i18n_messages:{}},g=!1,h=!1,i=!1,j=function(a){c.command("WebChatService.sendMessage",{message:"{start:"+a+"}"})},k=function(){!function(a,b,c,d){var e,f=a.getElementsByTagName(b)[0];a.getElementById(c)||(e=a.createElement(b),e.id=c,e.src=d.src,e.setAttribute("data-gcb-url",d.cbUrl),f.parentNode.insertBefore(e,f))}(document,"script","genesys-js",{enabled:!0,src:d,cbUrl:e,i18n_URL:"genesys-cobrowse-i18n.json"})};window._genesys||(window._genesys={}),window._genesys.buttons||(window._genesys.buttons={}),window._genesys.cobrowse||(window._genesys.cobrowse={}),c.registerCommand("start",function(a){g?(g.startSession(),a.deferred.resolve()):a.deferred.reject("API is not available")}),c.registerCommand("stop",function(a){g?(g.exitSession(),a.deferred.resolve()):a.deferred.reject("API is not available")}),c.registerCommand("open",function(a){g?(g.startSession(),a.deferred.resolve()):a.deferred.reject("Cobrowse is not available")}),c.registerCommand("close",function(a){g?(g.exitSession(),a.deferred.resolve()):a.deferred.reject("Cobrowse is not open")}),c.registerCommand("configure",function(b){"object"==typeof b.data?("string"==typeof b.data.src&&(d=b.data.src,delete b.data.src),"string"==typeof b.data.url&&(e=b.data.url,delete b.data.url),a.extend(!0,window._genesys.cobrowse,b.data,{disableBuiltInUI:!1,onReady:function(a){g=a,g.onInitialized.add(function(a){c.republish("online",a),a&&a.token&&c.publish("started")}),g.onSessionStarted.add(function(a){c.publish("started",a),j(a.token||!1)}),g.onSessionEnded.add(function(a){c.publish("stopped",a)})},primaryMedia:{initializeAsync:function(a){a()},isAgentConnected:function(){return i},sendCbSessionToken:function(){}}}),window._genesys.buttons={chat:!1,cobrowse:!1},k(),b.deferred.resolve()):b.deferred.reject("Invalid configuration")}),c.subscribe("WebChatService.started",function(){h=!0}),c.subscribe("WebChatService.ended",function(){h=!1}),c.subscribe("WebChatService.agentConnected",function(){i=!0}),c.subscribe("WebChatService.agentDisconnected",function(a){i=0===a.data.numAgentsConnected?!1:!0}),c.subscribe("App.closeAll",function(){c.command("close")}),c.subscribe("App.i18n",function(b){"object"==typeof b.data.cobrowse&&(a.extend(f.i18n_messages,b.data.cobrowse),window._genesys.cobrowse.localization=function(a){a(f.i18n_messages)})}),c.subscribe("App.ready",function(a){a.data.cobrowse&&c.command("configure",a.data.cobrowse)}),c.republish("ready")}}),define("cx-gwe",["jquery","cx-bus","cx-common"],function(a,b,c){"use strict";function d(b){var c={type:"generic",title:b.subject||"Need help?",body:b.message||"Let us know if we can help out.",icon:"cx-img-map preset-blue px48 chat",controls:"close",buttons:{type:"binary",primary:b.acceptBtnCaption||"Start chat",secondary:b.cancelBtnCaption||"No thanks"}};l.command("Toaster.open",c).done(function(c){c.html&&(n=a(c.html),n.find(".btn.btn-primary").click(function(){q.countdownEvent&&l.unsubscribe(q.countdownEvent),l.command("Toaster.close").done(function(){g(o.ACCEPT);var a={},c=b.chatOptions;c.registration===!1&&"object"==typeof c.userData&&(a.autoSubmit=!0,a.firstname=c.userData.firstName,a.lastname=c.userData.lastName,a.email=c.userData.email),_gt.push(["getIDs",function(b){l.command("WebChat.open",{attachedData:{visitID:b.visitID,pageID:b.pageID,webengagement:""},form:a})}]),f()})}),n.find(".btn.btn-default").click(function(){q.countdownEvent&&l.unsubscribe(q.countdownEvent),e(),g(o.CANCEL)}),n.find(".cx-button-close").click(function(){q.countdownEvent&&l.unsubscribe(q.countdownEvent),f(),g(o.CANCEL)}),l.command("Watchman.countdown",{time:30}).done(function(a){q.countdownEvent=a,l.subscribe(a,function(){g(o.TIMEOUT),n&&e()})}))}).fail(function(){})}function e(){n&&l.command("Toaster.close").done(function(){f()})}function f(){n&&(n.remove(),n=!1)}function g(b){_gt.push(["getIDs",function(c){a.ajax({type:"GET",crossDomain:!0,url:(m.httpEndpoint||m.httpsEndpoint)+"/server/data/invites",data:{result:b,media:"chat",visitID:c.visitID,pageID:c.pageID,alias:c.alias,engagementID:p,webengagement:""}}).done(function(){})}])}function h(){!function(a){if(!document.getElementById(a)){var b=document.createElement("script");b.id=a,b.src=(m.httpEndpoint||m.httpsEndpoint)+"/server/resources/js/build/GTCJ.min.js",(document.getElementsByTagName("head")[0]||document.body).appendChild(b)}}("_gt"),window.addEventListener&&a(window).on("beforeunload",i),window.attachEvent&&(window.attachEvent("onbeforeunload",i),window.attachEvent("onunload",i))}function i(){n&&g(o.PAGE_EXIT)}function j(a){l.command("Offers.configure",a).done(function(){l.command("Offers.open").done(function(){})})}function k(){l.command("SendMessage.open").done(function(){})}var l=b.registerPlugin("GWE"),m={},n=!1,o={ACCEPT:"accept",TIMEOUT:"timeout",PAGE_EXIT:"pageExit",CANCEL:"cancel"},p="",q={countdownEvent:null};l&&(l.registerEvents(["ready"]),l.registerCommand("configure",function(a){"cx.plugin.GWE"==a.commander||"cx.plugin.App"==a.commander?a.data?((a.data.httpEndpoint||a.data.httpsEndpoint)&&(m=a.data,window._gt=window._gt||[],_gt.push(["config",m]),_gt.push(["on","notificationMessage",function(a){return"gpe.setVariable"===a.channel&&"chat"===a.data.value.type?(p=a.data.value.engagementID,d(a.data.value),!1):"gpe.setVariable"===a.channel&&"offers"===a.data.value.type?(p=a.data.value.engagementID,j(a.data.value),!1):("gpe.setVariable"===a.channel&&"sendmessage"===a.data.value.type&&(p=a.data.value.engagementID,k(a.data.value)),"gpe.appendContent"===a.channel?!1:void 0)}]),h()),a.deferred.resolve()):a.deferred.reject("Invalid configuration"):a.deferred.reject("Forbidden: Access Denied")}),l.command("configure",c.checkPath(window,"_genesys.cxwidget.gwe")||c.checkPath(window,"_genesys.widgets.gwe")||{}),l.subscribe("App.closeAll",function(){}),l.republish("ready"))}),define("cx-watchman",["jquery","cx-bus"],function(a,b){"use strict";var c=b.registerPlugin("Watchman");if(c){var d=function(){var a=(new Date).getTime();++f.Idle>=j.Idle&&c.publishDirect("idle:"+f.Idle);for(var b in g)0==--g[b]&&(c.publishDirect(b),delete g[b]);for(var d in h)a>=h[d]&&(c.publishDirect(d),delete h[d]);for(var e in i)++i[e].elapsed==i[e].time&&(i[e].elapsed=0,c.publishDirect(e));c.publishDirect("uptime:"+ ++f.Uptime),c.publishDirect("tick")},e=(setInterval(d,1e3),(new Date).getTime()),f={Uptime:0,Idle:0},g={},h={},i={},j={Idle:5},k=!1,l=function(){k=!1,f.Idle=0};a(document).on("mousemove.idle",l).on("touchmove.idle",l).on("keyup.idle",l).on("scroll.idle",l),c.registerCommand("countdown",function(a){if(parseInt(a.data.time)>=1){for(var b=1,d=c.parsePluginName(a.commander),e="countdown:"+d+":"+a.data.time+"#"+b;g[e];)e="countdown:"+d+":"+a.data.time+"#"+ ++b;g[e]=parseInt(a.data.time),a.deferred.resolve("Watchman."+e)}else a.deferred.reject()}),c.registerCommand("alarm",function(a){if(1==parseInt(parseInt(a.data.time)/1e12)){for(var b=1,d=c.parsePluginName(a.commander),e="alarm:"+d+":"+a.data.time+"#"+b;h[e];)e="alarm:"+d+":"+a.data.time+"#"+ ++b;h[e]=parseInt(a.data.time),a.deferred.resolve("Watchman."+e)}else a.deferred.reject()}),c.registerCommand("interval",function(a){if(parseInt(a.data.time)>=1){for(var b=1,d=c.parsePluginName(a.commander),e="interval:"+d+":"+a.data.time+"#"+b;i[e];)e="interval:"+d+":"+a.data.time+"#"+ ++b;i[e]={time:parseInt(a.data.time),elapsed:0},a.deferred.resolve("Watchman."+e)}else a.deferred.reject()}),c.registerCommand("uptime",function(a){a.deferred.resolve({seconds:f.Uptime,minutes:f.Uptime/60,hours:f.Uptime/60/60})}),c.registerCommand("idle",function(a){a.deferred.resolve(f.Idle)}),c.registerCommand("startTime",function(a){a.deferred.resolve(e)}),c.registerCommand("time",function(a){a.deferred.resolve((new Date).getTime())}),c.republish("ready")}}),define("text!plugins/cx-send-message/html/cx-send-message.html",[],function(){return'<div class="cx-send-message">\r\n\r\n	<div class="confirmation send-failed">\r\n		<i class="fonticon icon-alert-circle"></i>\r\n		<div class="error-container">\r\n		</div>\r\n		<div class="cx-button-group cx-buttons-binary">\r\n			<button class="failed-retry btn btn-primary i18n" data-message="EmailOk">Ok</button>\r\n		</div>\r\n	</div>\r\n\r\n	<div class="spinner">\r\n		<div class="spinner-container fast-spinner dark-background">\r\n			<div class="spin-circle"></div>\r\n			<div class="spin-inner-circle"></div>\r\n		</div>\r\n	</div>\r\n\r\n	<form class="form-horizontal send-message-form" data-async enctype="multipart/form-data" role="form" novalidate>\r\n		<div class="wrapper">\r\n			<div class="cx-form-control">\r\n				<div class="form-group clear-form-group control-table">\r\n					<label for="cx_sendmessage_form_firstname" data-message="EmailFormFirstname" class="i18n control-text control-label">First Name</label>\r\n					<div class="reset-padding">\r\n						<i class="fonticon icon-alert-circle"></i>\r\n						<input type="text" class="form-control i18n" name="cx_sendmessage_form_firstname" data-message-type="placeholder" id="cx_sendmessage_form_firstname" data-message="EmailFormPlaceholderRequired" placeholder="Required" autofocus>\r\n					</div>\r\n				</div>\r\n				<div class="form-group clear-form-group control-table">\r\n					<label for="cx_sendmessage_form_lastname" data-message="EmailFormLastname" class="i18n control-text control-label">Last Name</label>\r\n					<div class="reset-padding">\r\n						<i class="fonticon icon-alert-circle"></i>\r\n						<input type="text" class="form-control i18n" data-message="EmailFormPlaceholderRequired" data-message-type="placeholder" id="cx_sendmessage_form_lastname" placeholder="Required">\r\n					</div>\r\n				</div>\r\n				<div class="form-group clear-form-group control-table">\r\n					<label for="cx_sendmessage_form_email" data-message="EmailFormFrom" class="i18n control-text control-label">Email</label>\r\n					<div class="reset-padding">\r\n						<i class="fonticon icon-alert-circle"></i>\r\n						<input type="email" class="form-control i18n" name="cx_sendmessage_form_email" id="cx_sendmessage_form_email" data-message-type="placeholder" data-message="EmailFormPlaceholderRequired" placeholder="Required">\r\n					</div>\r\n				</div>\r\n				<div class="form-group clear-form-group control-table">\r\n					<label for="cx_sendmessage_form_subject" data-message="EmailFormSubject" class="i18n control-text control-label">Subject</label>\r\n					<div class="reset-padding">\r\n						<i class="fonticon icon-alert-circle"></i>\r\n						<input type="text" class="form-control i18n" name="cx_sendmessage_form_subject" id="cx_sendmessage_form_subject" data-message-type="placeholder" data-message="EmailFormPlaceholderRequired" placeholder="Required">\r\n					</div>\r\n				</div>\r\n\r\n				<div class="form-group col-sm-12 reset-textarea">\r\n					<div>\r\n					<i class="fonticon icon-alert-circle"></i>\r\n					<textarea id="cx_sendmessage_form_messagebody" name="cx_sendmessage_form_messagebody" class="form-control i18n" rows="2" data-message-type="placeholder" data-message="EmailFormPlaceholderTypetexthere" placeholder="Type your text here..."></textarea>\r\n					</div>\r\n				</div>\r\n\r\n				<div class="form-group clear-form-group cx_file_details reset-padding"></div>\r\n\r\n				<div class="form-group clear-form-group submitForm">\r\n					<div class="left-half ">\r\n						<span class="icon-attach"></span>\r\n						<a href="" class="i18n cx_file_upload_link" data-message="EmailFormAttachfiles">Attach files</a>\r\n						<label data-message="EmailFormFilesizetext" class="file-size i18n"></label>\r\n					</div>\r\n					<div class="right-half ">\r\n						<button data-message="EmailFormSend" class="btn btn-primary submit i18n">Send</button>\r\n					</div>\r\n				</div>\r\n\r\n			</div>\r\n\r\n		</div>\r\n\r\n		<input type="file" name="fileUploadField[]" class="fileUploadField" multiple=""/>\r\n\r\n	</form>\r\n	<div class="cx-form-success">\r\n		<span class="icon-alert-checkmark"></span>\r\n		<label data-message="EmailFormSent" class="control-label i18n">Your message has been sent.</label><label><span data-message="EmailFormClose" class="cx-close-tag i18n">Close</span></label>\r\n	</div>\r\n\r\n</div>'}),define("text!plugins/cx-send-message/html/cx-send-message-button.html",[],function(){return'<div class="cx-widget cx-send-message-button" data-message="SendMessageButton">\r\n	<span class="cx-icon cx-email-button-img cx-img-map preset-blue px24 email"></span>\r\n	<span class="i18n cx-email-button-label" data-message="SendMessageButton"></span>\r\n</div>'}),define("text!plugins/cx-send-message/html/cx-error.html",[],function(){return'<div>\r\n	<p class="i18n fail-message"></p>\r\n</div>'}),define("plugins/cx-send-message/nls/string.js",{title:"Send Message",SendMessageButton:"Send Message",Errors:{connectionError:"Unable to reach server. Please try again.",unknowError:"Something went wrong, we apologize for the inconvenience. Please check your connection settings and try again.",attachmentsLimit:"Total number of attachments exceeds limit: ",attachmentsSize:"Total size of attachments exceeds limit: ",invalidFileType:"Unsupported file type. Please upload images, PDFs, text files and ZIPs.",invalidFromEmail:"Invalid email - From address.",invalidMailbox:"Invalid email - To address.",102:"First Name required",103:"Last Name required",104:"Subject required",181:"Email address required",182:"Message text content required"}}),define("cx-send-message",["jquery","cx-bus","text!./plugins/cx-send-message/html/cx-send-message.html","text!./plugins/cx-send-message/html/cx-send-message-button.html","text!./plugins/cx-send-message/html/cx-error.html","cx-common","cx-iscroll","./plugins/cx-send-message/nls/string.js"],function(a,b,c,d,e,f,g,h){"use strict";function i(b){o&&o.remove(),r=[],s=0,o=f.Generate.Container({type:b,title:k.i18n_messages.EmailFormSendMessageTitle||"Send Message",body:c,icon:"cx-icon cx-img-map preset-blue px32 email",controls:"generic"==b?"all":"close",buttons:!1}),o.addClass("control-cx-send-message"),l.updateUIi18n(),p=o.find(".cx-send-message"),o.find(".cx-button-close").click(function(){j.command("close")}),o.find(".cx-close-tag").click(function(){j.command("close")}),o.find(".cx-button-minimize").click(function(){j.command("minimize")}),p.find(".cx_file_upload_link").on("click touchstart",function(a){a.preventDefault(),p.find("input[type='file']:hidden").trigger("click")}),p.find(".cx_file_upload_link").on("keydown",function(a){return 13==a.which?(a.preventDefault(),p.find("input[type='file']:hidden").trigger("click"),!0):void 0}),p.find("input[type='file']:hidden").on("change",l.handleFileUpload),p.find("input[type='text'], input[type='email'], .submit").keydown(function(a){return 13==a.which?(a.preventDefault(),a.stopImmediatePropagation(),j.command("readFormData",{formInputs:w}),!0):void 0}),p.find("input, textarea").bind("focus",function(){m&&(m.refresh(),m.scrollToElement(a(this)[0],200))}),p.find("input[type='email']").on("change",function(b){b.target.validity.typeMismatch?(a(this).addClass("cx-border-error"),a(this).parent("div").addClass("left-inner-addon"),a(this).parent("div").find(".icon-alert-circle").show(),z[this.id]=!0):(a(this).removeClass("cx-border-error"),a(this).parent("div").removeClass("left-inner-addon"),a(this).parent("div").find(".icon-alert-circle").hide(),z[this.id]=!1),b.stopPropagation(),b.stopImmediatePropagation()}),m=new g(p.find(".wrapper")[0],{mouseWheel:!0,click:!0,scrollbars:"custom",momentum:!0,keyBindings:!0}),p.find("textarea").on("cut paste drop keyup",function(b){b.target.style.height="auto",b.target.style.height=b.target.scrollHeight+2+"px",m.refresh(),m.scrollToElement(a(this)[0],200)})}var j=b.registerPlugin("SendMessage"),k={i18n_messages:{},formValidation:!0,SendMessageButton:{enabled:!1,template:d,openDelay:1e3,effect:"fade",effectDuration:300}},l={open:function(b,c){o&&(o.addClass("non-overlay"),j.command("WindowManager.registerDockView",{html:o}).done(function(){if(n=!0,v&&(o.addClass("cx-mobile"),l.mobileScreenScale()),c&&"object"==typeof c.form){var d=c.form;a("#cx_sendmessage_form_firstname").val(d.firstname||""),a("#cx_sendmessage_form_lastname").val(d.lastname||""),a("#cx_sendmessage_form_email").val(d.email||""),a("#cx_sendmessage_form_subject").val(d.subject||""),a("#cx_sendmessage_form_messagebody").val(d.messagebody||""),d.validation===!1?k.formValidation=!1:(a("#cx_sendmessage_form_email").trigger("change"),k.formValidation=!0),d.autoSubmit===!0&&j.command("readFormData",{formInputs:w})}b&&b.resolve()}))},close:function(a){o&&(o.css({transition:"all 1s cubic-bezier(0, 1, 0.5, 1)",transform:"translateY(100%)"}),o.on("transitionend webkitTransitionEnd",function(){o.remove(),a&&a.resolve(),j.publish("closed")}),j.command("showSendMessageButton"),n=!1,t=!1)},updateFilesize:function(a){p.find(".file-size").text(0!==a?l.bytesToSize(a):"")},bytesToSize:function(a){var b=["Bytes","KB","MB","GB","TB"];if(0===a)return"n/a";var c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return 0===c?a+" "+b[c]:(a/Math.pow(1024,c)).toFixed(1)+" "+b[c]},disableForm:function(){p.find("form[data-async]").addClass("parentDisable"),p.find(".form-control, .submit, .fileUploadField").attr("disabled",!0),p.find(".cx_file_details, .submitForm").css("pointer-events","none")},enableForm:function(){p.find("form[data-async]").removeClass("parentDisable"),p.find(".form-control, .submit, .fileUploadField").attr("disabled",!1),p.find(".cx_file_details, .submitForm").css("pointer-events","auto")},validateForm:function(b){if(k.formValidation){var c,d=[];return a.each(b,function(a){0===p.find("input#"+this+",textarea#"+this).val().length?(p.find("input#"+this+",textarea#"+this).addClass("cx-border-error").addClass("cx-error"),c=o.find("input#"+this+",textarea#"+this).parent("div"),c.addClass("left-inner-addon"),c.find(".icon-alert-circle").show(),d[a]="false"):d[a]=z[this]?"false":"true"}),-1==a.inArray("false",d)?!0:!1}return!0},handleFileUpload:function(){var b=this.files.length,c=this.files,d="",e='<span class="cx-clear icon-doc-generic-b col-xs-1 col-sm-1"></span>',f='<span class="icon-status-available-no"></span>';if(p.find(".cx_file_details").show(),b>0){for(var h=0;b>h;h++){var i=c[h].name;c[h].type,s+=parseInt(c[h].size),r.push(c[h]),d+=i.length>36?'<span class="file-fragment">'+e+'<label title="'+i+'" class="files-list control-label col-xs-8 col-sm-8">'+i+'</label><label title="'+i+'" class="filename-end col-xs-2 col-sm-2">'+i.substr(i.length-5,i.length)+"</label>"+f+"</span>":'<span class="file-fragment">'+e+'<label title="'+i+'" class="files-list control-label col-xs-8 col-sm-8">'+i+"</label>"+f+"</span>"}l.updateFilesize(s),p.find(".cx_file_details").append(d),m.refresh(),l.mobileScreenScale(),p.find(".icon-status-available-no").on("click",function(b){var c=a(this).parents(".file-fragment");if(c.remove(),c){for(var d=0;d<r.length;d++)if(c.find(".files-list").text()==r[d].name){s>=r[d].size&&(s-=r[d].size),r.splice(d,1),l.updateFilesize(s);break}0===r.length&&p.find(".cx_file_details").hide(),m.refresh()}b.stopImmediatePropagation()})}return m.scrollToElement(".submitForm",1200,null,null,g.utils.ease.elastic),this.value=null,!1},mobileScreenScale:function(){if(v&&o){var b=a(window).height(),c=a(window).width();o.removeClass("cx-portrait cx-landscape"),o.addClass(b>c?"cx-portrait":"cx-landscape");var d=o.find(".cx-titlebar").outerHeight(),e=o.find(".cx-footer").outerHeight();if(o.find(".wrapper").height(b-d-e),m.refresh(),t){var f;f=b-d,o.css({transform:"translateY("+f+"px)"})}else o.css({transform:"translateY(0%)"}),t=!1}},updateUIi18n:function(){"object"==typeof k.i18n_messages&&o&&o.find(".i18n").each(function(){var b=a(this);switch(b.data("message-type")){case"placeholder":b.attr("placeholder",k.i18n_messages[b.data("message")]);break;default:b.text(k.i18n_messages[b.data("message")])}})},showAdvice:function(b){if(b&&p){var c=k.i18n_messages.ErrorUnknownServer||h.Errors.unknowError;a.each(b,function(b,d){var f=a(e);switch(d.code){case 201:f.find(".fail-message").append((h.ErrorAttachfileslimit||h.Errors.attachmentsLimit)+d.advice+"<br>");break;case 202:f.find(".fail-message").append((h.ErrorAttachfileSizeMax||h.Errors.attachmentsSize)+l.bytesToSize(d.advice)+"<br>");break;case 203:f.find(".fail-message").append((h.ErrorInvalidFileType||h.Errors.invalidFileType)+"<br>");break;case 381:f.find(".fail-message").append((h.ErrorInvalidFromEmail||h.Errors.invalidFromEmail)+"<br>");break;case 383:f.find(".fail-message").append((h.ErrorInvalidMailbox||h.Errors.invalidMailbox)+"<br>");break;case 102:f.find(".fail-message").append((h.NoFirstName||h.Errors[d.code])+"<br>");break;case 103:f.find(".fail-message").append((h.NoLastName||h.Errors[d.code])+"<br>");break;case 104:f.find(".fail-message").append((h.NoSubject||h.Errors[d.code])+"<br>");break;case 181:f.find(".fail-message").append((h.NoEmail||h.Errors[d.code])+"<br>");break;case 182:f.find(".fail-message").append((h.NoTextContent||h.Errors[d.code])+"<br>");break;default:f.find(".fail-message").append(c+"<br>")}p.find(".error-container").append(f)})}}};if(j){var m,n=!1,o=!1,p=!1,q=!1,r=[],s=0,t=!1,u=!1,v=!1,w=["cx_sendmessage_form_email","cx_sendmessage_form_firstname","cx_sendmessage_form_lastname","cx_sendmessage_form_subject","cx_sendmessage_form_messagebody"],x=a(k.SendMessageButton.template),y=!1,z=[];j.registerCommand("close",function(a){n?l.close(a.deferred):a.deferred.reject("already closed")}),j.registerCommand("configure",function(b){if(b.data){if("boolean"==typeof b.data.formValidation&&(k.formValidation=b.data.formValidation),"object"==typeof b.data.SendMessageButton){var c=b.data.SendMessageButton;"boolean"==typeof c.enabled&&(k.SendMessageButton.enabled=c.enabled),"number"==typeof c.openDelay&&(k.SendMessageButton.openDelay=parseInt(c.openDelay)),"string"==typeof c.template&&(k.SendMessageButton.template=c.template),"string"==typeof c.effect&&(k.SendMessageButton.effect=c.effect),"number"==typeof c.effectDuration&&(k.SendMessageButton.effectDuration=parseInt(c.effectDuration)),"boolean"==typeof c.hideDuringInvite&&(k.SendMessageButton.hideDuringInvite=c.hideDuringInvite),x=a(k.SendMessageButton.template),x.click(function(){j.command("open")}),k.SendMessageButton.enabled&&j.command("showSendMessageButton")}b.deferred.resolve()}else b.deferred.reject("Invalid configuration")}),j.registerCommand("showSendMessageButton",function(b){if(k.SendMessageButton.enabled&&!q)if(u)b.deferred.reject("Send Message button is already visible. Ignoring command.");else{var c=b.data&&"number"==typeof b.data.openDelay?parseInt(b.data.openDelay):k.SendMessageButton.openDelay,d=b.data&&"number"==typeof b.data.duration?parseInt(b.data.duration):k.SendMessageButton.effectDuration;x.find(".i18n").each(function(){a(this).data("message")&&a(this).html(h[a(this).data("message")])}),y=setTimeout(function(){y=!1,j.command("WindowManager.registerSideButton",{template:x}).done(function(){if(0===d)x.show(),x.show().css({width:"auto"});else switch(k.SendMessageButton.effect){case"slide":x.show().css({width:"auto"});var a=x.width()+"px";x.show().css({width:0}),x.animate({width:a},d,function(){u=!0,b.deferred.resolve()});break;case"fade":x.fadeIn(d,function(){u=!0,b.deferred.resolve()});break;default:x.show(),b.deferred.resolve()}})},c)}else b.deferred.reject("SideBar is active and overrides the default Send Message button")}),j.registerCommand("hideSendMessageButton",function(a){if(u||y)if(y&&clearTimeout(y),0===b)x.hide(),x.detach();else{var b=a.data&&"number"==typeof a.data.duration?parseInt(a.data.duration):k.SendMessageButton.effectDuration;switch(k.SendMessageButton.effect){case"slide":x.animate({width:0},b,function(){u=!1,x.detach(),a.deferred.resolve()});break;case"fade":x.fadeOut(b,function(){x.detach(),u=!1,a.deferred.resolve()});break;default:x.hide(),x.detach(),a.deferred.resolve()}}else a.deferred.reject("Send Message button is already hidden. Ignoring command.")}),j.registerCommand("open",function(a){n?a.deferred.reject("Already open"):(n=!0,j.command("hideSendMessageButton"),i("generic"),l.open(a.deferred,a.data),m.refresh(),p.find("form[data-async]").on("submit",function(a){return a.preventDefault(),a.stopImmediatePropagation(),j.command("readFormData",{formInputs:w}),!1}),j.publish("opened"))}),j.registerCommand("minimize",function(a){t?(o.hasClass("minimized")&&(o.removeClass("minimized").addClass("maximize").find(".cx-button-minimize.icon-full-screen").removeClass("icon-full-screen").addClass("icon-minimize"),t=!1,v&&l.mobileScreenScale()),j.publish("unminimized"),a.deferred.resolve()):(o.removeClass("maximize").addClass("minimized").find(".cx-button-minimize.icon-minimize").removeClass("icon-minimize").addClass("icon-full-screen"),t=!0,j.publish("minimized"),v&&l.mobileScreenScale(),a.deferred.resolve())}),j.registerCommand("readFormData",function(b){if(b.data.formInputs){var c,d=b.data.formInputs;l.validateForm(d)?(c={lastName:p.find("input#"+d[2]).val(),firstName:p.find("input#"+d[1]).val(),email:p.find("input#"+d[0]).val(),subject:p.find("input#"+d[3]).val(),text:p.find("textarea#"+d[4]).val()},j.command("submitForm",c),b.deferred.resolve()):b.deferred.reject("Form not valid"),a.each(d,function(){p.find("input#"+this+",textarea#"+this).bind("keydown change",function(){a(this).removeClass("cx-border-error").removeClass("cx-error"),a(this).parent("div").removeClass("left-inner-addon"),a(this).parent("div").find(".icon-alert-circle").hide()}),p.find("textarea#"+this).bind("keydown change",function(){a(this).removeClass("cx-border-error")})})}else b.deferred.reject("No form inputs")}),j.registerCommand("submitForm",function(b){b.data?(a.extend(b.data,{files:r}),l.disableForm(),p.find("div.spinner").show(),j.command("SendMessageService.SendForm",b.data).done(function(){p.find("div.spinner").hide()}).fail(function(){p.find("div.spinner").hide()}),b.deferred.resolve()):b.deferred.reject("No form data found")}),j.subscribe("SideBar.ready",function(){q=!0,j.command("hideSendMessageButton",{duration:0})}),j.subscribe("App.i18n",function(b){"object"==typeof b.data.sendmessage&&(a.extend(k.i18n_messages,b.data.sendmessage),a.extend(h,b.data.sendmessage),o&&(o.find(".cx-title").text(k.i18n_messages.EmailFormSendMessageTitle),l.updateUIi18n()),j.command("showSendMessageButton"))}),j.subscribe("App.mobileMode",function(){a(window).on("orientationchange",l.mobileScreenScale),a(window).on("resize",l.mobileScreenScale),v=!0,l.mobileScreenScale()}),j.subscribe("App.ready",function(a){a.data.sendmessage&&j.command("configure",a.data.sendmessage)}),j.subscribe("App.closeAll",function(){j.command("close")}),j.subscribe("SendMessageService.messageSent",function(){p.find(".send-message-form").hide(),p.find(".cx-form-success").show()}),j.subscribe("SendMessageService.error",function(b){if(p.find(".error-container").empty(),b.data.textStatus){var c=k.i18n_messages.ErrorServerNotAvailable||h.Errors.connectionError,d=a(e),f=k.i18n_messages.ErrorUnknownServer||h.Errors.unknowError;switch(b.data.result&&500!=b.data.statusCode&&(b.data.result.reason?f=b.data.result.reason:b.data.result.error&&(f=b.data.result.error)),b.data.textStatus){case"timeout":d.find(".fail-message").text(c),p.find(".error-container").append(d);break;case"error":l.disableForm(),400==b.data.statusCode&&b.data.result.errors?l.showAdvice(b.data.result.errors):(d.find(".fail-message").text(f),p.find(".error-container").append(d));break;case"success":l.disableForm(),1!=b.data.result.statusCode||b.data.result.error?l.showAdvice(b.data.result.errors):(d.find(".fail-message").text(f),p.find(".error-container").append(d));break;default:d.find(".fail-message").text(f),p.find(".error-container").append(d)}p.find(".send-failed").css({transform:"translateY(0)",opacity:"1",height:"auto"}),p.find("button.failed-retry").click(function(){p.find(".send-failed").css({transform:"translateY(-20%)",opacity:"0",height:"0"}),p.find(".fail-message").empty(),l.enableForm()})}}),j.republish("ready")}}),define("cx-send-message-service",["jquery","cx-bus"],function(a,b){"use strict";var c=b.registerPlugin("SendMessageService");if(c){var d={dataURL:"",iApiKey:"",iAjaxTimeout:3e3},e={supportFormData:function(){return!!window.FormData}};c.registerCommand("SendForm",function(b){if(b.data)if(e.supportFormData()){var f=b.data,g=new FormData;g.append("lastName",f.lastName||""),g.append("firstName",f.firstName||""),g.append("fromAddress",f.email||""),g.append("subject",f.subject||""),g.append("text",f.text||""),a.each(f.files,function(a,b){g.append("files",b)}),a.ajax({type:"POST",url:d.dataURL,mimeType:"multipart/form-data",contentType:!1,crossDomain:!0,timeout:d.iAjaxTimeout,processData:!1,data:g,beforeSend:function(a){d.iApiKey&&a.setRequestHeader("apikey",d.iApiKey)},success:function(d,e,f){var g=a.parseJSON(d);0===g.statusCode&&g.interactionId?c.publish("messageSent",{interactionId:g.interactionId}):(d=a.parseJSON(d),c.publish("error",{result:d,textStatus:e,jqXHR:f})),b.deferred.resolve()},error:function(d,e){400==d.status&&(d.responseText=a.parseJSON(d.responseText)),c.publish("error",{result:d.responseText,textStatus:e,statusCode:d.status}),b.deferred.resolve()}})}else b.deferred.reject("No HTMl5 formData support on your browser");else b.deferred.reject("No formData found")}),c.registerCommand("configure",function(a){if(a.data){var b=a.data;"string"==typeof b.dataURL&&(d.dataURL=b.dataURL),("string"==typeof b.apikey||"number"==typeof b.apikey)&&(d.iApiKey=b.apikey),"number"==typeof b.ajaxTimeout&&(d.iAjaxTimeout=parseInt(b.ajaxTimeout)),a.deferred.resolve()}else a.deferred.reject("Invalid configuration")}),c.subscribe("App.ready",function(a){a.data.sendmessage&&c.command("configure",a.data.sendmessage)}),c.republish("ready")}}),define("text!plugins/cx-survey/html/cx-survey.html",[],function(){return'<div class="cx-survey">\r\n	\r\n	<div class="message">\r\n		Help us improve our services by telling us what you think with this quick survey.\r\n	</div>\r\n	\r\n	<div class="survey-form">\r\n		<form class="form-outline">\r\n			\r\n		</form>\r\n	</div>\r\n\r\n	<div class="cx-button-group cx-buttons-binary">\r\n		<button id="cancel" class="btn btn-default i18n">No Thanks</button>\r\n		<button id="startSurvey" class="btn btn-primary i18n">Start Survey</button>\r\n		<button id="submit" class="btn btn-primary i18n">Submit</button>\r\n	</div>\r\n</div>';
}),define("text!plugins/cx-survey/html/radio-tag.html",[],function(){return'<div class="form-inline" data-question-id="">\r\n	<label class="question"></label>\r\n	<span class="control-options control-display">			\r\n		<input type="radio" name="satisfied" value=""><label class="control-label"></label>\r\n		<input type="radio" name="satisfied" value=""><label class="control-label"></label>\r\n	</span>\r\n	<div class="form-answer">\r\n		<label class="control-label">Please tell us more:</label><br>\r\n		<input class="control-input form-control" id="cx_survey_comments">\r\n	</div>\r\n</div>'}),define("text!plugins/cx-survey/html/range-tag.html",[],function(){return'<div class="form-inline" data-question-id="">\r\n	<label class="question"></label>\r\n	<span class="control-display">\r\n		<span class="control-options">\r\n			<input id="inputRange" type="range" min="0" max="10" value="0" id="fader">\r\n		</span>\r\n		<label><span id="rangeText" class="control-font">0</span>&nbsp;/10</label>\r\n	</span>\r\n</div>'}),define("text!plugins/cx-survey/html/rating-tag.html",[],function(){return'<div class="form-inline" data-question-id="">\r\n	<label class="question"></label>\r\n	<span class="control-options control-display rating">\r\n		<input name="myrating" type="radio" value="5" /><span>&#9734;</span>\r\n		<input name="myrating" type="radio" value="4" /><span>&#9734;</span>\r\n		<input name="myrating" type="radio" value="3" /><span>&#9734;</span>\r\n		<input name="myrating" type="radio" value="2" /><span>&#9734;</span>\r\n		<input name="myrating" type="radio" value="1" /><span>&#9734;</span>\r\n	</span>\r\n</div>'}),define("cx-survey",["jquery","cx-bus","text!./plugins/cx-survey/html/cx-survey.html","text!./plugins/cx-survey/html/radio-tag.html","text!./plugins/cx-survey/html/range-tag.html","text!./plugins/cx-survey/html/rating-tag.html","cx-common"],function(a,b,c,d,e,f,g){"use strict";function h(){o&&o.remove(),o=g.Generate.Container({type:"overlay",title:"How did we do?",body:c,icon:"cx-img-map preset-blue px48 checklist",controls:"close",buttons:!1}),o.find(".cx-button-close").click(function(){l.command("close")}),o.find(".btn-default").click(function(){l.command("close")}),m=o.find(".cx-survey"),m.find("button#startSurvey").click(function(){k()})}function i(b,c){var d=-1;return a.each(b,function(a){return b[a].hasOwnProperty(c)?(d=a,!1):void 0}),d}function j(a,b,c,d){var e={};if(e[b]=d?{answer:c,comments:d}:c,a.length>0){var f=i(a,b);-1!=f?a[f]=e:a.push(e)}else a.push(e);return a}function k(){var b,c=[];a.each(p,function(){switch(this.type){case"radio":var g=a(d);g.data("data-question-id",this.id),g.find(".question").text(this.label),g.find('input[name="satisfied"]').eq(0).attr("value",this.options[0]),g.find(".control-label").eq(0).text(this.options[0]),g.find('input[name="satisfied"]').eq(1).attr("value",this.options[1]),g.find(".control-label").eq(1).text(this.options[1]),g.find(".form-answer").hide(),g.find('input[name="satisfied"]').change(function(){b=a(this).val(),"no"==b.toLowerCase()?(g.find(".form-answer").show(),g.find("input#cx_survey_comments").change(function(){c=j(c,g.data("data-question-id"),b,a(this).val())})):(g.find(".form-answer").hide(),c=j(c,g.data("data-question-id"),a(this).val()))}),m.find(".form-outline").append(g);break;case"rating":var h=a(f);h.data("data-question-id",this.id),h.find(".question").text(this.label),h.find('input[name="myrating"]').click(function(){c=j(c,h.data("data-question-id"),a(this).val())}),m.find(".form-outline").append(h);break;case"range":var i=a(e);i.data("data-question-id",this.id),i.find(".question").text(this.label),i.find("input#inputRange").on("input change",function(){i.find("span#rangeText").text(a(this).val()),c=j(c,i.data("data-question-id"),a(this).val())}),m.find(".form-outline").append(i)}}),m.find("button#startSurvey").hide(),m.find("button#submit").show(),m.find("button#cancel").text("Cancel"),m.find(".message").hide(),m.find("button#submit").click(function(){l.publish("onSubmit",{answers:c}),l.command("close")}),o.find(".cx-title").text("Satisfaction Survey")}var l=b.registerPlugin("Survey");if(l){var m,n=!1,o=!1,p=[{id:"did_you_find",type:"radio",label:"Did you find everything you wanted today?",options:["Yes","No"]},{id:"rate_your_exp",type:"rating",label:"How would you rate your experiance?"},{id:"rate_agent",type:"range",label:"Rate your agent out of ten:"}];l.registerCommand("close",function(){l.command("Overlay.close").done(function(){n=!1})}),l.registerCommand("open",function(a){n?a.deferred.reject("Already open"):("undefined"!=typeof a.data&&a.data.questions.length>0&&(p=a.data.questions),h(),l.command("Overlay.open",{html:o}).done(function(b){n=!0,b.events.close&&l.subscribe(b.events.close,function(){n=!1}),a.deferred.resolve()}).fail(function(){a.deferred.reject("Could not open")}))}),l.subscribe("App.closeAll",function(){l.command("close")})}}),define("cx-console",["jquery","cx-bus"],function(a,b){"use strict";var c=b.registerPlugin("Console");c&&(window._genesys||(window._genesys={}),window._genesys.widgets||(window._genesys.widgets={}),window._genesys.cxwidget||(window._genesys.cxwidget={}),window._genesys.widgets.bus=c,window._genesys.cxwidget.bus=c,c.registerPlugin=b.registerPlugin,c.republish("ready"))}),define("cx-window-manager",["jquery","cx-bus","cx-common"],function(a,b,c){"use strict";var d=b.registerPlugin("WindowManager"),e={iRightOffset:0,aStack:[]},f=a('<div class="cx-window-manager"></div>'),g=a('<div class="cx-side-button-group"></div>'),h={aUi:[],aService:[]},i=[],j={registered:function(b,c){var d=!1;return a.each(c,function(a,c){c.pluginName==b&&(d=!0)}),d},updateRegistry:function(a){i[a.pluginName]&&(i[a.pluginName].position=a.position,i[a.pluginName].timeModified=(new Date).getTime())},init:function(b){b&&(a.each(b,function(a,b){-1==b.indexOf("service")&&h.aUi.push(b.replace(/-/g,""))}),h.aUi.reverse())}};d&&(a(document.body).append(f),j.init(c.checkPath(window,"_genesys.cxwidget.main.plugins")||c.checkPath(window,"_genesys.widgets.main.plugins")||!1),d.registerCommand("registerDockView",function(b){if(i[b.commander])return b.deferred.reject(b.commander+" is already registered. Ignoring."),!1;if(b.data.html){var c=a(b.data.html),g=a("<div tabindex="+e.aStack.length+"></div>").append(c),h=b.commander.split(".")[2],k=null;j.registered(b.commander,e.aStack)?b.deferred.reject(h+" already displayed"):(f.append(g),e.aStack.push({pluginName:b.commander,width:c.width()}),1==e.aStack.length?(e.iRightOffset=0,g.addClass("cx-first")):(e.iRightOffset=e.iRightOffset+c.width()+parseInt(24),g.addClass("cx-last"),e.aStack.length>=2&&(a("div[tabindex=0]").addClass("cx-first").removeClass("cx-last"),a.each(e.aStack,function(b){a('div[tabindex="'+(b+1)+'"]').removeClass("cx-first")}))),c.css({transition:"right 1s cubic-bezier(0, 1, 0.5, 1), transform .5s ease-in-out"}),g.addClass("cx-dock-manager-"+h),c.css({right:e.iRightOffset+"px"}),c.css({bottom:0-c.height()+"px"}),c.animate({bottom:0}),k="added."+h+"#"+Math.floor(1e8+9e8*Math.random()),d.publish(k),i[b.commander]={event:k,viewType:"DockView",timeAdded:(new Date).getTime(),position:{right:e.iRightOffset+"px"}},b.deferred.resolve()),d.subscribe(b.commander+".closed",function(b){var c=55,g=null;e.aStack=a.grep(e.aStack,function(a){return a.pluginName==b.publisher&&e.aStack.length>1&&(e.iRightOffset=e.iRightOffset-a.width-parseInt(24)),f.find(".cx-dock-manager-"+h).remove(),a.pluginName!=b.publisher}),a.each(e.aStack,function(a,b){f.find(".cx-dock-manager-"+b.pluginName.split(".")[2]).attr("tabindex",a).children().css({right:c+"px"}),j.updateRegistry({pluginName:b.pluginName,position:{right:c}}),c=c+b.width+parseInt(24)}),g="removed."+h+"#"+Math.floor(1e8+9e8*Math.random()),d.publish(g),delete i[b.publisher],d.command("changed"),d.unsubscribe(b.publisher+".closed")}),g.bind({focusin:function(){a(this).addClass("cx-focus")},focusout:function(){a(this).removeClass("cx-focus")}})}else b.deferred.reject("No html content")}),d.registerCommand("registerSideButton",function(b){if(b.data.template){var c=a(b.data.template),d=b.commander.split(".")[2].toLowerCase();c.addClass("cx-side-button"),a.each(h.aUi,function(a,b){b.indexOf(d)>-1&&c.attr({"data-plugin":b})}),0==f.find("div.cx-side-button-group").length&&f.append(g),g.append(c.hide()),a.each(h.aUi,function(a,b){g.append(g.find("div[data-plugin="+b+"]").detach())}),b.deferred.resolve()}else b.deferred.reject("No button template found to register")}),d.registerCommand("changed",function(){d.publish("changed",{registry:i})}),d.republish("ready"))}),define("plugins/cx-knowledge-center/js/api-mapper",["jquery"],function(a){"use strict";function b(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&a[c]&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return 0!==b.length?"?"+b.join("&"):""}var c="application/json; charset=UTF-8";return{initialize:function(b){return"object"==typeof b&&a.extend(this,b),b&&b.customerId&&this.associateSessionToUser(),this.sessionId?void 0:this.createSession()},ping:function(){return this.makeAjax({type:"GET",url:"/management/ping"})},getCategories:function(){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/categories"+b({media:this.media,sessionId:this.sessionId}),data:JSON.stringify({knowledgebases:this.knowledgebases})})},getTrending:function(a){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/top"+b({size:a.size,media:this.media,sessionId:this.sessionId}),data:JSON.stringify({knowledgebases:this.knowledgebases})})},getFullContent:function(c){this.visit(c);var d=new a.Deferred;return this.makeAjax({type:"GET",url:"/kbs/"+c.kbId+"/documents/"+c.docId+b({lang:this.language,sessionId:this.sessionId})}).done(function(a){this.getRating({kbId:c.kbId,docId:c.docId}).done(function(b){a.additional=b,d.resolve(a)}).fail(function(){d.resolve(a)})}.bind(this)).fail(function(){d.reject()}),d},getRating:function(a){return this.makeAjax({type:"GET",url:"/kbs/"+a.kbId+"/documents/"+a.docId+"/rating"+b({lang:this.lang,sessionId:this.sessionId})})},search:function(a){return("undefined"==typeof a.query||null===a.query)&&(a.query=""),("undefined"==typeof a.categories||null===a.categories)&&(a.categories=[]),("undefined"==typeof a.filters||null===a.filters)&&(a.filters=[]),this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/search"+b({lang:this.language,from:a.from,size:a.size,sessionId:this.sessionId}),data:JSON.stringify({query:a.query,categories:a.categories,media:this.media,filters:a.filters,knowledgebases:this.knowledgebases})}).done(function(b){0===b.documents.length&&this.noAnswer({query:a.query,categories:a.categories,filters:a.filters})}.bind(this))},visit:function(a){return this.makeAjax({type:"POST",url:"/feedback/"+a.kbId+"/documents/"+a.docId+"/visit"+b({lang:this.language,sessionId:this.sessionId}),data:JSON.stringify({query:a.query,categories:a.categories,filters:a.filters})})},vote:function(a){return this.makeAjax({type:"POST",url:"/feedback/"+a.kbId+"/documents/"+a.docId+"/vote"+b({relevant:"undefined"!=typeof a.relevant?""+a.relevant:!0,lang:this.language,sessionId:this.sessionId}),data:JSON.stringify({query:a.query,categories:a.categories,filters:a.filters})})},rating:function(a){return this.makeAjax({type:"POST",url:"/feedback/"+a.kbId+"/documents/"+a.docId+"/rating"+b({lang:this.lang,sessionId:this.sessionId}),data:JSON.stringify({comment:a.comment,rating:a.rating})})},addRating:function(a){return this.makeAjax({type:"PUT",url:"/feedback/vote/"+a.voteId+b({sessionId:this.sessionId}),data:JSON.stringify({comment:a.comment,rating:a.rating})})},noAnswer:function(a){return this.makeAjax({type:"POST",url:"/feedback/"+a.kbId+"/noAnswer"+b({lang:this.language,sessionId:this.sessionId}),data:JSON.stringify(a)})},suggestions:function(a){return this.makeAjax({type:"POST",url:"/kbs/langs/"+this.lang+"/suggestions"+b({lang:this.lang,sessionId:this.sessionId}),data:JSON.stringify({query:a.query,categories:a.categories,filters:a.filters,media:this.media,knowledgebases:this.knowledgebases})})},createSession:function(){return this.makeAjax({type:"PUT",url:"/sessions/new"})},associateSessionToUser:function(){return this.makeAjax({type:"POST",url:"/sessions/"+this.sessionId})},makeAjax:function(b){b.dataType="json",b.contentType=c,b.url=this.host+b.url,b.headers={gkc_customerId:this.customerId,gkc_apiClientId:this.apiClientId||"web",gkc_apiClientMediaType:this.apiClientMediaType||"selfservice"};var d=new a.Deferred;return a.ajax(b).done(function(a){this.ajaxSuccess(d,a)}.bind(this)).fail(function(a){this.ajaxError(d,a),console.warn("Error while: "+b.type+" "+b.url)}.bind(this)),d.promise()},ajaxSuccess:function(a,b){b.error?a.reject(b.error,b.status):(b.sessionId&&(this.sessionId=b.sessionId),a.resolve(b.response,b.status,b.sessionId))},ajaxError:function(a,b){a.reject(b.responseText,{code:b.status,message:b.statusText})}}}),define("plugins/cx-knowledge-center/nls/string",{KnowledgeAgentName:"Knowledge Center (automated system)",WelcomeMessage:"In the meantime, please type your question.",SearchResult:"We found the following link(s) that may help answer your question:",UnansweredQuestion:"Has your question been addressed? - ",UnansweredPositive:"Glad we could help :-)",UnansweredNegative:"OK, thanks for the feedback.",CloseInvitation:"Would you like to close the chat window? - ",AskAnotherInvitation:"Ask another question if you would like to. Otherwise, an agent will be with you shortly.",RephraseInvitation:"If your rephrase your question we can try searching again.",NoDocumentsFound:"There are no documents matching your question.",FeedbackQuestion:"Was this helpful?",FeedbackAccept:"Yes",FeedbackDecline:"No",FeedbackCommentMotivation:"Please, leave a comment.",FeedbackSubmitButton:"Submit comment",SearchMessage:'Search with query "<%SearchQuery%>"',VisitMessage:'Visit for document "<%VisitQuery%>"',AnsweredMessage:'Results for query "<%AnsweredQuery%>" have been marked as relevant.',UnansweredMessage:'Results for query "<%UnansweredQuery%>" have been marked as unanswered.',VotePositive:"Positive",VoteNegative:"Negative",VoteMessage:'voting for document "<%VoteQuery%>"',CommentCommitMessage:"Thanks, your feedback has been submitted.",Modified:"Modified",Views:"Views",Rating:"Rating"}),define("text!plugins/cx-knowledge-center/html/deflected-document.html",[],function(){return'<div class="cx-knowledge-center">\r\n\r\n    <div class="metadata">\r\n        <span class="item" title="<%= i18n.Modified %>">\r\n            <span class="icon-clock" aria-hidden="true"></span>\r\n            <span><%= document.modified.substring(0, 10) %></span>\r\n        </span>\r\n\r\n        <span class="item" title="<%= i18n.Views %>">\r\n            <span class="icon-inspect" aria-hidden="true"></span>\r\n            <span><%= document.additional.visits %></span>\r\n        </span>\r\n\r\n        <% if(document.additional.avgRate !== 0) { %>\r\n        <span class="item" title="<%= i18n.Rating %>">\r\n            <span class="icon-stars" aria-hidden="true"></span>\r\n            <span><%= document.additional.avgRate.toPrecision(3) %></span>\r\n        </span>\r\n        <% } %>\r\n    </div>\r\n\r\n    <div class="description">\r\n        <%=raw document.answerContent || document.descriptionContent %>\r\n    </div>\r\n\r\n    <% if (Object.keys(document.customFields).length !== 0) { %>\r\n    <div class="custom-fields">\r\n        <% Object.keys(document.customFields).forEach(function (name) { %>\r\n        <% if (document.customFields[name]){ %>\r\n        <div><strong><%= name %>: </strong><%= document.customFields[name] %></div>\r\n        <% } %>\r\n        <% }.bind(this)) %>\r\n    </div>\r\n    <% } %>\r\n\r\n    <% if (document.attachments && document.attachments.length > 0) { %>\r\n    <div class="attachments">\r\n        <% document.attachments.forEach(function(item) { %>\r\n        <div>\r\n            <a href="<%= item.url %>" target="_blank"><%= item.fileName %></a>\r\n        </div>\r\n        <% }.bind(this)) %>\r\n    </div>\r\n    <% } %>\r\n\r\n    <div class="feedback">\r\n        <% if (query) { %>\r\n        <div class="vote-question">\r\n            <%= i18n.FeedbackQuestion %> \r\n            <a href="javascript:;" data-relevant="true"><%= i18n.FeedbackAccept %></a> /\r\n            <a href="javascript:;" data-relevant="false"><%= i18n.FeedbackDecline %></a>\r\n        </div>\r\n        <% } %>\r\n\r\n        <div class="publish-feedback <%= query ? \'quiet\' : \'\' %>">\r\n            <div class="star-rating enable">\r\n                <span class="icon-star-outline"></span>\r\n                <span class="icon-star-outline"></span>\r\n                <span class="icon-star-outline"></span>\r\n                <span class="icon-star-outline"></span>\r\n                <span class="icon-star-outline"></span>\r\n            </div>\r\n            <div class="publish-comment">\r\n                <textarea class="form-control" placeholder="<%= i18n.FeedbackCommentMotivation %>"></textarea>\r\n                <div class="publish-comment-buttons">\r\n                    <button class="btn btn-default btn-sm" data-contribution="true"><%= i18n.FeedbackSubmitButton %></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n'}),define("cx-knowledge-center",["jquery","template","cx-bus","cx-common","./plugins/cx-knowledge-center/js/api-mapper","./plugins/cx-knowledge-center/nls/string","text!./plugins/cx-knowledge-center/html/deflected-document.html"],function(a,b,c,d,e,f,g){"use strict";function h(a){m.registerCommand(a,function(b){i(e[a](b.data),b)})}function i(a,b){a.done(function(a){b.deferred.resolve(a)}).fail(function(a){b.deferred.reject(a)})}function j(c,h){var i="gkc_welcome",j="gkc_search",l="gkc_visit",m="gkc_unanswered",n="gkc_answered",o="gkc_vote";c.subscribe("WebChat.ready",function(){function p(e){function q(h){function i(d,e,h){c.command("KnowledgeCenter.getFullContent",{kbId:e,docId:d}).done(function(l){function m(){var a=u.find(".publish-comment textarea"),b=u.find(".star-rating"),c=u.find(".publish-comment-buttons");c.toggle(!!b.attr("data-rating")&&!!a.val()),k(r)}var n,q=b(g,{document:l,query:h,i18n:f})+"<style> .cx-titlebar { width: 950px } .cx-knowledge-center { max-height: "+(window.innerHeight-280)+"px; } </style>",s=l.question||l.title,t=a("<div>").html(q),u=t.find(".feedback");t.find(".gkc-doc-link").click(function(){var a=this.getAttribute("data-docid"),b=this.getAttribute("data-kbid");i(a,b,null)}),t.find(".cx-knowledge-center .vote-question a").click(function(){var b=a(this);u.find(".vote-question").hide(),u.find(".publish-feedback").show(),k(r);var d={docId:l.id,kbId:e,query:h,relevant:b.data("relevant")};c.command("KnowledgeCenter.vote",d).done(function(a){n=a.recordId}),p(a.extend({key:o,question:l.question||l.title},d))}),u.find(".star-rating.enable span").mouseover(function(){var b=a(this);b.prevAll().addBack().removeClass("icon-star-outline").addClass("icon-stars"),b.nextAll().removeClass("icon-stars").addClass("icon-star-outline")}),u.find(".star-rating.enable").mouseleave(function(){var b=a(this),c=b.attr("data-rating");b.children().attr("class","icon-star-outline"),c&&b.find(":lt("+c+")").removeClass("icon-star-outline").addClass("icon-stars")}),u.find(".star-rating.enable span").click(function(){var b=a(this);b.parent().attr("data-rating",b.index()+1),m()}),u.find(".publish-comment textarea").keyup(function(){m()}),u.find(".publish-comment-buttons button").click(function(){var a=u.find(".publish-feedback textarea"),b=u.find(".star-rating"),g=a.val(),h=+b.attr("data-rating");n?c.command("KnowledgeCenter.addRating",{voteId:n,comment:g,rating:h}):c.command("KnowledgeCenter.rating",{docId:d,kbId:e,comment:g,rating:h}),u.find(".publish-feedback").hide(),u.append(f.CommentCommitMessage)}),j(s,t)})}function j(a,b){var e=d.Generate.Container({type:"overlay",title:a,body:b,icon:!1,controls:"close",buttons:!0});r=b.parents(".cx-body"),e.find(".cx-button-close").click(function(){c.command("Overlay.close")}),c.command("Overlay.open",{html:e,immutable:!1})}var q=e.query;h.find(".gkc-question-link").click(function(){var b=a(this),c=b.attr("data-id"),d=b.attr("data-kbid");p({key:l,docId:c,kbId:d,query:q,question:b.text()}),i(c,d,e.query)}),h.find(".gkc-unanswered a").click(function(b){var d=a(b.currentTarget),e=d.parent(),g=+d.attr("data-rel");g?(e.html(a("<div>").addClass("gkc-close").text(f.UnansweredPositive+" "+f.CloseInvitation).append(a("<a>").attr("href","javascript:;").text(f.FeedbackAccept))).after(a("<div>").text(f.AskAnotherInvitation)),h.find(".gkc-close a").click(function(){c.command("WebChat.endChat",{}),c.command("WebChat.close",{})}),p({key:n,question:q})):(e.text(f.UnansweredNegative),e.after(a("<div>").text(f.RephraseInvitation)),c.command("KnowledgeCenter.noAnswer",{question:q}),p({key:m,question:q}))});var r}var r,s;switch(e.key){case i:r=e.message;break;case j:var t=e.documents;if(t&&t.length>0){r=a("<div>").addClass("gkc-search-message").text(f.SearchResult).get(0).outerHTML,t.forEach(function(b){var c=a("<a>").addClass("gkc-question-link").attr("href","javascript:;").attr("data-id",b.id).attr("data-kbid",b.kbId).text(b.question||b.title);r+=a("<div>").addClass("gkc-question").append(c).get(0).outerHTML});var u=a("<div>").addClass("gkc-unanswered").text(f.UnansweredQuestion).append(a("<a>").attr("href","javascript:;").attr("data-rel",1).text(f.FeedbackAccept)).append(" / ").append(a("<a>").attr("href","javascript:;").attr("data-rel",0).text(f.FeedbackDecline));r+=u.get(0).outerHTML}else r=f.NoDocumentsFound+"<br />"+f.RephraseInvitation;"readable"===h.agentTranscript?(s="Knowledge Center: "+f.SearchMessage.replace("<%SearchQuery%>",e.query),t.forEach(function(a){s+="  "+a.question||a.title})):s=JSON.stringify(e);break;case l:s="readable"===h.agentTranscript?"Knowledge Center: "+f.VisitMessage.replace("<%VisitQuery%>",e.question):JSON.stringify(e);break;case m:s="readable"===h.agentTranscript?"Knowledge Center: "+f.UnansweredMessage.replace("<%UnansweredQuery%>",e.question):JSON.stringify(e);break;case n:s="readable"===h.agentTranscript?"Knowledge Center: "+f.AnsweredMessage.replace("<%AnsweredQuery%>",e.question):JSON.stringify(e);break;case o:"readable"===h.agentTranscript?(s="Knowledge Center: "+(e.relevant?f.VotePositive:f.VoteNegative)+" ",s+=f.VoteMessage.replace("<%VoteQuery%>",e.question)):s=JSON.stringify(e)}if(r){var v={type:"html",name:f.KnowledgeAgentName,text:r};c.command("WebChat.injectMessage",v).done(q)}s&&c.command("WebChat.sendFilteredMessage",{text:s,regex:/gkc_/})}var q=0,r=!1;c.subscribe("WebChatService.started",function(){var b=h.customerIdToken;if(b){var c=a("#cx_webchat_form_"+b).val();e.initialize({customerId:c})}}),c.subscribe("WebChatService.messageReceived",function(a){var b=a.data.messages;b.forEach(function(a){if(r||"ParticipantJoined"!==a.type){if(!r&&"Message"===a.type&&"Client"===a.from.type){var b=a.text;c.command("KnowledgeCenter.search",{query:b}).done(function(a){var c=a.documents.map(function(a){return{id:a.id,kbId:a.kbId,question:a.question||a.title}});p({key:j,query:b,documents:c}),q++})}}else p({key:i,message:f.WelcomeMessage})})}),c.subscribe("WebChatService.agentConnected",function(){r=!0}),c.subscribe("WebChat.closed",function(){r=!1}),c.subscribe("WebChat.opened",function(){c.command("WebChat.addPrefilter",{filters:[/gkc_/,/Knowledge Center: /]})})})}function k(a){return a.stop().animate({scrollTop:a.get(0).scrollHeight},500)}var l={maxTrendingResults:5,maxSearchResults:3},m=c.registerPlugin("KnowledgeCenter");m&&(m.subscribe("App.i18n",function(b){"object"==typeof b.data.knowledgecenter&&a.extend(f,b.data.knowledgecenter)}),m.registerCommand("configure",function(b){l=a.extend({},l,b.data),e.initialize({host:l.host,knowledgebases:l.knowledgebases,lang:l.lang,media:l.media,apiClientId:l.apiClientId,apiClientMediaType:l.apiClientMediaType}),e.ping().done(function(){m.republish("online"),l.deflection&&j(m,l.deflection)})}),m.registerCommand("getTrending",function(a){i(e.getTrending({size:l.maxTrendingResults}),a)}),m.registerCommand("search",function(a){i(e.search({query:a.data.query,size:l.maxSearchResults}),a)}),h("getCategories"),h("getFullContent"),h("visit"),h("vote"),h("rating"),h("addRating"),h("noAnswer"),h("suggestions"),m.subscribe("App.ready",function(a){a.data.knowledgecenter&&m.command("configure",a.data.knowledgecenter)}),m.republish("ready"))}),define("cx-stats-service",["jquery","cx-bus"],function(a,b){"use strict";var c=b.registerPlugin("StatsService");if(c){var d,e={ewt:{}},f={iAjaxTimeout:3e3,ewt:{dataURL:"",iApiKey:""}},g=function(b,c,d){var e=a.Deferred();return a.ajax({url:b,type:c,crossDomain:!0,data:d,timeout:f.iAjaxTimeout,headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(a){f.ewt.iApiKey&&a.setRequestHeader("apikey",f.ewt.iApiKey)},success:function(a){e.resolve(a||{})},error:function(a){e.reject(a||{})}}),e.promise()};c.registerCommand("configure",function(a){if(a.data){var b=a.data,c=f;"object"==typeof b.ewt&&("string"==typeof b.ewt.dataURL&&(c.ewt.dataURL=b.ewt.dataURL),("string"==typeof b.ewt.apikey||"number"==typeof b.ewt.apikey)&&(c.ewt.iApiKey=b.ewt.apikey),"number"==typeof b.ajaxTimeout&&(c.iAjaxTimeout=b.ajaxTimeout)),a.deferred.resolve()}else a.deferred.reject({error:"Invalid configuration"})}),c.registerCommand("getStats",function(b){if(b.data.group){var h=b.data.group,i=b.data.vqname;switch(h){case"EWT":f.ewt.dataURL?(d=f.ewt.dataURL+(i?"?name="+i:""),g(d,"GET").done(function(d){a.isEmptyObject(d)?b.deferred.reject({}):(i?e.ewt[i]=d:e.ewt=d,c.publish("updated",e),b.deferred.resolve(e.ewt[i]))}).fail(function(a){c.publish("error.ewt",a),b.deferred.reject("EWT request failed due to unknown reason")})):b.deferred.reject({error:"Invalid EWT configuration"})}}else b.deferred.reject({error:"Invalid Stats vqname configuration"})}),c.subscribe("App.ready",function(a){a.data.stats&&c.command("configure",a.data.stats)}),c.republish("ready")}}),define("cx-callback-service",["jquery","cx-bus","uri"],function(a,b,c){"use strict";var d=b.registerPlugin("CallbackService");if(d){var e={},f={dataURL:"",iAjaxTimeout:3e3,apiKey:""},g={postHttp:function(b,c){var d="AaB03x",e="",g=a.Deferred();return a.each(c,function(a,b){"UNDEFINED"!=b&&(e+="--"+d+'\r\nContent-Disposition: form-data; name="'+a+'"\r\n\r\n'+b+"\r\n")}),""!=e&&(e+="--"+d),a.ajax({url:b,data:e,crossDomain:!0,dataType:"json",contentType:"multipart/form-data;boundary="+d+";charset=UTF-8",processData:!1,type:"POST",beforeSend:function(a){f.iApiKey&&a.setRequestHeader("apikey",f.iApiKey)},success:function(a){g.resolve(a||{})},error:function(a){g.reject(a||{})}}),g.promise()},getHttp:function(b){var c=a.Deferred();return a.ajax({url:b,dataType:"json",type:"GET",crossDomain:!0,beforeSend:function(a){f.iApiKey&&a.setRequestHeader("apikey",f.iApiKey)},success:function(a){c.resolve(a||{})},error:function(a){c.reject(a||{})}}),c.promise()}};d.registerCommand("schedule",function(b){a.isEmptyObject(b.data)||(e=b.data);var c={};e.firstName&&(c.first_name=e.firstName),e.lastName&&(c.last_name=e.lastName),e.customerNumber&&(c._customer_number=e.customerNumber),e.subject&&(c.Subject=e.subject),e.desiredTime&&(c._desired_time=e.desiredTime),e.callDirection&&(c._call_direction=e.callDirection),e.waitForAgent&&(c._wait_for_agent=e.waitForAgent),e.waitForUserConfirm&&(c._wait_for_user_confirm=e.waitForUserConfirm),e.mediaType&&(c._media_type=e.mediaType),e.callbackState&&(c._callback_state=e.callbackState),e.ursVirtualQueue&&(c._urs_virtual_queue=e.ursVirtualQueue),g.postHttp(f.dataURL,c).done(function(a){d.publish("scheduled",a),b.deferred.resolve(a)}).fail(function(a){d.publish("error.schedule",a),b.deferred.reject(a)})}),d.registerCommand("availability",function(b){if(a.isEmptyObject(b.data))b.deferred.reject("No query parameters passed for callback availability service");else{var e=f.dataURL+"/availability",h=b.data;e=new c(e),h.startDate&&e.addSearch("start",h.startDate),h.numberOfDays&&e.addSearch("number-of-days",h.numberOfDays),h.endDate&&e.addSearch("end",h.endDate),h.maxTimeSlots&&e.addSearch("max-time-slots",h.maxTimeSlots),g.getHttp(e).done(function(a){d.publish("availableSlots",a),b.deferred.resolve(a)}).fail(function(a){d.publish("error.availability",a),b.deferred.reject(a)})}}),d.registerCommand("configure",function(b){if(b.data){var c=b.data,d=f;"object"==typeof c&&("string"==typeof c.dataURL&&(d.dataURL=c.dataURL),("string"==typeof c.apikey||"number"==typeof c.apikey)&&(d.iApiKey=c.apikey),"number"==typeof c.ajaxTimeout&&(d.iAjaxTimeout=c.ajaxTimeout),"object"==typeof c.userData&&a.extend(e,c.userData)),b.deferred.resolve()}else b.deferred.reject({error:"Invalid configuration"})}),d.subscribe("App.ready",function(a){a.data.callback&&d.command("configure",a.data.callback)}),d.publish("ready")}});