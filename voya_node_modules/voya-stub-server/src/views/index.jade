html
    head
        title= 'Mock Services'
        link(rel='stylesheet', type='text/css', href='/services/static/bootstrap.css')
        link(rel='stylesheet', type='text/css', href='/services/static/main.css')
        script(type='text/javascript', src='/services/static/jquery.min.js')
        script(type='text/javascript', src='/services/static/main.js')
    body
        body
            div(class='navbar navbar-default')
                form(method='get',action='/services/setEnvironment',class='navbar-form pull-left',id="environment-form")
                    div(class='input-group')
                        select(class='form-control',name='name')
                            for val, environment in environments
                                option(value=environment,selected=environment == activeEnvironment)=environment
                form(method='get',action='/services/setPreset',class='navbar-form pull-left')
                    div(class='input-group')
                        select(class='form-control',name='name')
                            option='--'
                            for val, preset in presets
                                option(value=preset)=preset
                        div(class='input-group-btn')
                            button(type='submit',class='btn btn-default')='Apply Preset'
                form(method='get',action='/services/reset',class='navbar-form pull-right')
                    button(type='submit',class='btn btn-warning')='Reset Stubs'
                form(method='post',action='/services/createPreset',class='navbar-form pull-right')
                    div(class='input-group')
                        input(type='text',class='form-control',placeholder='Name this preset',name='name')
                        div(class='input-group-btn')
                            button(id='',type='submit',class='btn btn-primary')='Save Config As Preset'

            div(class='panel panel-default')
                div(class='panel-body')
                    table(class='table table-striped')
                        thead
                            tr
                                th= 'Route'
                                th(width='30%')= 'GET'
                                th(width='30%')= 'POST'
                        tbody
                            each stubs, route in routes
                                tr
                                    td
                                        a(href=route)=route.replace('evoyaenroll/rest', '...')
                                    td
                                        if stubs['GET']
                                            select(class='form-control','data-route'=route,'data-method'='GET')
                                                each stub in stubs['GET'].stubs
                                                    option(value=stub,selected=stub==stubs['GET'].active)= stub
                                    td
                                        if stubs['POST']
                                            select(class='form-control','data-route'=route,'data-method'='POST')
                                                each stub in stubs['POST'].stubs
                                                    option(value=stub,selected=stub == stubs['POST'].active)= stub
